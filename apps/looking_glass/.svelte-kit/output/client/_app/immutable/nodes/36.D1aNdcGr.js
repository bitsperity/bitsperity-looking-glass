import{S as W,i as X,s as Y,d as y,B as Z,r as $,v as ee,w as te,y as w,b as x,c as u,C as le,q as M,m,e as b,f as C,o as H,h as E,D as se,j as k,k as V,E as ne,p as ae,n as re,a as U,g as N,t as j,u as R}from"../chunks/BeOz57Dq.js";import{e as q}from"../chunks/D_ZdN6Q8.js";import"../chunks/IHki7fMi.js";import{C as ie}from"../chunks/UxnmsV0t.js";import{M as oe}from"../chunks/il2daQFk.js";function G(r,e,s){const a=r.slice();return a[12]=e[s][0],a[13]=e[s][1],a}function J(r,e,s){const a=r.slice();return a[16]=e[s],a}function ue(r){let e,s,a=Object.keys(r[4].bucketed||{}).length+"",c,v,p,i,d=q(Object.entries(r[4].bucketed||{})),n=[];for(let t=0;t<d.length;t+=1)n[t]=Q(G(r,d,t));return{c(){e=k("div"),s=k("div"),c=j(a),v=j(" days"),p=V(),i=k("div");for(let t=0;t<n.length;t+=1)n[t].c();this.h()},l(t){e=b(t,"DIV",{class:!0});var o=C(e);s=b(o,"DIV",{class:!0});var l=C(s);c=N(l,a),v=N(l," days"),l.forEach(y),p=E(o),i=b(o,"DIV",{class:!0});var h=C(i);for(let f=0;f<n.length;f+=1)n[f].l(h);h.forEach(y),o.forEach(y),this.h()},h(){m(s,"class","text-sm text-neutral-400"),m(i,"class","space-y-2 max-h-[60vh] overflow-auto"),m(e,"class","space-y-4")},m(t,o){x(t,e,o),u(e,s),u(s,c),u(s,v),u(e,p),u(e,i);for(let l=0;l<n.length;l+=1)n[l]&&n[l].m(i,null)},p(t,o){if(o&16&&a!==(a=Object.keys(t[4].bucketed||{}).length+"")&&U(c,a),o&16){d=q(Object.entries(t[4].bucketed||{}));let l;for(l=0;l<d.length;l+=1){const h=G(t,d,l);n[l]?n[l].p(h,o):(n[l]=Q(h),n[l].c(),n[l].m(i,null))}for(;l<n.length;l+=1)n[l].d(1);n.length=d.length}},d(t){t&&y(e),R(n,t)}}}function ce(r){let e,s;return{c(){e=k("div"),s=j(r[6]),this.h()},l(a){e=b(a,"DIV",{class:!0});var c=C(e);s=N(c,r[6]),c.forEach(y),this.h()},h(){m(e,"class","text-red-400")},m(a,c){x(a,e,c),u(e,s)},p(a,c){c&64&&U(s,a[6])},d(a){a&&y(e)}}}function de(r){let e,s="Loading…";return{c(){e=k("div"),e.textContent=s,this.h()},l(a){e=b(a,"DIV",{class:!0,"data-svelte-h":!0}),H(e)!=="svelte-186sx6p"&&(e.textContent=s),this.h()},h(){m(e,"class","text-neutral-400")},m(a,c){x(a,e,c)},p:re,d(a){a&&y(e)}}}function K(r){let e,s,a=r[16].type+"",c,v,p=r[16].status+"",i,d,n,t=r[16].title+"",o,l;return{c(){e=k("div"),s=k("div"),c=j(a),v=j(" · "),i=j(p),d=V(),n=k("div"),o=j(t),l=V(),this.h()},l(h){e=b(h,"DIV",{class:!0});var f=C(e);s=b(f,"DIV",{class:!0});var D=C(s);c=N(D,a),v=N(D," · "),i=N(D,p),D.forEach(y),d=E(f),n=b(f,"DIV",{class:!0});var O=C(n);o=N(O,t),O.forEach(y),l=E(f),f.forEach(y),this.h()},h(){m(s,"class","text-xs text-neutral-400"),m(n,"class","font-semibold"),m(e,"class","text-sm")},m(h,f){x(h,e,f),u(e,s),u(s,c),u(s,v),u(s,i),u(e,d),u(e,n),u(n,o),u(e,l)},p(h,f){f&16&&a!==(a=h[16].type+"")&&U(c,a),f&16&&p!==(p=h[16].status+"")&&U(i,p),f&16&&t!==(t=h[16].title+"")&&U(o,t)},d(h){h&&y(e)}}}function Q(r){let e,s,a=r[12]+"",c,v,p,i,d=q(r[13]),n=[];for(let t=0;t<d.length;t+=1)n[t]=K(J(r,d,t));return{c(){e=k("div"),s=k("div"),c=j(a),v=V(),p=k("div");for(let t=0;t<n.length;t+=1)n[t].c();i=V(),this.h()},l(t){e=b(t,"DIV",{class:!0});var o=C(e);s=b(o,"DIV",{class:!0});var l=C(s);c=N(l,a),l.forEach(y),v=E(o),p=b(o,"DIV",{class:!0});var h=C(p);for(let f=0;f<n.length;f+=1)n[f].l(h);h.forEach(y),i=E(o),o.forEach(y),this.h()},h(){m(s,"class","text-sm text-neutral-400"),m(p,"class","grid grid-cols-1 md:grid-cols-2 gap-2 mt-2"),m(e,"class","bg-neutral-900 rounded p-4 border border-neutral-800")},m(t,o){x(t,e,o),u(e,s),u(s,c),u(e,v),u(e,p);for(let l=0;l<n.length;l+=1)n[l]&&n[l].m(p,null);u(e,i)},p(t,o){if(o&16&&a!==(a=t[12]+"")&&U(c,a),o&16){d=q(t[13]);let l;for(l=0;l<d.length;l+=1){const h=J(t,d,l);n[l]?n[l].p(h,o):(n[l]=K(h),n[l].c(),n[l].m(p,null))}for(;l<n.length;l+=1)n[l].d(1);n.length=d.length}},d(t){t&&y(e),R(n,t)}}}function fe(r){let e,s,a="Manifold · Timeline",c,v,p,i,d,n,t,o,l,h,f,D,O,L="Apply",B,S,A,z;v=new oe({});function F(_,g){if(_[5])return de;if(_[6])return ce;if(_[4])return ue}let P=F(r),I=P&&P(r);return{c(){e=k("div"),s=k("h1"),s.textContent=a,c=V(),ne(v.$$.fragment),p=V(),i=k("div"),d=k("input"),n=V(),t=k("input"),o=V(),l=k("input"),h=V(),f=k("input"),D=V(),O=k("button"),O.textContent=L,B=V(),I&&I.c(),this.h()},l(_){e=b(_,"DIV",{class:!0});var g=C(e);s=b(g,"H1",{class:!0,"data-svelte-h":!0}),H(s)!=="svelte-1uv052w"&&(s.textContent=a),c=E(g),se(v.$$.fragment,g),p=E(g),i=b(g,"DIV",{class:!0});var T=C(i);d=b(T,"INPUT",{class:!0,placeholder:!0}),n=E(T),t=b(T,"INPUT",{class:!0,placeholder:!0}),o=E(T),l=b(T,"INPUT",{class:!0,placeholder:!0}),h=E(T),f=b(T,"INPUT",{class:!0,placeholder:!0}),T.forEach(y),D=E(g),O=b(g,"BUTTON",{class:!0,"data-svelte-h":!0}),H(O)!=="svelte-ym1rsn"&&(O.textContent=L),B=E(g),I&&I.l(g),g.forEach(y),this.h()},h(){m(s,"class","text-2xl font-semibold"),m(d,"class","px-3 py-2 rounded bg-neutral-800"),m(d,"placeholder","type (optional)"),m(t,"class","px-3 py-2 rounded bg-neutral-800"),m(t,"placeholder","tickers (comma)"),m(l,"class","px-3 py-2 rounded bg-neutral-800"),m(l,"placeholder","from_dt (ISO)"),m(f,"class","px-3 py-2 rounded bg-neutral-800"),m(f,"placeholder","to_dt (ISO)"),m(i,"class","grid grid-cols-1 md:grid-cols-4 gap-2"),m(O,"class","px-3 py-2 rounded bg-indigo-600 hover:bg-indigo-500"),m(e,"class","p-6 space-y-4 h-full overflow-auto")},m(_,g){x(_,e,g),u(e,s),u(e,c),le(v,e,null),u(e,p),u(e,i),u(i,d),w(d,r[0]),u(i,n),u(i,t),w(t,r[1]),u(i,o),u(i,l),w(l,r[2]),u(i,h),u(i,f),w(f,r[3]),u(e,D),u(e,O),u(e,B),I&&I.m(e,null),S=!0,A||(z=[M(d,"input",r[8]),M(t,"input",r[9]),M(l,"input",r[10]),M(f,"input",r[11]),M(O,"click",r[7])],A=!0)},p(_,[g]){g&1&&d.value!==_[0]&&w(d,_[0]),g&2&&t.value!==_[1]&&w(t,_[1]),g&4&&l.value!==_[2]&&w(l,_[2]),g&8&&f.value!==_[3]&&w(f,_[3]),P===(P=F(_))&&I?I.p(_,g):(I&&I.d(1),I=P&&P(_),I&&(I.c(),I.m(e,null)))},i(_){S||(te(v.$$.fragment,_),S=!0)},o(_){ee(v.$$.fragment,_),S=!1},d(_){_&&y(e),Z(v),I&&I.d(),A=!1,$(z)}}}function he(r,e,s){let a="",c="",v="",p="",i=null,d=!1,n=null;async function t(){s(5,d=!0),s(6,n=null),s(4,i=null);try{s(4,i=await ie({type:a||void 0,tickers:c||void 0,from_dt:v||void 0,to_dt:p||void 0}))}catch(D){s(6,n=(D==null?void 0:D.message)??"Error")}finally{s(5,d=!1)}}ae(t);function o(){a=this.value,s(0,a)}function l(){c=this.value,s(1,c)}function h(){v=this.value,s(2,v)}function f(){p=this.value,s(3,p)}return[a,c,v,p,i,d,n,t,o,l,h,f]}class be extends W{constructor(e){super(),X(this,e,he,fe,Y,{})}}export{be as component};
