import{S as ut,i as dt,s as vt,d as c,v as ce,w as ae,a as z,z as Me,b as B,c as i,q as Je,m as d,e as v,f as g,g as T,h as N,o as Q,j as _,t as w,k as D,l as _t,p as pt,B as it,C as rt,D as ot,E as ft,n as ht,u as ct,N as ue,A as qe}from"../chunks/BeOz57Dq.js";import{e as Ve}from"../chunks/D_ZdN6Q8.js";import"../chunks/IHki7fMi.js";import{p as mt}from"../chunks/B-cyMrXP.js";import{c as gt}from"../chunks/CG6lULoT.js";import{S as bt}from"../chunks/BjHaTlr3.js";import{C as kt}from"../chunks/Du_eEk-g.js";function ze(n,e,t){const s=n.slice();return s[12]=e[t],s}function Le(n,e,t){const s=n.slice();s[15]=e[t],s[23]=t;const a=s[15].type==="message";s[16]=a;const l=s[15].type==="toolCall";s[17]=l;const r=`${s[12].number}-msg-${s[15].index}`;s[18]=r;const f=`${s[12].number}-tool-${s[15].index}`;s[19]=f;const o=s[16]&&(s[15].message_type==="system"||s[15].message_type==="rules");s[20]=o;const u=s[16]?s[4].has(s[18]):s[3].has(s[19]);return s[21]=u,s}function He(n){let e,t;return e=new bt({props:{status:n[0].meta.status}}),{c(){ft(e.$$.fragment)},l(s){ot(e.$$.fragment,s)},m(s,a){rt(e,s,a),t=!0},p(s,a){const l={};a&1&&(l.status=s[0].meta.status),e.$set(l)},i(s){t||(ae(e.$$.fragment,s),t=!0)},o(s){ce(e.$$.fragment,s),t=!1},d(s){it(e,s)}}}function Ke(n){let e,t,s,a="Model",l,r,f=(n[0].meta.model||"‚ùå Unknown")+"",o,u,p,h,m="Tokens",A,P,b,R=ee(n[0].tokens.total)+"",J,L,M,$,I=ee(n[0].tokens.input)+"",y,E,k=ee(n[0].tokens.output)+"",U,C,S,O,F,X="Cost",V,j,H,x,W,q,te="Duration",Ie,re,ve=de(n[0].meta.durationSeconds?n[0].meta.durationSeconds*1e3:void 0)+"",me,ge,Z,se,_e=n[0].execution.turnsCompleted+"",be,ye,pe=n[0].execution.turnsTotal+"",ke,Te,ne,je="turns completed",we,le,$e,he=n[0].execution.totalToolCalls+"",Ce,Oe,Y;return H=new kt({props:{cost:n[0].cost.usd}}),{c(){e=_("div"),t=_("div"),s=_("span"),s.textContent=a,l=D(),r=_("span"),o=w(f),u=D(),p=_("div"),h=_("span"),h.textContent=m,A=D(),P=_("span"),b=_("span"),J=w(R),L=D(),M=_("span"),$=w("("),y=w(I),E=w(" in / "),U=w(k),C=w(" out)"),S=D(),O=_("div"),F=_("span"),F.textContent=X,V=D(),j=_("span"),ft(H.$$.fragment),x=D(),W=_("div"),q=_("span"),q.textContent=te,Ie=D(),re=_("span"),me=w(ve),ge=D(),Z=_("div"),se=_("span"),be=w(_e),ye=w("/"),ke=w(pe),Te=D(),ne=_("span"),ne.textContent=je,we=D(),le=_("span"),$e=w("¬∑ "),Ce=w(he),Oe=w(" tool calls"),this.h()},l(K){e=v(K,"DIV",{class:!0});var G=g(e);t=v(G,"DIV",{class:!0});var ie=g(t);s=v(ie,"SPAN",{class:!0,"data-svelte-h":!0}),Q(s)!=="svelte-mlm8oo"&&(s.textContent=a),l=N(ie),r=v(ie,"SPAN",{class:!0});var Re=g(r);o=T(Re,f),Re.forEach(c),ie.forEach(c),u=N(G),p=v(G,"DIV",{class:!0});var Ee=g(p);h=v(Ee,"SPAN",{class:!0,"data-svelte-h":!0}),Q(h)!=="svelte-14j1f9l"&&(h.textContent=m),A=N(Ee),P=v(Ee,"SPAN",{class:!0});var Se=g(P);b=v(Se,"SPAN",{class:!0});var Ue=g(b);J=T(Ue,R),Ue.forEach(c),L=N(Se),M=v(Se,"SPAN",{class:!0});var oe=g(M);$=T(oe,"("),y=T(oe,I),E=T(oe," in / "),U=T(oe,k),C=T(oe," out)"),oe.forEach(c),Se.forEach(c),Ee.forEach(c),S=N(G),O=v(G,"DIV",{class:!0});var Ne=g(O);F=v(Ne,"SPAN",{class:!0,"data-svelte-h":!0}),Q(F)!=="svelte-bxfu0i"&&(F.textContent=X),V=N(Ne),j=v(Ne,"SPAN",{class:!0});var Fe=g(j);ot(H.$$.fragment,Fe),Fe.forEach(c),Ne.forEach(c),x=N(G),W=v(G,"DIV",{class:!0});var De=g(W);q=v(De,"SPAN",{class:!0,"data-svelte-h":!0}),Q(q)!=="svelte-3yx9i7"&&(q.textContent=te),Ie=N(De),re=v(De,"SPAN",{class:!0});var Be=g(re);me=T(Be,ve),Be.forEach(c),De.forEach(c),G.forEach(c),ge=N(K),Z=v(K,"DIV",{class:!0});var fe=g(Z);se=v(fe,"SPAN",{class:!0});var Ae=g(se);be=T(Ae,_e),ye=T(Ae,"/"),ke=T(Ae,pe),Ae.forEach(c),Te=N(fe),ne=v(fe,"SPAN",{class:!0,"data-svelte-h":!0}),Q(ne)!=="svelte-we5ows"&&(ne.textContent=je),we=N(fe),le=v(fe,"SPAN",{class:!0});var Pe=g(le);$e=T(Pe,"¬∑ "),Ce=T(Pe,he),Oe=T(Pe," tool calls"),Pe.forEach(c),fe.forEach(c),this.h()},h(){d(s,"class","label svelte-661sf1"),d(r,"class","value svelte-661sf1"),d(t,"class","meta-item svelte-661sf1"),d(h,"class","label svelte-661sf1"),d(b,"class","token-display svelte-661sf1"),d(M,"class","detail svelte-661sf1"),d(P,"class","value svelte-661sf1"),d(p,"class","meta-item svelte-661sf1"),d(F,"class","label svelte-661sf1"),d(j,"class","value svelte-661sf1"),d(O,"class","meta-item svelte-661sf1"),d(q,"class","label svelte-661sf1"),d(re,"class","value svelte-661sf1"),d(W,"class","meta-item svelte-661sf1"),d(e,"class","meta-info svelte-661sf1"),d(se,"class","turns-count svelte-661sf1"),d(ne,"class","summary-text svelte-661sf1"),d(le,"class","tool-count svelte-661sf1"),d(Z,"class","summary svelte-661sf1")},m(K,G){B(K,e,G),i(e,t),i(t,s),i(t,l),i(t,r),i(r,o),i(e,u),i(e,p),i(p,h),i(p,A),i(p,P),i(P,b),i(b,J),i(P,L),i(P,M),i(M,$),i(M,y),i(M,E),i(M,U),i(M,C),i(e,S),i(e,O),i(O,F),i(O,V),i(O,j),rt(H,j,null),i(e,x),i(e,W),i(W,q),i(W,Ie),i(W,re),i(re,me),B(K,ge,G),B(K,Z,G),i(Z,se),i(se,be),i(se,ye),i(se,ke),i(Z,Te),i(Z,ne),i(Z,we),i(Z,le),i(le,$e),i(le,Ce),i(le,Oe),Y=!0},p(K,G){(!Y||G&1)&&f!==(f=(K[0].meta.model||"‚ùå Unknown")+"")&&z(o,f),(!Y||G&1)&&R!==(R=ee(K[0].tokens.total)+"")&&z(J,R),(!Y||G&1)&&I!==(I=ee(K[0].tokens.input)+"")&&z(y,I),(!Y||G&1)&&k!==(k=ee(K[0].tokens.output)+"")&&z(U,k);const ie={};G&1&&(ie.cost=K[0].cost.usd),H.$set(ie),(!Y||G&1)&&ve!==(ve=de(K[0].meta.durationSeconds?K[0].meta.durationSeconds*1e3:void 0)+"")&&z(me,ve),(!Y||G&1)&&_e!==(_e=K[0].execution.turnsCompleted+"")&&z(be,_e),(!Y||G&1)&&pe!==(pe=K[0].execution.turnsTotal+"")&&z(ke,pe),(!Y||G&1)&&he!==(he=K[0].execution.totalToolCalls+"")&&z(Ce,he)},i(K){Y||(ae(H.$$.fragment,K),Y=!0)},o(K){ce(H.$$.fragment,K),Y=!1},d(K){K&&(c(e),c(ge),c(Z)),it(H)}}}function Ct(n){let e,t=Ve(n[0].turns||[]),s=[];for(let a=0;a<t.length;a+=1)s[a]=at(ze(n,t,a));return{c(){e=_("div");for(let a=0;a<s.length;a+=1)s[a].c();this.h()},l(a){e=v(a,"DIV",{class:!0});var l=g(e);for(let r=0;r<s.length;r+=1)s[r].l(l);l.forEach(c),this.h()},h(){d(e,"class","chat-container svelte-661sf1")},m(a,l){B(a,e,l);for(let r=0;r<s.length;r+=1)s[r]&&s[r].m(e,null)},p(a,l){if(l&409){t=Ve(a[0].turns||[]);let r;for(r=0;r<t.length;r+=1){const f=ze(a,t,r);s[r]?s[r].p(f,l):(s[r]=at(f),s[r].c(),s[r].m(e,null))}for(;r<s.length;r+=1)s[r].d(1);s.length=t.length}},d(a){a&&c(e),ct(s,a)}}}function Et(n){let e,t;return{c(){e=_("div"),t=w(n[2]),this.h()},l(s){e=v(s,"DIV",{class:!0});var a=g(e);t=T(a,n[2]),a.forEach(c),this.h()},h(){d(e,"class","error-box svelte-661sf1")},m(s,a){B(s,e,a),i(e,t)},p(s,a){a&4&&z(t,s[2])},d(s){s&&c(e)}}}function St(n){let e,t="Loading run details...";return{c(){e=_("div"),e.textContent=t,this.h()},l(s){e=v(s,"DIV",{class:!0,"data-svelte-h":!0}),Q(e)!=="svelte-1hscqqs"&&(e.textContent=t),this.h()},h(){d(e,"class","loading svelte-661sf1")},m(s,a){B(s,e,a)},p:ht,d(s){s&&c(e)}}}function Ge(n){let e,t,s="‚è±Ô∏è",a,l,r="Duration",f,o,u=de(n[12].duration.ms)+"",p;return{c(){e=_("div"),t=_("span"),t.textContent=s,a=D(),l=_("span"),l.textContent=r,f=D(),o=_("span"),p=w(u),this.h()},l(h){e=v(h,"DIV",{class:!0});var m=g(e);t=v(m,"SPAN",{class:!0,"data-svelte-h":!0}),Q(t)!=="svelte-335ctw"&&(t.textContent=s),a=N(m),l=v(m,"SPAN",{class:!0,"data-svelte-h":!0}),Q(l)!=="svelte-9jy4sj"&&(l.textContent=r),f=N(m),o=v(m,"SPAN",{class:!0});var A=g(o);p=T(A,u),A.forEach(c),m.forEach(c),this.h()},h(){d(t,"class","metadata-icon svelte-661sf1"),d(l,"class","metadata-label svelte-661sf1"),d(o,"class","metadata-value svelte-661sf1"),d(e,"class","metadata-badge svelte-661sf1")},m(h,m){B(h,e,m),i(e,t),i(e,a),i(e,l),i(e,f),i(e,o),i(o,p)},p(h,m){m&1&&u!==(u=de(h[12].duration.ms)+"")&&z(p,u)},d(h){h&&c(e)}}}function Qe(n){let e,t,s="üìä",a,l,r="Input",f,o,u=ee(n[12].tokens.input)+"",p;return{c(){e=_("div"),t=_("span"),t.textContent=s,a=D(),l=_("span"),l.textContent=r,f=D(),o=_("span"),p=w(u),this.h()},l(h){e=v(h,"DIV",{class:!0});var m=g(e);t=v(m,"SPAN",{class:!0,"data-svelte-h":!0}),Q(t)!=="svelte-lq4nvv"&&(t.textContent=s),a=N(m),l=v(m,"SPAN",{class:!0,"data-svelte-h":!0}),Q(l)!=="svelte-45u36f"&&(l.textContent=r),f=N(m),o=v(m,"SPAN",{class:!0});var A=g(o);p=T(A,u),A.forEach(c),m.forEach(c),this.h()},h(){d(t,"class","metadata-icon svelte-661sf1"),d(l,"class","metadata-label svelte-661sf1"),d(o,"class","metadata-value svelte-661sf1"),d(e,"class","metadata-badge svelte-661sf1")},m(h,m){B(h,e,m),i(e,t),i(e,a),i(e,l),i(e,f),i(e,o),i(o,p)},p(h,m){m&1&&u!==(u=ee(h[12].tokens.input)+"")&&z(p,u)},d(h){h&&c(e)}}}function We(n){let e,t,s="üì§",a,l,r="Output",f,o,u=ee(n[12].tokens.output)+"",p;return{c(){e=_("div"),t=_("span"),t.textContent=s,a=D(),l=_("span"),l.textContent=r,f=D(),o=_("span"),p=w(u),this.h()},l(h){e=v(h,"DIV",{class:!0});var m=g(e);t=v(m,"SPAN",{class:!0,"data-svelte-h":!0}),Q(t)!=="svelte-pdbxrx"&&(t.textContent=s),a=N(m),l=v(m,"SPAN",{class:!0,"data-svelte-h":!0}),Q(l)!=="svelte-x5gbc"&&(l.textContent=r),f=N(m),o=v(m,"SPAN",{class:!0});var A=g(o);p=T(A,u),A.forEach(c),m.forEach(c),this.h()},h(){d(t,"class","metadata-icon svelte-661sf1"),d(l,"class","metadata-label svelte-661sf1"),d(o,"class","metadata-value svelte-661sf1"),d(e,"class","metadata-badge svelte-661sf1")},m(h,m){B(h,e,m),i(e,t),i(e,a),i(e,l),i(e,f),i(e,o),i(o,p)},p(h,m){m&1&&u!==(u=ee(h[12].tokens.output)+"")&&z(p,u)},d(h){h&&c(e)}}}function Xe(n){let e,t,s="üíµ",a,l,r="Cost",f,o,u,p=n[12].cost.toFixed(4)+"",h;return{c(){e=_("div"),t=_("span"),t.textContent=s,a=D(),l=_("span"),l.textContent=r,f=D(),o=_("span"),u=w("$"),h=w(p),this.h()},l(m){e=v(m,"DIV",{class:!0});var A=g(e);t=v(A,"SPAN",{class:!0,"data-svelte-h":!0}),Q(t)!=="svelte-szn79y"&&(t.textContent=s),a=N(A),l=v(A,"SPAN",{class:!0,"data-svelte-h":!0}),Q(l)!=="svelte-1cnbxc4"&&(l.textContent=r),f=N(A),o=v(A,"SPAN",{class:!0});var P=g(o);u=T(P,"$"),h=T(P,p),P.forEach(c),A.forEach(c),this.h()},h(){d(t,"class","metadata-icon svelte-661sf1"),d(l,"class","metadata-label svelte-661sf1"),d(o,"class","metadata-value svelte-661sf1"),d(e,"class","metadata-badge svelte-661sf1")},m(m,A){B(m,e,A),i(e,t),i(e,a),i(e,l),i(e,f),i(e,o),i(o,u),i(o,h)},p(m,A){A&1&&p!==(p=m[12].cost.toFixed(4)+"")&&z(h,p)},d(m){m&&c(e)}}}function Nt(n){let e,t,s,a=n[21]?"‚ñº":"‚ñ∂",l,r,f,o=(n[15].name||"Unknown Tool")+"",u,p,h,m,A,P,b=new Date(n[15].timestamp).toLocaleTimeString()+"",R,J,L,M,$;function I(S,O){return S[15].status==="success"?Vt:S[15].status==="error"?Pt:At}let y=I(n),E=y(n),k=n[15].duration&&Ye(n);function U(){return n[10](n[19])}let C=n[21]&&Ze(n);return{c(){e=_("div"),t=_("button"),s=_("span"),l=w(a),r=D(),f=_("span"),u=w(o),p=D(),h=_("span"),E.c(),m=D(),k&&k.c(),A=D(),P=_("span"),R=w(b),J=D(),C&&C.c(),L=D(),this.h()},l(S){e=v(S,"DIV",{class:!0});var O=g(e);t=v(O,"BUTTON",{class:!0});var F=g(t);s=v(F,"SPAN",{class:!0});var X=g(s);l=T(X,a),X.forEach(c),r=N(F),f=v(F,"SPAN",{class:!0});var V=g(f);u=T(V,o),V.forEach(c),p=N(F),h=v(F,"SPAN",{class:!0});var j=g(h);E.l(j),j.forEach(c),m=N(F),k&&k.l(F),A=N(F),P=v(F,"SPAN",{class:!0});var H=g(P);R=T(H,b),H.forEach(c),F.forEach(c),J=N(O),C&&C.l(O),L=N(O),O.forEach(c),this.h()},h(){d(s,"class","expand-icon svelte-661sf1"),d(f,"class","tool-name svelte-661sf1"),d(h,"class","tool-status svelte-661sf1"),d(P,"class","tool-time svelte-661sf1"),d(t,"class","tool-call-trigger svelte-661sf1"),d(e,"class","tool-call-item timeline-tool svelte-661sf1")},m(S,O){B(S,e,O),i(e,t),i(t,s),i(s,l),i(t,r),i(t,f),i(f,u),i(t,p),i(t,h),E.m(h,null),i(t,m),k&&k.m(t,null),i(t,A),i(t,P),i(P,R),i(e,J),C&&C.m(e,null),i(e,L),M||($=Je(t,"click",U),M=!0)},p(S,O){n=S,O&25&&a!==(a=n[21]?"‚ñº":"‚ñ∂")&&z(l,a),O&1&&o!==(o=(n[15].name||"Unknown Tool")+"")&&z(u,o),y!==(y=I(n))&&(E.d(1),E=y(n),E&&(E.c(),E.m(h,null))),n[15].duration?k?k.p(n,O):(k=Ye(n),k.c(),k.m(t,A)):k&&(k.d(1),k=null),O&1&&b!==(b=new Date(n[15].timestamp).toLocaleTimeString()+"")&&z(R,b),n[21]?C?C.p(n,O):(C=Ze(n),C.c(),C.m(e,L)):C&&(C.d(1),C=null)},d(S){S&&c(e),E.d(),k&&k.d(),C&&C.d(),M=!1,$()}}}function Dt(n){let e;function t(l,r){return l[15].message_type==="system"||l[15].message_type==="rules"?yt:It}let s=t(n),a=s(n);return{c(){a.c(),e=ue()},l(l){a.l(l),e=ue()},m(l,r){a.m(l,r),B(l,e,r)},p(l,r){s===(s=t(l))&&a?a.p(l,r):(a.d(1),a=s(l),a&&(a.c(),a.m(e.parentNode,e)))},d(l){l&&c(e),a.d(l)}}}function At(n){let e,t="‚è≥";return{c(){e=_("span"),e.textContent=t,this.h()},l(s){e=v(s,"SPAN",{class:!0,"data-svelte-h":!0}),Q(e)!=="svelte-z3buux"&&(e.textContent=t),this.h()},h(){d(e,"class","status-badge pending svelte-661sf1")},m(s,a){B(s,e,a)},d(s){s&&c(e)}}}function Pt(n){let e,t="‚ùå";return{c(){e=_("span"),e.textContent=t,this.h()},l(s){e=v(s,"SPAN",{class:!0,"data-svelte-h":!0}),Q(e)!=="svelte-7pz1ur"&&(e.textContent=t),this.h()},h(){d(e,"class","status-badge error svelte-661sf1")},m(s,a){B(s,e,a)},d(s){s&&c(e)}}}function Vt(n){let e,t="‚úÖ";return{c(){e=_("span"),e.textContent=t,this.h()},l(s){e=v(s,"SPAN",{class:!0,"data-svelte-h":!0}),Q(e)!=="svelte-wzkckj"&&(e.textContent=t),this.h()},h(){d(e,"class","status-badge success svelte-661sf1")},m(s,a){B(s,e,a)},d(s){s&&c(e)}}}function Ye(n){let e,t=de(n[15].duration.ms)+"",s;return{c(){e=_("span"),s=w(t),this.h()},l(a){e=v(a,"SPAN",{class:!0});var l=g(e);s=T(l,t),l.forEach(c),this.h()},h(){d(e,"class","tool-duration svelte-661sf1")},m(a,l){B(a,e,l),i(e,s)},p(a,l){l&1&&t!==(t=de(a[15].duration.ms)+"")&&z(s,t)},d(a){a&&c(e)}}}function Ze(n){let e,t=n[15].args&&Object.keys(n[15].args).length>0,s,a,l=t&&xe(n),r=n[15].result&&et(n),f=n[15].error&&tt(n);return{c(){e=_("div"),l&&l.c(),s=D(),r&&r.c(),a=D(),f&&f.c(),this.h()},l(o){e=v(o,"DIV",{class:!0});var u=g(e);l&&l.l(u),s=N(u),r&&r.l(u),a=N(u),f&&f.l(u),u.forEach(c),this.h()},h(){d(e,"class","tool-details svelte-661sf1")},m(o,u){B(o,e,u),l&&l.m(e,null),i(e,s),r&&r.m(e,null),i(e,a),f&&f.m(e,null)},p(o,u){u&1&&(t=o[15].args&&Object.keys(o[15].args).length>0),t?l?l.p(o,u):(l=xe(o),l.c(),l.m(e,s)):l&&(l.d(1),l=null),o[15].result?r?r.p(o,u):(r=et(o),r.c(),r.m(e,a)):r&&(r.d(1),r=null),o[15].error?f?f.p(o,u):(f=tt(o),f.c(),f.m(e,null)):f&&(f.d(1),f=null)},d(o){o&&c(e),l&&l.d(),r&&r.d(),f&&f.d()}}}function xe(n){let e,t,s="Arguments:",a,l,r=JSON.stringify(JSON.parse(typeof n[15].args=="string"?n[15].args:JSON.stringify(n[15].args)),null,2)+"",f;return{c(){e=_("div"),t=_("div"),t.textContent=s,a=D(),l=_("pre"),f=w(r),this.h()},l(o){e=v(o,"DIV",{class:!0});var u=g(e);t=v(u,"DIV",{class:!0,"data-svelte-h":!0}),Q(t)!=="svelte-1hfw5kj"&&(t.textContent=s),a=N(u),l=v(u,"PRE",{class:!0});var p=g(l);f=T(p,r),p.forEach(c),u.forEach(c),this.h()},h(){d(t,"class","detail-label svelte-661sf1"),d(l,"class","detail-content svelte-661sf1"),d(e,"class","detail-section svelte-661sf1")},m(o,u){B(o,e,u),i(e,t),i(e,a),i(e,l),i(l,f)},p(o,u){u&1&&r!==(r=JSON.stringify(JSON.parse(typeof o[15].args=="string"?o[15].args:JSON.stringify(o[15].args)),null,2)+"")&&z(f,r)},d(o){o&&c(e)}}}function et(n){let e,t,s="Result:",a,l,r=JSON.stringify(JSON.parse(typeof n[15].result=="string"?n[15].result:JSON.stringify(n[15].result)),null,2)+"",f;return{c(){e=_("div"),t=_("div"),t.textContent=s,a=D(),l=_("pre"),f=w(r),this.h()},l(o){e=v(o,"DIV",{class:!0});var u=g(e);t=v(u,"DIV",{class:!0,"data-svelte-h":!0}),Q(t)!=="svelte-kyjn5o"&&(t.textContent=s),a=N(u),l=v(u,"PRE",{class:!0});var p=g(l);f=T(p,r),p.forEach(c),u.forEach(c),this.h()},h(){d(t,"class","detail-label svelte-661sf1"),d(l,"class","detail-content svelte-661sf1"),d(e,"class","detail-section svelte-661sf1")},m(o,u){B(o,e,u),i(e,t),i(e,a),i(e,l),i(l,f)},p(o,u){u&1&&r!==(r=JSON.stringify(JSON.parse(typeof o[15].result=="string"?o[15].result:JSON.stringify(o[15].result)),null,2)+"")&&z(f,r)},d(o){o&&c(e)}}}function tt(n){let e,t,s="Error:",a,l,r=n[15].error+"",f;return{c(){e=_("div"),t=_("div"),t.textContent=s,a=D(),l=_("pre"),f=w(r),this.h()},l(o){e=v(o,"DIV",{class:!0});var u=g(e);t=v(u,"DIV",{class:!0,"data-svelte-h":!0}),Q(t)!=="svelte-1byicmh"&&(t.textContent=s),a=N(u),l=v(u,"PRE",{class:!0});var p=g(l);f=T(p,r),p.forEach(c),u.forEach(c),this.h()},h(){d(t,"class","detail-label svelte-661sf1"),d(l,"class","detail-content svelte-661sf1"),d(e,"class","detail-section error svelte-661sf1")},m(o,u){B(o,e,u),i(e,t),i(e,a),i(e,l),i(l,f)},p(o,u){u&1&&r!==(r=o[15].error+"")&&z(f,r)},d(o){o&&c(e)}}}function It(n){let e,t,s,a,l,r,f=n[15].role==="assistant"?"Assistant":n[15].role==="user"?"User":"System",o,u,p,h=new Date(n[15].timestamp).toLocaleTimeString()+"",m,A,P,b=n[15].content+"",R,J,L;function M(y,E){return y[15].role==="assistant"?$t:y[15].role==="user"?wt:Tt}let $=M(n),I=$(n);return{c(){e=_("div"),t=_("div"),I.c(),s=D(),a=_("div"),l=_("div"),r=_("span"),o=w(f),u=D(),p=_("span"),m=w(h),A=D(),P=_("div"),R=w(b),J=D(),this.h()},l(y){e=v(y,"DIV",{class:!0});var E=g(e);t=v(E,"DIV",{class:!0});var k=g(t);I.l(k),k.forEach(c),s=N(E),a=v(E,"DIV",{class:!0});var U=g(a);l=v(U,"DIV",{class:!0});var C=g(l);r=v(C,"SPAN",{class:!0});var S=g(r);o=T(S,f),S.forEach(c),u=N(C),p=v(C,"SPAN",{class:!0});var O=g(p);m=T(O,h),O.forEach(c),C.forEach(c),A=N(U),P=v(U,"DIV",{class:!0});var F=g(P);R=T(F,b),F.forEach(c),U.forEach(c),J=N(E),E.forEach(c),this.h()},h(){d(t,"class","message-avatar svelte-661sf1"),d(r,"class","message-role svelte-661sf1"),d(p,"class","message-time svelte-661sf1"),d(l,"class","message-header svelte-661sf1"),d(P,"class","message-text svelte-661sf1"),d(a,"class","message-content svelte-661sf1"),d(e,"class",L="message "+n[15].role+"-message svelte-661sf1")},m(y,E){B(y,e,E),i(e,t),I.m(t,null),i(e,s),i(e,a),i(a,l),i(l,r),i(r,o),i(l,u),i(l,p),i(p,m),i(a,A),i(a,P),i(P,R),i(e,J)},p(y,E){$!==($=M(y))&&(I.d(1),I=$(y),I&&(I.c(),I.m(t,null))),E&1&&f!==(f=y[15].role==="assistant"?"Assistant":y[15].role==="user"?"User":"System")&&z(o,f),E&1&&h!==(h=new Date(y[15].timestamp).toLocaleTimeString()+"")&&z(m,h),E&1&&b!==(b=y[15].content+"")&&z(R,b),E&1&&L!==(L="message "+y[15].role+"-message svelte-661sf1")&&d(e,"class",L)},d(y){y&&c(e),I.d()}}}function yt(n){let e,t,s,a=n[21]?"‚ñº":"‚ñ∂",l,r,f,o=n[15].message_type==="system"?"‚öôÔ∏è System Prompt":"üìã Rules",u,p,h,m,A;function P(){return n[9](n[18])}let b=n[21]&&st(n);return{c(){e=_("div"),t=_("button"),s=_("span"),l=w(a),r=D(),f=_("span"),u=w(o),p=D(),b&&b.c(),h=D(),this.h()},l(R){e=v(R,"DIV",{class:!0});var J=g(e);t=v(J,"BUTTON",{class:!0});var L=g(t);s=v(L,"SPAN",{class:!0});var M=g(s);l=T(M,a),M.forEach(c),r=N(L),f=v(L,"SPAN",{class:!0});var $=g(f);u=T($,o),$.forEach(c),L.forEach(c),p=N(J),b&&b.l(J),h=N(J),J.forEach(c),this.h()},h(){d(s,"class","expand-icon svelte-661sf1"),d(f,"class","message-label svelte-661sf1"),d(t,"class","message-trigger svelte-661sf1"),d(e,"class","message-collapsible svelte-661sf1")},m(R,J){B(R,e,J),i(e,t),i(t,s),i(s,l),i(t,r),i(t,f),i(f,u),i(e,p),b&&b.m(e,null),i(e,h),m||(A=Je(t,"click",P),m=!0)},p(R,J){n=R,J&25&&a!==(a=n[21]?"‚ñº":"‚ñ∂")&&z(l,a),J&1&&o!==(o=n[15].message_type==="system"?"‚öôÔ∏è System Prompt":"üìã Rules")&&z(u,o),n[21]?b?b.p(n,J):(b=st(n),b.c(),b.m(e,h)):b&&(b.d(1),b=null)},d(R){R&&c(e),b&&b.d(),m=!1,A()}}}function Tt(n){let e;return{c(){e=w("‚öôÔ∏è")},l(t){e=T(t,"‚öôÔ∏è")},m(t,s){B(t,e,s)},d(t){t&&c(e)}}}function wt(n){let e;return{c(){e=w("üë§")},l(t){e=T(t,"üë§")},m(t,s){B(t,e,s)},d(t){t&&c(e)}}}function $t(n){let e;return{c(){e=w("ü§ñ")},l(t){e=T(t,"ü§ñ")},m(t,s){B(t,e,s)},d(t){t&&c(e)}}}function st(n){let e,t,s=n[15].content+"",a;return{c(){e=_("div"),t=_("div"),a=w(s),this.h()},l(l){e=v(l,"DIV",{class:!0});var r=g(e);t=v(r,"DIV",{class:!0});var f=g(t);a=T(f,s),f.forEach(c),r.forEach(c),this.h()},h(){d(t,"class","message-text svelte-661sf1"),d(e,"class","message-content collapsible svelte-661sf1")},m(l,r){B(l,e,r),i(e,t),i(t,a)},p(l,r){r&1&&s!==(s=l[15].content+"")&&z(a,s)},d(l){l&&c(e)}}}function lt(n){let e;function t(l,r){if(l[16])return Dt;if(l[17])return Nt}let s=t(n),a=s&&s(n);return{c(){a&&a.c(),e=ue()},l(l){a&&a.l(l),e=ue()},m(l,r){a&&a.m(l,r),B(l,e,r)},p(l,r){s===(s=t(l))&&a?a.p(l,r):(a&&a.d(1),a=s&&s(l),a&&(a.c(),a.m(e.parentNode,e)))},d(l){l&&c(e),a&&a.d(l)}}}function at(n){var O,F,X;let e,t,s,a,l,r,f=n[12].number+"",o,u,p,h=(n[12].name||"Turn")+"",m,A,P,b,R,J,L,M,$,I,y=((O=n[12].duration)==null?void 0:O.ms)&&Ge(n),E=((F=n[12].tokens)==null?void 0:F.input)!==void 0&&Qe(n),k=((X=n[12].tokens)==null?void 0:X.output)!==void 0&&We(n),U=n[12].cost!==void 0&&n[12].cost!==null&&Xe(n),C=Ve(nt(n[12].messages||[],n[12].toolCalls||[])),S=[];for(let V=0;V<C.length;V+=1)S[V]=lt(Le(n,C,V));return{c(){e=_("div"),t=_("div"),s=D(),a=_("div"),l=_("span"),r=w("Turn "),o=w(f),u=D(),p=_("span"),m=w(h),A=D(),P=_("div"),y&&y.c(),b=D(),E&&E.c(),R=D(),k&&k.c(),J=D(),U&&U.c(),L=D(),M=_("div"),$=D();for(let V=0;V<S.length;V+=1)S[V].c();I=ue(),this.h()},l(V){e=v(V,"DIV",{class:!0});var j=g(e);t=v(j,"DIV",{class:!0}),g(t).forEach(c),s=N(j),a=v(j,"DIV",{class:!0});var H=g(a);l=v(H,"SPAN",{class:!0});var x=g(l);r=T(x,"Turn "),o=T(x,f),x.forEach(c),u=N(H),p=v(H,"SPAN",{class:!0});var W=g(p);m=T(W,h),W.forEach(c),A=N(H),P=v(H,"DIV",{class:!0});var q=g(P);y&&y.l(q),b=N(q),E&&E.l(q),R=N(q),k&&k.l(q),J=N(q),U&&U.l(q),q.forEach(c),H.forEach(c),L=N(j),M=v(j,"DIV",{class:!0}),g(M).forEach(c),j.forEach(c),$=N(V);for(let te=0;te<S.length;te+=1)S[te].l(V);I=ue(),this.h()},h(){d(t,"class","separator-line svelte-661sf1"),d(l,"class","turn-number svelte-661sf1"),d(p,"class","turn-name svelte-661sf1"),d(P,"class","turn-metadata svelte-661sf1"),d(a,"class","separator-label svelte-661sf1"),d(M,"class","separator-line svelte-661sf1"),d(e,"class","turn-separator svelte-661sf1")},m(V,j){B(V,e,j),i(e,t),i(e,s),i(e,a),i(a,l),i(l,r),i(l,o),i(a,u),i(a,p),i(p,m),i(a,A),i(a,P),y&&y.m(P,null),i(P,b),E&&E.m(P,null),i(P,R),k&&k.m(P,null),i(P,J),U&&U.m(P,null),i(e,L),i(e,M),B(V,$,j);for(let H=0;H<S.length;H+=1)S[H]&&S[H].m(V,j);B(V,I,j)},p(V,j){var H,x,W;if(j&1&&f!==(f=V[12].number+"")&&z(o,f),j&1&&h!==(h=(V[12].name||"Turn")+"")&&z(m,h),(H=V[12].duration)!=null&&H.ms?y?y.p(V,j):(y=Ge(V),y.c(),y.m(P,b)):y&&(y.d(1),y=null),((x=V[12].tokens)==null?void 0:x.input)!==void 0?E?E.p(V,j):(E=Qe(V),E.c(),E.m(P,R)):E&&(E.d(1),E=null),((W=V[12].tokens)==null?void 0:W.output)!==void 0?k?k.p(V,j):(k=We(V),k.c(),k.m(P,J)):k&&(k.d(1),k=null),V[12].cost!==void 0&&V[12].cost!==null?U?U.p(V,j):(U=Xe(V),U.c(),U.m(P,null)):U&&(U.d(1),U=null),j&409){C=Ve(nt(V[12].messages||[],V[12].toolCalls||[]));let q;for(q=0;q<C.length;q+=1){const te=Le(V,C,q);S[q]?S[q].p(te,j):(S[q]=lt(te),S[q].c(),S[q].m(I.parentNode,I))}for(;q<S.length;q+=1)S[q].d(1);S.length=C.length}},d(V){V&&(c(e),c($),c(I)),y&&y.d(),E&&E.d(),k&&k.d(),U&&U.d(),ct(S,V)}}}function Ot(n){var U;let e,t,s,a,l,r=(((U=n[0])==null?void 0:U.meta.agent)||"Agent")+"",f,o,u,p,h,m,A,P="üîÑ Refresh",b,R,J,L,M,$=n[0]&&He(n),I=n[0]&&Ke(n);function y(C,S){if(C[1])return St;if(C[2])return Et;if(C[0])return Ct}let E=y(n),k=E&&E(n);return{c(){e=_("div"),t=_("div"),s=_("div"),a=_("div"),l=_("h1"),f=w(r),o=D(),$&&$.c(),u=D(),p=_("div"),h=w(n[5]),m=D(),A=_("button"),A.textContent=P,b=D(),I&&I.c(),R=D(),k&&k.c(),this.h()},l(C){e=v(C,"DIV",{class:!0});var S=g(e);t=v(S,"DIV",{class:!0});var O=g(t);s=v(O,"DIV",{class:!0});var F=g(s);a=v(F,"DIV",{class:!0});var X=g(a);l=v(X,"H1",{class:!0});var V=g(l);f=T(V,r),V.forEach(c),o=N(X),$&&$.l(X),X.forEach(c),u=N(F),p=v(F,"DIV",{class:!0});var j=g(p);h=T(j,n[5]),j.forEach(c),m=N(F),A=v(F,"BUTTON",{class:!0,"data-svelte-h":!0}),Q(A)!=="svelte-c2g2k2"&&(A.textContent=P),F.forEach(c),b=N(O),I&&I.l(O),O.forEach(c),R=N(S),k&&k.l(S),S.forEach(c),this.h()},h(){d(l,"class","svelte-661sf1"),d(a,"class","title-section svelte-661sf1"),d(p,"class","run-id svelte-661sf1"),d(A,"class","refresh-btn svelte-661sf1"),d(s,"class","header-top svelte-661sf1"),d(t,"class","header svelte-661sf1"),d(e,"class","run-details svelte-661sf1")},m(C,S){B(C,e,S),i(e,t),i(t,s),i(s,a),i(a,l),i(l,f),i(a,o),$&&$.m(a,null),i(s,u),i(s,p),i(p,h),i(s,m),i(s,A),i(t,b),I&&I.m(t,null),i(e,R),k&&k.m(e,null),J=!0,L||(M=Je(A,"click",n[6]),L=!0)},p(C,[S]){var O;(!J||S&1)&&r!==(r=(((O=C[0])==null?void 0:O.meta.agent)||"Agent")+"")&&z(f,r),C[0]?$?($.p(C,S),S&1&&ae($,1)):($=He(C),$.c(),ae($,1),$.m(a,null)):$&&(qe(),ce($,1,1,()=>{$=null}),Me()),C[0]?I?(I.p(C,S),S&1&&ae(I,1)):(I=Ke(C),I.c(),ae(I,1),I.m(t,null)):I&&(qe(),ce(I,1,1,()=>{I=null}),Me()),E===(E=y(C))&&k?k.p(C,S):(k&&k.d(1),k=E&&E(C),k&&(k.c(),k.m(e,null)))},i(C){J||(ae($),ae(I),J=!0)},o(C){ce($),ce(I),J=!1},d(C){C&&c(e),$&&$.d(),I&&I.d(),k&&k.d(),L=!1,M()}}}function nt(n,e){const t=[];return n.forEach((s,a)=>{t.push({type:"message",index:a,...s})}),e.forEach((s,a)=>{t.push({type:"toolCall",index:a,...s})}),t.sort((s,a)=>{const l=new Date(s.timestamp).getTime(),r=new Date(a.timestamp).getTime();return l-r}),t}function de(n){return!n||isNaN(n)?"N/A":n<1e3?`${Math.round(n)}ms`:n<6e4?`${(n/1e3).toFixed(1)}s`:`${(n/6e4).toFixed(1)}m`}function ee(n){return n?n>=1e6?`${(n/1e6).toFixed(1)}M`:n>=1e3?`${(n/1e3).toFixed(1)}K`:`${n}`:"0"}function Jt(n,e,t){let s;_t(n,mt,b=>t(11,s=b));let a=null,l=!0,r=null,f=new Set,o=new Set;const u=s.params.id;async function p(){try{const b=await gt.getRun(u);t(0,a=b),t(2,r=null)}catch(b){t(2,r=`Failed to load run: ${b.message}`),console.error("Error loading run:",b)}finally{t(1,l=!1)}}function h(b){f.has(b)?f.delete(b):f.add(b),t(3,f)}function m(b){o.has(b)?o.delete(b):o.add(b),t(4,o)}return pt(async()=>{await p()}),[a,l,r,f,o,u,p,h,m,b=>m(b),b=>h(b)]}class zt extends ut{constructor(e){super(),dt(this,e,Jt,Ot,vt,{})}}export{zt as component};
