import{S as Ee,i as we,s as Ie,d as h,B as fe,u as de,v as T,w as B,a as le,b as q,c as u,C as he,m as f,e as _,f as I,g as F,h as S,D as me,j as g,t as O,k as V,E as _e,n as Z,r as Le,z as oe,y as ae,x as Se,q as ue,o as X,p as Re,A as ce}from"../chunks/DnBpi1Qd.js";import{e as ne}from"../chunks/B5jFdsvg.js";import"../chunks/IHki7fMi.js";import{q as Be,t as Pe}from"../chunks/ClFG0zlK.js";import{C as Ne}from"../chunks/B-X8W3ki.js";function ve(a,e,n){const l=a.slice();return l[1]=e[n],l}function be(a){let e,n=a[1]+"",l;return{c(){e=g("span"),l=O(n),this.h()},l(t){e=_(t,"SPAN",{class:!0});var c=I(e);l=F(c,n),c.forEach(h),this.h()},h(){f(e,"class","text-xs bg-neutral-800 px-2 py-0.5 rounded text-neutral-300")},m(t,c){q(t,e,c),u(e,l)},p(t,c){c&1&&n!==(n=t[1]+"")&&le(l,n)},d(t){t&&h(e)}}}function Ae(a){let e;return{c(){e=O("- Present")},l(n){e=F(n,"- Present")},m(n,l){q(n,e,l)},p:Z,d(n){n&&h(e)}}}function He(a){let e,n=new Date(a[0].end_date).toLocaleDateString()+"",l;return{c(){e=O("- "),l=O(n)},l(t){e=F(t,"- "),l=F(t,n)},m(t,c){q(t,e,c),q(t,l,c)},p(t,c){c&1&&n!==(n=new Date(t[0].end_date).toLocaleDateString()+"")&&le(l,n)},d(t){t&&(h(e),h(l))}}}function xe(a){let e,n,l=Math.round(a[0].similarity_score*100)+"",t,c;return{c(){e=g("div"),n=O("Similarity: "),t=O(l),c=O("%"),this.h()},l(r){e=_(r,"DIV",{class:!0});var s=I(e);n=F(s,"Similarity: "),t=F(s,l),c=F(s,"%"),s.forEach(h),this.h()},h(){f(e,"class","text-xs text-neutral-600 mt-1")},m(r,s){q(r,e,s),u(e,n),u(e,t),u(e,c)},p(r,s){s&1&&l!==(l=Math.round(r[0].similarity_score*100)+"")&&le(t,l)},d(r){r&&h(e)}}}function Me(a){let e,n,l,t=a[0].type+"",c,r,s,i,d,x=a[0].name+"",z,C,y,U,P,L=new Date(a[0].start_date).toLocaleDateString()+"",N,H,ee,M;s=new Ne({props:{confidence:a[0].confidence}});let E=ne(a[0].characteristics),v=[];for(let o=0;o<E.length;o+=1)v[o]=be(ve(a,E,o));function j(o,m){return o[0].end_date?He:Ae}let A=j(a),R=A(a),k=a[0].similarity_score!=null&&xe(a);return{c(){e=g("div"),n=g("div"),l=g("span"),c=O(t),r=V(),_e(s.$$.fragment),i=V(),d=g("h3"),z=O(x),C=V(),y=g("div");for(let o=0;o<v.length;o+=1)v[o].c();U=V(),P=g("div"),N=O(L),H=V(),R.c(),ee=V(),k&&k.c(),this.h()},l(o){e=_(o,"DIV",{class:!0});var m=I(e);n=_(m,"DIV",{class:!0});var b=I(n);l=_(b,"SPAN",{class:!0});var $=I(l);c=F($,t),$.forEach(h),r=S(b),me(s.$$.fragment,b),b.forEach(h),i=S(m),d=_(m,"H3",{class:!0});var G=I(d);z=F(G,x),G.forEach(h),C=S(m),y=_(m,"DIV",{class:!0});var Y=I(y);for(let te=0;te<v.length;te+=1)v[te].l(Y);Y.forEach(h),U=S(m),P=_(m,"DIV",{class:!0});var J=I(P);N=F(J,L),H=S(J),R.l(J),J.forEach(h),ee=S(m),k&&k.l(m),m.forEach(h),this.h()},h(){f(l,"class","inline-block px-2 py-0.5 rounded text-xs font-medium bg-teal-800 text-teal-100"),f(n,"class","flex items-start justify-between mb-2"),f(d,"class","text-lg font-medium text-neutral-100 mb-1"),f(y,"class","flex flex-wrap gap-1 mt-2"),f(P,"class","text-xs text-neutral-500 mt-2"),f(e,"class","bg-neutral-900 rounded border border-neutral-800 p-4")},m(o,m){q(o,e,m),u(e,n),u(n,l),u(l,c),u(n,r),he(s,n,null),u(e,i),u(e,d),u(d,z),u(e,C),u(e,y);for(let b=0;b<v.length;b+=1)v[b]&&v[b].m(y,null);u(e,U),u(e,P),u(P,N),u(P,H),R.m(P,null),u(e,ee),k&&k.m(e,null),M=!0},p(o,[m]){(!M||m&1)&&t!==(t=o[0].type+"")&&le(c,t);const b={};if(m&1&&(b.confidence=o[0].confidence),s.$set(b),(!M||m&1)&&x!==(x=o[0].name+"")&&le(z,x),m&1){E=ne(o[0].characteristics);let $;for($=0;$<E.length;$+=1){const G=ve(o,E,$);v[$]?v[$].p(G,m):(v[$]=be(G),v[$].c(),v[$].m(y,null))}for(;$<v.length;$+=1)v[$].d(1);v.length=E.length}(!M||m&1)&&L!==(L=new Date(o[0].start_date).toLocaleDateString()+"")&&le(N,L),A===(A=j(o))&&R?R.p(o,m):(R.d(1),R=A(o),R&&(R.c(),R.m(P,null))),o[0].similarity_score!=null?k?k.p(o,m):(k=xe(o),k.c(),k.m(e,null)):k&&(k.d(1),k=null)},i(o){M||(B(s.$$.fragment,o),M=!0)},o(o){T(s.$$.fragment,o),M=!1},d(o){o&&h(e),fe(s),de(v,o),R.d(),k&&k.d()}}}function Te(a,e,n){let{regime:l}=e;return a.$$set=t=>{"regime"in t&&n(0,l=t.regime)},[l]}class Ve extends Ee{constructor(e){super(),we(this,e,Te,Me,Ie,{regime:0})}}function Ce(a,e,n){const l=a.slice();return l[9]=e[n],l}function ke(a,e,n){const l=a.slice();return l[9]=e[n],l}function qe(a){let e,n,l=ne(a[1]),t=[];for(let r=0;r<l.length;r+=1)t[r]=De(ke(a,l,r));const c=r=>T(t[r],1,1,()=>{t[r]=null});return{c(){e=g("div");for(let r=0;r<t.length;r+=1)t[r].c();this.h()},l(r){e=_(r,"DIV",{class:!0});var s=I(e);for(let i=0;i<t.length;i+=1)t[i].l(s);s.forEach(h),this.h()},h(){f(e,"class","grid grid-cols-1 md:grid-cols-2 gap-4")},m(r,s){q(r,e,s);for(let i=0;i<t.length;i+=1)t[i]&&t[i].m(e,null);n=!0},p(r,s){if(s&2){l=ne(r[1]);let i;for(i=0;i<l.length;i+=1){const d=ke(r,l,i);t[i]?(t[i].p(d,s),B(t[i],1)):(t[i]=De(d),t[i].c(),B(t[i],1),t[i].m(e,null))}for(ce(),i=l.length;i<t.length;i+=1)c(i);oe()}},i(r){if(!n){for(let s=0;s<l.length;s+=1)B(t[s]);n=!0}},o(r){t=t.filter(Boolean);for(let s=0;s<t.length;s+=1)T(t[s]);n=!1},d(r){r&&h(e),de(t,r)}}}function ze(a){let e,n="No current regimes found";return{c(){e=g("div"),e.textContent=n,this.h()},l(l){e=_(l,"DIV",{class:!0,"data-svelte-h":!0}),X(e)!=="svelte-1mwsibd"&&(e.textContent=n),this.h()},h(){f(e,"class","text-neutral-400")},m(l,t){q(l,e,t)},p:Z,i:Z,o:Z,d(l){l&&h(e)}}}function Ue(a){let e,n="Loading...";return{c(){e=g("div"),e.textContent=n,this.h()},l(l){e=_(l,"DIV",{class:!0,"data-svelte-h":!0}),X(e)!=="svelte-1o3c4uh"&&(e.textContent=n),this.h()},h(){f(e,"class","text-neutral-400")},m(l,t){q(l,e,t)},p:Z,i:Z,o:Z,d(l){l&&h(e)}}}function De(a){let e,n;return e=new Ve({props:{regime:a[9]}}),{c(){_e(e.$$.fragment)},l(l){me(e.$$.fragment,l)},m(l,t){he(e,l,t),n=!0},p(l,t){const c={};t&2&&(c.regime=l[9]),e.$set(c)},i(l){n||(B(e.$$.fragment,l),n=!0)},o(l){T(e.$$.fragment,l),n=!1},d(l){fe(e,l)}}}function $e(a){let e,n,l=ne(a[2]),t=[];for(let r=0;r<l.length;r+=1)t[r]=ye(Ce(a,l,r));const c=r=>T(t[r],1,1,()=>{t[r]=null});return{c(){e=g("div");for(let r=0;r<t.length;r+=1)t[r].c();this.h()},l(r){e=_(r,"DIV",{class:!0});var s=I(e);for(let i=0;i<t.length;i+=1)t[i].l(s);s.forEach(h),this.h()},h(){f(e,"class","grid grid-cols-1 md:grid-cols-2 gap-4")},m(r,s){q(r,e,s);for(let i=0;i<t.length;i+=1)t[i]&&t[i].m(e,null);n=!0},p(r,s){if(s&4){l=ne(r[2]);let i;for(i=0;i<l.length;i+=1){const d=Ce(r,l,i);t[i]?(t[i].p(d,s),B(t[i],1)):(t[i]=ye(d),t[i].c(),B(t[i],1),t[i].m(e,null))}for(ce(),i=l.length;i<t.length;i+=1)c(i);oe()}},i(r){if(!n){for(let s=0;s<l.length;s+=1)B(t[s]);n=!0}},o(r){t=t.filter(Boolean);for(let s=0;s<t.length;s+=1)T(t[s]);n=!1},d(r){r&&h(e),de(t,r)}}}function ye(a){let e,n;return e=new Ve({props:{regime:a[9]}}),{c(){_e(e.$$.fragment)},l(l){me(e.$$.fragment,l)},m(l,t){he(e,l,t),n=!0},p(l,t){const c={};t&4&&(c.regime=l[9]),e.$set(c)},i(l){n||(B(e.$$.fragment,l),n=!0)},o(l){T(e.$$.fragment,l),n=!1},d(l){fe(e,l)}}}function je(a){let e,n,l="Market Regimes",t,c,r,s="Current Regimes",i,d,x,z,C,y,U="Find Similar Historical Regimes",P,L,N,H,ee="Characteristics (comma-separated)",M,E,v,j,A,R="Limit",k,o,m,b,$="Search Similar",G,Y,J,te;const ge=[Ue,ze,qe],K=[];function pe(p,w){return p[0]&&p[1].length===0?0:p[1].length===0?1:2}d=pe(a),x=K[d]=ge[d](a);let D=a[2].length>0&&$e(a);return{c(){e=g("div"),n=g("h1"),n.textContent=l,t=V(),c=g("div"),r=g("h2"),r.textContent=s,i=V(),x.c(),z=V(),C=g("div"),y=g("h2"),y.textContent=U,P=V(),L=g("div"),N=g("div"),H=g("label"),H.textContent=ee,M=V(),E=g("input"),v=V(),j=g("div"),A=g("label"),A.textContent=R,k=V(),o=g("input"),m=V(),b=g("button"),b.textContent=$,G=V(),D&&D.c(),this.h()},l(p){e=_(p,"DIV",{class:!0});var w=I(e);n=_(w,"H1",{class:!0,"data-svelte-h":!0}),X(n)!=="svelte-z2ouri"&&(n.textContent=l),t=S(w),c=_(w,"DIV",{class:!0});var Q=I(c);r=_(Q,"H2",{class:!0,"data-svelte-h":!0}),X(r)!=="svelte-sbdip4"&&(r.textContent=s),i=S(Q),x.l(Q),Q.forEach(h),z=S(w),C=_(w,"DIV",{});var W=I(C);y=_(W,"H2",{class:!0,"data-svelte-h":!0}),X(y)!=="svelte-w1bvax"&&(y.textContent=U),P=S(W),L=_(W,"DIV",{class:!0});var re=I(L);N=_(re,"DIV",{});var ie=I(N);H=_(ie,"LABEL",{class:!0,"data-svelte-h":!0}),X(H)!=="svelte-4ohmcp"&&(H.textContent=ee),M=S(ie),E=_(ie,"INPUT",{type:!0,placeholder:!0,class:!0}),ie.forEach(h),v=S(re),j=_(re,"DIV",{});var se=I(j);A=_(se,"LABEL",{class:!0,"data-svelte-h":!0}),X(A)!=="svelte-1ninenc"&&(A.textContent=R),k=S(se),o=_(se,"INPUT",{type:!0,min:!0,max:!0,class:!0}),se.forEach(h),re.forEach(h),m=S(W),b=_(W,"BUTTON",{class:!0,"data-svelte-h":!0}),X(b)!=="svelte-mgm66z"&&(b.textContent=$),G=S(W),D&&D.l(W),W.forEach(h),w.forEach(h),this.h()},h(){f(n,"class","text-3xl font-bold text-neutral-100 mb-6"),f(r,"class","text-xl font-semibold text-neutral-200 mb-3"),f(c,"class","mb-8"),f(y,"class","text-xl font-semibold text-neutral-200 mb-3"),f(H,"class","block text-sm font-medium text-neutral-300 mb-1"),f(E,"type","text"),f(E,"placeholder","e.g., high_vol, bear, rate_uncertainty"),f(E,"class","w-full px-3 py-2 bg-neutral-900 border border-neutral-700 rounded text-neutral-100 focus:outline-none focus:border-indigo-500"),f(A,"class","block text-sm font-medium text-neutral-300 mb-1"),f(o,"type","number"),f(o,"min","1"),f(o,"max","20"),f(o,"class","w-full px-3 py-2 bg-neutral-900 border border-neutral-700 rounded text-neutral-100 focus:outline-none focus:border-indigo-500"),f(L,"class","mb-4 grid grid-cols-1 md:grid-cols-2 gap-3"),f(b,"class","px-4 py-2 rounded bg-indigo-600 hover:bg-indigo-500 text-white mb-6"),f(e,"class","max-w-7xl mx-auto p-6")},m(p,w){q(p,e,w),u(e,n),u(e,t),u(e,c),u(c,r),u(c,i),K[d].m(c,null),u(e,z),u(e,C),u(C,y),u(C,P),u(C,L),u(L,N),u(N,H),u(N,M),u(N,E),ae(E,a[3]),u(L,v),u(L,j),u(j,A),u(j,k),u(j,o),ae(o,a[4]),u(C,m),u(C,b),u(C,G),D&&D.m(C,null),Y=!0,J||(te=[ue(E,"input",a[6]),ue(o,"input",a[7]),ue(b,"click",a[5])],J=!0)},p(p,[w]){let Q=d;d=pe(p),d===Q?K[d].p(p,w):(ce(),T(K[Q],1,1,()=>{K[Q]=null}),oe(),x=K[d],x?x.p(p,w):(x=K[d]=ge[d](p),x.c()),B(x,1),x.m(c,null)),w&8&&E.value!==p[3]&&ae(E,p[3]),w&16&&Se(o.value)!==p[4]&&ae(o,p[4]),p[2].length>0?D?(D.p(p,w),w&4&&B(D,1)):(D=$e(p),D.c(),B(D,1),D.m(C,null)):D&&(ce(),T(D,1,1,()=>{D=null}),oe())},i(p){Y||(B(x),B(D),Y=!0)},o(p){T(x),T(D),Y=!1},d(p){p&&h(e),K[d].d(),D&&D.d(),J=!1,Le(te)}}}function Fe(a,e,n){let l=!1,t=[],c=[],r="",s=5;async function i(){n(0,l=!0);try{const C=await Be();n(1,t=C.regimes)}finally{n(0,l=!1)}}async function d(){if(r){n(0,l=!0);try{const C=r.split(",").map(U=>U.trim()).filter(U=>U),y=await Pe({characteristics:C,limit:s});n(2,c=y.regimes)}finally{n(0,l=!1)}}}Re(()=>{i()});function x(){r=this.value,n(3,r)}function z(){s=Se(this.value),n(4,s)}return[l,t,c,r,s,d,x,z]}class We extends Ee{constructor(e){super(),we(this,e,Fe,je,Ie,{})}}export{We as component};
