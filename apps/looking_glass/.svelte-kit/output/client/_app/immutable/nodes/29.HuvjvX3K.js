import{S as H,i as M,s as R,n as L,d as c,r as z,a as T,b as C,c as p,q as U,m as y,e as k,f as x,g as N,h as P,o as q,j as g,t as S,k as V,l as F,p as G,N as J}from"../chunks/DnBpi1Qd.js";import"../chunks/IHki7fMi.js";import{p as K}from"../chunks/6INZBkdj.js";import{p as Q,s as W}from"../chunks/BnvI_Nfc.js";function X(r){let e,t,s=JSON.stringify(r[1],null,2)+"",a,b,n,h="Sync back (demo)",i,_,E,m,o=r[5]&&j(r);return{c(){e=g("div"),t=g("pre"),a=S(s),b=V(),n=g("button"),n.textContent=h,i=V(),o&&o.c(),_=J(),this.h()},l(l){e=k(l,"DIV",{class:!0});var u=x(e);t=k(u,"PRE",{class:!0});var D=x(t);a=N(D,s),D.forEach(c),u.forEach(c),b=P(l),n=k(l,"BUTTON",{class:!0,"data-svelte-h":!0}),q(n)!=="svelte-1spcfrl"&&(n.textContent=h),i=P(l),o&&o.l(l),_=J(),this.h()},h(){y(t,"class","text-xs overflow-auto"),y(e,"class","bg-neutral-900 rounded p-4 border border-neutral-800"),y(n,"class","px-3 py-2 rounded bg-green-700 hover:bg-green-600")},m(l,u){C(l,e,u),p(e,t),p(t,a),C(l,b,u),C(l,n,u),C(l,i,u),o&&o.m(l,u),C(l,_,u),E||(m=U(n,"click",r[7]),E=!0)},p(l,u){u&2&&s!==(s=JSON.stringify(l[1],null,2)+"")&&T(a,s),l[5]?o?o.p(l,u):(o=j(l),o.c(),o.m(_.parentNode,_)):o&&(o.d(1),o=null)},d(l){l&&(c(e),c(b),c(n),c(i),c(_)),o&&o.d(l),E=!1,m()}}}function Y(r){let e,t;return{c(){e=g("div"),t=S(r[3]),this.h()},l(s){e=k(s,"DIV",{class:!0});var a=x(e);t=N(a,r[3]),a.forEach(c),this.h()},h(){y(e,"class","text-red-400")},m(s,a){C(s,e,a),p(e,t)},p(s,a){a&8&&T(t,s[3])},d(s){s&&c(e)}}}function Z(r){let e,t="Loading…";return{c(){e=g("div"),e.textContent=t,this.h()},l(s){e=k(s,"DIV",{class:!0,"data-svelte-h":!0}),q(e)!=="svelte-186sx6p"&&(e.textContent=t),this.h()},h(){y(e,"class","text-neutral-400")},m(s,a){C(s,e,a)},p:L,d(s){s&&c(e)}}}function j(r){let e,t;return{c(){e=g("div"),t=S(r[5]),this.h()},l(s){e=k(s,"DIV",{class:!0});var a=x(e);t=N(a,r[5]),a.forEach(c),this.h()},h(){y(e,"class","text-sm text-neutral-400")},m(s,a){C(s,e,a),p(e,t)},p(s,a){a&32&&T(t,s[5])},d(s){s&&c(e)}}}function $(r){let e,t,s,a,b,n,h,i,_,E,m,o="Prepare",l,u,D;function A(d,v){if(d[2])return Z;if(d[3])return Y;if(d[1])return X}let I=A(r),f=I&&I(r);return{c(){e=g("div"),t=g("h1"),s=S("Promote · "),a=S(r[0]),b=V(),n=g("div"),h=g("label"),i=g("input"),_=S(" auto_mark"),E=V(),m=g("button"),m.textContent=o,l=V(),f&&f.c(),this.h()},l(d){e=k(d,"DIV",{class:!0});var v=x(e);t=k(v,"H1",{class:!0});var O=x(t);s=N(O,"Promote · "),a=N(O,r[0]),O.forEach(c),b=P(v),n=k(v,"DIV",{class:!0});var w=x(n);h=k(w,"LABEL",{class:!0});var B=x(h);i=k(B,"INPUT",{type:!0}),_=N(B," auto_mark"),B.forEach(c),E=P(w),m=k(w,"BUTTON",{class:!0,"data-svelte-h":!0}),q(m)!=="svelte-1otowe2"&&(m.textContent=o),w.forEach(c),l=P(v),f&&f.l(v),v.forEach(c),this.h()},h(){y(t,"class","text-2xl font-semibold"),y(i,"type","checkbox"),y(h,"class","flex items-center gap-2 text-sm"),y(m,"class","px-3 py-2 rounded bg-indigo-600 hover:bg-indigo-500"),y(n,"class","flex items-center gap-2"),y(e,"class","p-6 space-y-4 h-full overflow-auto")},m(d,v){C(d,e,v),p(e,t),p(t,s),p(t,a),p(e,b),p(e,n),p(n,h),p(h,i),i.checked=r[4],p(h,_),p(n,E),p(n,m),p(e,l),f&&f.m(e,null),u||(D=[U(i,"change",r[9]),U(m,"click",r[6])],u=!0)},p(d,[v]){v&1&&T(a,d[0]),v&16&&(i.checked=d[4]),I===(I=A(d))&&f?f.p(d,v):(f&&f.d(1),f=I&&I(d),f&&(f.c(),f.m(e,null)))},i:L,o:L,d(d){d&&c(e),f&&f.d(),u=!1,z(D)}}}function ee(r,e,t){let s;F(r,K,l=>t(8,s=l));let a="",b=null,n=!0,h=null,i=!0,_=null;async function E(){t(2,n=!0),t(3,h=null),t(1,b=null);try{const l=await Q(a,{auto_mark:i});t(1,b=l.kg_payload)}catch(l){t(3,h=(l==null?void 0:l.message)??"Error")}finally{t(2,n=!1)}}async function m(){const l=await W({thought_id:a,status:"validated",ariadne_fact_id:"demo-fact-1",ariadne_entity_ids:[]});t(5,_=l.status)}G(E);function o(){i=this.checked,t(4,i)}return r.$$.update=()=>{r.$$.dirty&256&&t(0,a=s.params.id)},[a,b,n,h,i,_,E,m,s,o]}class re extends H{constructor(e){super(),M(this,e,ee,$,R,{})}}export{re as component};
