import{S as Ie,i as Oe,s as Se,d as b,u as Te,r as Le,v as ee,w as W,y as B,H as ne,z as Ee,b as K,c as r,q as se,m as C,J as ce,e as c,f as w,o as V,h as H,j as d,k as M,p as Pe,n as Q,g as F,t as Z,a as re,A as De,G as de,B as fe,C as he,D as pe,E as _e}from"../chunks/BeOz57Dq.js";import{e as ve}from"../chunks/D_ZdN6Q8.js";import"../chunks/IHki7fMi.js";import{g as $e}from"../chunks/D98msYD6.js";import{c as Ne}from"../chunks/CG6lULoT.js";import{S as Ae}from"../chunks/BjHaTlr3.js";import{C as Re}from"../chunks/Du_eEk-g.js";import{T as Ve}from"../chunks/CrwpqqyU.js";function xe(t,e,l){const n=t.slice();return n[15]=e[l],n[17]=l,n}function He(t,e,l){const n=t.slice();return n[18]=e[l],n}function Me(t){let e,l;return{c(){e=d("option"),l=Z(t[18]),this.h()},l(n){e=c(n,"OPTION",{});var y=w(e);l=F(y,t[18]),y.forEach(b),this.h()},h(){e.__value=t[18],B(e,e.__value)},m(n,y){K(n,e,y),r(e,l)},p:Q,d(n){n&&b(e)}}}function je(t){let e,l,n,y='<tr><th class="px-6 py-4 text-left font-bold text-neutral-300 uppercase tracking-wide text-xs">Agent</th> <th class="px-6 py-4 text-left font-bold text-neutral-300 uppercase tracking-wide text-xs">Status</th> <th class="px-6 py-4 text-left font-bold text-neutral-300 uppercase tracking-wide text-xs">Tokens</th> <th class="px-6 py-4 text-left font-bold text-neutral-300 uppercase tracking-wide text-xs">Cost</th> <th class="px-6 py-4 text-left font-bold text-neutral-300 uppercase tracking-wide text-xs">Created</th> <th class="px-6 py-4 text-left font-bold text-neutral-300 uppercase tracking-wide text-xs">Run ID</th></tr>',E,u,o,m,i,p,j="üìä",S,g=t[4].length+"",I,$,k=t[3].length+"",A,x,L,T=ve(t[4]),h=[];for(let s=0;s<T.length;s+=1)h[s]=Ce(xe(t,T,s));const G=s=>ee(h[s],1,1,()=>{h[s]=null});return{c(){e=d("div"),l=d("table"),n=d("thead"),n.innerHTML=y,E=M(),u=d("tbody");for(let s=0;s<h.length;s+=1)h[s].c();o=M(),m=d("div"),i=d("span"),p=d("span"),p.textContent=j,S=Z(`
        Zeige `),I=Z(g),$=Z(" von "),A=Z(k),x=Z(" Runs"),this.h()},l(s){e=c(s,"DIV",{class:!0});var f=w(e);l=c(f,"TABLE",{class:!0});var _=w(l);n=c(_,"THEAD",{class:!0,"data-svelte-h":!0}),V(n)!=="svelte-7h3co"&&(n.innerHTML=y),E=H(_),u=c(_,"TBODY",{class:!0});var P=w(u);for(let q=0;q<h.length;q+=1)h[q].l(P);P.forEach(b),_.forEach(b),f.forEach(b),o=H(s),m=c(s,"DIV",{class:!0});var D=w(m);i=c(D,"SPAN",{class:!0});var a=w(i);p=c(a,"SPAN",{class:!0,"data-svelte-h":!0}),V(p)!=="svelte-1jiqcq1"&&(p.textContent=j),S=F(a,`
        Zeige `),I=F(a,g),$=F(a," von "),A=F(a,k),x=F(a," Runs"),a.forEach(b),D.forEach(b),this.h()},h(){C(n,"class","bg-gradient-to-r from-neutral-800 to-neutral-900 border-b-2 border-neutral-600"),C(u,"class","divide-y divide-neutral-700/50"),C(l,"class","w-full text-sm"),C(e,"class","bg-gradient-to-br from-neutral-800 to-neutral-900 border border-neutral-700 rounded-xl overflow-hidden shadow-lg"),C(p,"class","text-lg"),C(i,"class","inline-flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-blue-900/30 to-blue-800/20 border border-blue-700/30 rounded-lg text-blue-400 font-medium"),C(m,"class","mt-6 flex items-center justify-center gap-2 text-sm")},m(s,f){K(s,e,f),r(e,l),r(l,n),r(l,E),r(l,u);for(let _=0;_<h.length;_+=1)h[_]&&h[_].m(u,null);K(s,o,f),K(s,m,f),r(m,i),r(i,p),r(i,S),r(i,I),r(i,$),r(i,A),r(i,x),L=!0},p(s,f){if(f&16){T=ve(s[4]);let _;for(_=0;_<T.length;_+=1){const P=xe(s,T,_);h[_]?(h[_].p(P,f),W(h[_],1)):(h[_]=Ce(P),h[_].c(),W(h[_],1),h[_].m(u,null))}for(De(),_=T.length;_<h.length;_+=1)G(_);Ee()}(!L||f&16)&&g!==(g=s[4].length+"")&&re(I,g),(!L||f&8)&&k!==(k=s[3].length+"")&&re(A,k)},i(s){if(!L){for(let f=0;f<T.length;f+=1)W(h[f]);L=!0}},o(s){h=h.filter(Boolean);for(let f=0;f<h.length;f+=1)ee(h[f]);L=!1},d(s){s&&(b(e),b(o),b(m)),Te(h,s)}}}function ze(t){let e,l='<div class="text-6xl mb-4 opacity-30">üì≠</div> <div class="text-2xl text-neutral-400 mb-2">Keine Runs gefunden</div> <div class="text-neutral-500">Versuche andere Filter-Einstellungen</div>';return{c(){e=d("div"),e.innerHTML=l,this.h()},l(n){e=c(n,"DIV",{class:!0,"data-svelte-h":!0}),V(e)!=="svelte-iauer3"&&(e.innerHTML=l),this.h()},h(){C(e,"class","bg-gradient-to-br from-neutral-800 to-neutral-900 border border-neutral-700 rounded-xl p-16 text-center shadow-lg")},m(n,y){K(n,e,y)},p:Q,i:Q,o:Q,d(n){n&&b(e)}}}function qe(t){let e,l,n="‚ö†Ô∏è",y,E,u;return{c(){e=d("div"),l=d("span"),l.textContent=n,y=M(),E=d("div"),u=Z(t[6]),this.h()},l(o){e=c(o,"DIV",{class:!0});var m=w(e);l=c(m,"SPAN",{class:!0,"data-svelte-h":!0}),V(l)!=="svelte-1sdyxu7"&&(l.textContent=n),y=H(m),E=c(m,"DIV",{class:!0});var i=w(E);u=F(i,t[6]),i.forEach(b),m.forEach(b),this.h()},h(){C(l,"class","text-3xl"),C(E,"class","flex-1 text-red-300 text-lg"),C(e,"class","bg-gradient-to-r from-red-900/40 to-red-800/30 border-2 border-red-600/50 rounded-xl p-6 shadow-lg shadow-red-900/30 flex items-center gap-3")},m(o,m){K(o,e,m),r(e,l),r(e,y),r(e,E),r(E,u)},p(o,m){m&64&&re(u,o[6])},i:Q,o:Q,d(o){o&&b(e)}}}function Be(t){let e,l='<div class="text-center"><div class="inline-block animate-spin text-5xl mb-4">‚öôÔ∏è</div> <div class="text-xl text-neutral-400 font-medium">Runs werden geladen...</div></div>';return{c(){e=d("div"),e.innerHTML=l,this.h()},l(n){e=c(n,"DIV",{class:!0,"data-svelte-h":!0}),V(e)!=="svelte-12pb8rd"&&(e.innerHTML=l),this.h()},h(){C(e,"class","flex items-center justify-center h-96")},m(n,y){K(n,e,y)},p:Q,i:Q,o:Q,d(n){n&&b(e)}}}function Ce(t){let e,l,n=t[15].agent+"",y,E,u,o,m,i,p,j,S,g,I,$,k=ye(t[15].created_at)+"",A,x,L,T=t[15].id.substring(0,8)+"",h,G,s,f,_;o=new Ae({props:{status:ke(t[15].status)}}),p=new Ve({props:{tokens:t[15].total_tokens}}),g=new Re({props:{cost:t[15].cost_usd,showDetail:!1}});function P(){return t[13](t[15])}return{c(){e=d("tr"),l=d("td"),y=Z(n),E=M(),u=d("td"),_e(o.$$.fragment),m=M(),i=d("td"),_e(p.$$.fragment),j=M(),S=d("td"),_e(g.$$.fragment),I=M(),$=d("td"),A=Z(k),x=M(),L=d("td"),h=Z(T),G=M(),this.h()},l(D){e=c(D,"TR",{class:!0});var a=w(e);l=c(a,"TD",{class:!0});var q=w(l);y=F(q,n),q.forEach(b),E=H(a),u=c(a,"TD",{class:!0});var J=w(u);pe(o.$$.fragment,J),J.forEach(b),m=H(a),i=c(a,"TD",{class:!0});var O=w(i);pe(p.$$.fragment,O),O.forEach(b),j=H(a),S=c(a,"TD",{class:!0});var N=w(S);pe(g.$$.fragment,N),N.forEach(b),I=H(a),$=c(a,"TD",{class:!0});var X=w($);A=F(X,k),X.forEach(b),x=H(a),L=c(a,"TD",{class:!0});var te=w(L);h=F(te,T),te.forEach(b),G=H(a),a.forEach(b),this.h()},h(){C(l,"class","px-6 py-4 font-bold text-white group-hover:text-blue-400 transition-colors"),C(u,"class","px-6 py-4"),C(i,"class","px-6 py-4 font-semibold text-blue-400"),C(S,"class","px-6 py-4 font-semibold text-emerald-400"),C($,"class","px-6 py-4 text-neutral-400 text-xs font-medium"),C(L,"class","px-6 py-4 text-neutral-400 font-mono text-xs"),C(e,"class","group hover:bg-gradient-to-r hover:from-blue-900/20 hover:to-transparent cursor-pointer transition-all duration-200 "+(t[17]%2===0?"bg-neutral-900/30":"bg-transparent"))},m(D,a){K(D,e,a),r(e,l),r(l,y),r(e,E),r(e,u),he(o,u,null),r(e,m),r(e,i),he(p,i,null),r(e,j),r(e,S),he(g,S,null),r(e,I),r(e,$),r($,A),r(e,x),r(e,L),r(L,h),r(e,G),s=!0,f||(_=se(e,"click",P),f=!0)},p(D,a){t=D,(!s||a&16)&&n!==(n=t[15].agent+"")&&re(y,n);const q={};a&16&&(q.status=ke(t[15].status)),o.$set(q);const J={};a&16&&(J.tokens=t[15].total_tokens),p.$set(J);const O={};a&16&&(O.cost=t[15].cost_usd),g.$set(O),(!s||a&16)&&k!==(k=ye(t[15].created_at)+"")&&re(A,k),(!s||a&16)&&T!==(T=t[15].id.substring(0,8)+"")&&re(h,T)},i(D){s||(W(o.$$.fragment,D),W(p.$$.fragment,D),W(g.$$.fragment,D),s=!0)},o(D){ee(o.$$.fragment,D),ee(p.$$.fragment,D),ee(g.$$.fragment,D),s=!1},d(D){D&&b(e),fe(o),fe(p),fe(g),f=!1,_()}}}function Fe(t){let e,l,n,y='<span class="text-2xl">üîç</span> <h3 class="text-lg font-bold text-white">Filter &amp; Suche</h3>',E,u,o,m,i,p,j="ü§ñ Alle Agents",S,g,I,$="üìä Alle Status",k,A="‚úÖ Success",x,L="‚ùå Error",T,h="‚öôÔ∏è Running",G,s,f,_="üìÖ Letzte 24h",P,D="üìÖ Letzte 7 Tage",a,q="üìÖ Letzte 30 Tage",J,O,N,X,te,ge,we=ve(["discovery","analyst_tech","validator"]),le=[];for(let v=0;v<3;v+=1)le[v]=Me(He(t,we,v));const be=[Be,qe,ze,je],U=[];function me(v,R){return v[5]?0:v[6]?1:v[4].length===0?2:3}return O=me(t),N=U[O]=be[O](t),{c(){e=d("div"),l=d("div"),n=d("div"),n.innerHTML=y,E=M(),u=d("div"),o=d("input"),m=M(),i=d("select"),p=d("option"),p.textContent=j;for(let v=0;v<3;v+=1)le[v].c();S=M(),g=d("select"),I=d("option"),I.textContent=$,k=d("option"),k.textContent=A,x=d("option"),x.textContent=L,T=d("option"),T.textContent=h,G=M(),s=d("select"),f=d("option"),f.textContent=_,P=d("option"),P.textContent=D,a=d("option"),a.textContent=q,J=M(),N.c(),this.h()},l(v){e=c(v,"DIV",{class:!0});var R=w(e);l=c(R,"DIV",{class:!0});var z=w(l);n=c(z,"DIV",{class:!0,"data-svelte-h":!0}),V(n)!=="svelte-wj301t"&&(n.innerHTML=y),E=H(z),u=c(z,"DIV",{class:!0});var Y=w(u);o=c(Y,"INPUT",{type:!0,placeholder:!0,class:!0}),m=H(Y),i=c(Y,"SELECT",{class:!0});var ie=w(i);p=c(ie,"OPTION",{"data-svelte-h":!0}),V(p)!=="svelte-wfc26a"&&(p.textContent=j);for(let ue=0;ue<3;ue+=1)le[ue].l(ie);ie.forEach(b),S=H(Y),g=c(Y,"SELECT",{class:!0});var ae=w(g);I=c(ae,"OPTION",{"data-svelte-h":!0}),V(I)!=="svelte-581gen"&&(I.textContent=$),k=c(ae,"OPTION",{"data-svelte-h":!0}),V(k)!=="svelte-z3t2ip"&&(k.textContent=A),x=c(ae,"OPTION",{"data-svelte-h":!0}),V(x)!=="svelte-17ta3c2"&&(x.textContent=L),T=c(ae,"OPTION",{"data-svelte-h":!0}),V(T)!=="svelte-1lkn4t4"&&(T.textContent=h),ae.forEach(b),G=H(Y),s=c(Y,"SELECT",{class:!0});var oe=w(s);f=c(oe,"OPTION",{"data-svelte-h":!0}),V(f)!=="svelte-1smim1h"&&(f.textContent=_),P=c(oe,"OPTION",{"data-svelte-h":!0}),V(P)!=="svelte-b2qifj"&&(P.textContent=D),a=c(oe,"OPTION",{"data-svelte-h":!0}),V(a)!=="svelte-yhotnz"&&(a.textContent=q),oe.forEach(b),Y.forEach(b),z.forEach(b),J=H(R),N.l(R),R.forEach(b),this.h()},h(){C(n,"class","flex items-center gap-3 mb-4"),C(o,"type","text"),C(o,"placeholder","üîç Run ID oder Agent suchen..."),C(o,"class","px-4 py-3 bg-neutral-900/70 border border-neutral-700 rounded-lg text-sm focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 transition-all placeholder-neutral-500"),p.__value="",B(p,p.__value),C(i,"class","px-4 py-3 bg-neutral-900/70 border border-neutral-700 rounded-lg text-sm focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 transition-all cursor-pointer"),t[1]===void 0&&ce(()=>t[10].call(i)),I.__value="",B(I,I.__value),k.__value="success",B(k,k.__value),x.__value="error",B(x,x.__value),T.__value="running",B(T,T.__value),C(g,"class","px-4 py-3 bg-neutral-900/70 border border-neutral-700 rounded-lg text-sm focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 transition-all cursor-pointer"),t[2]===void 0&&ce(()=>t[11].call(g)),f.__value=1,B(f,f.__value),P.__value=7,B(P,P.__value),a.__value=30,B(a,a.__value),C(s,"class","px-4 py-3 bg-neutral-900/70 border border-neutral-700 rounded-lg text-sm focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 transition-all cursor-pointer"),t[7]===void 0&&ce(()=>t[12].call(s)),C(u,"class","grid grid-cols-4 gap-4"),C(l,"class","bg-gradient-to-br from-neutral-800 to-neutral-900 border border-neutral-700 rounded-xl p-6 mb-8 shadow-lg"),C(e,"class","flex-1 overflow-auto px-8 pb-8")},m(v,R){K(v,e,R),r(e,l),r(l,n),r(l,E),r(l,u),r(u,o),B(o,t[0]),r(u,m),r(u,i),r(i,p);for(let z=0;z<3;z+=1)le[z]&&le[z].m(i,null);ne(i,t[1],!0),r(u,S),r(u,g),r(g,I),r(g,k),r(g,x),r(g,T),ne(g,t[2],!0),r(u,G),r(u,s),r(s,f),r(s,P),r(s,a),ne(s,t[7],!0),r(e,J),U[O].m(e,null),X=!0,te||(ge=[se(o,"input",t[9]),se(i,"change",t[10]),se(g,"change",t[11]),se(s,"change",t[12]),se(s,"change",t[8])],te=!0)},p(v,[R]){R&1&&o.value!==v[0]&&B(o,v[0]),R&2&&ne(i,v[1]),R&4&&ne(g,v[2]),R&128&&ne(s,v[7]);let z=O;O=me(v),O===z?U[O].p(v,R):(De(),ee(U[z],1,1,()=>{U[z]=null}),Ee(),N=U[O],N?N.p(v,R):(N=U[O]=be[O](v),N.c()),W(N,1),N.m(e,null))},i(v){X||(W(N),X=!0)},o(v){ee(N),X=!1},d(v){v&&b(e),Te(le,v),U[O].d(),te=!1,Le(ge)}}}function ye(t){return new Date(t).toLocaleString()}function ke(t){return t==="success"?"success":t==="error"?"error":"running"}function Ze(t,e,l){let n=[],y=[],E=!0,u=null,o="",m="",i="",p=7;async function j(){try{l(5,E=!0),l(6,u=null);const x=await Ne.getRuns({days:p,agent:m||void 0,status:i||void 0});l(3,n=x.runs||[]),S()}catch(x){l(6,u=x instanceof Error?x.message:"Failed to load runs")}finally{l(5,E=!1)}}function S(){l(4,y=n.filter(x=>x.id.includes(o)||x.agent.includes(o)))}Pe(()=>{j();const x=setInterval(j,1e4);return()=>clearInterval(x)});function g(){o=this.value,l(0,o)}function I(){m=de(this),l(1,m)}function $(){i=de(this),l(2,i)}function k(){p=de(this),l(7,p)}const A=x=>$e(`/coalescence/runs/${x.id}`);return t.$$.update=()=>{t.$$.dirty&7&&S()},[o,m,i,n,y,E,u,p,j,g,I,$,k,A]}class et extends Ie{constructor(e){super(),Oe(this,e,Ze,Fe,Se,{})}}export{et as component};
