import{S as be,i as ge,s as ke,d as _,B as ae,v as Y,w as G,a as J,b as N,c as o,C as se,m as h,e as v,f as I,g as L,h as w,D as re,j as b,t as S,k as A,E as ie,K as $e,L as ye,r as Ie,M as De,x as le,y as te,z as Ce,q as ne,o as X,p as Ve,n as Q,u as we,A as xe}from"../chunks/BeOz57Dq.js";import{e as de}from"../chunks/D_ZdN6Q8.js";import"../chunks/IHki7fMi.js";import{p as Ae}from"../chunks/ClFG0zlK.js";import{C as Be}from"../chunks/6paKqCt7.js";import{A as Pe,c as Le}from"../chunks/BXfZ-OPp.js";function pe(r){let e,t=r[0].description+"",l;return{c(){e=b("p"),l=S(t),this.h()},l(n){e=v(n,"P",{class:!0});var a=I(e);l=L(a,t),a.forEach(_),this.h()},h(){h(e,"class","text-sm text-neutral-400 mb-2")},m(n,a){N(n,e,a),o(e,l)},p(n,a){a&1&&t!==(t=n[0].description+"")&&J(l,t)},d(n){n&&_(e)}}}function _e(r){let e,t,l=Math.round(r[0].success_rate*100)+"",n,a;return{c(){e=b("div"),t=S("Success: "),n=S(l),a=S("%")},l(s){e=v(s,"DIV",{});var i=I(e);t=L(i,"Success: "),n=L(i,l),a=L(i,"%"),i.forEach(_)},m(s,i){N(s,e,i),o(e,t),o(e,n),o(e,a)},p(s,i){i&1&&l!==(l=Math.round(s[0].success_rate*100)+"")&&J(n,l)},d(s){s&&_(e)}}}function he(r){let e,t,l=r[0].validated_by+"",n;return{c(){e=b("div"),t=S("By: "),n=S(l)},l(a){e=v(a,"DIV",{});var s=I(e);t=L(s,"By: "),n=L(s,l),s.forEach(_)},m(a,s){N(a,e,s),o(e,t),o(e,n)},p(a,s){s&1&&l!==(l=a[0].validated_by+"")&&J(n,l)},d(a){a&&_(e)}}}function Se(r){let e,t,l,n=r[0].category+"",a,s,i,$,k,c=r[0].name+"",M,d,f,u,V,R,y=r[0].occurrences+"",z,O,q,T;i=new Be({props:{confidence:r[0].confidence}});let x=r[0].description&&pe(r),m=r[0].success_rate!=null&&_e(r),E=r[0].validated_by&&he(r);return{c(){e=b("div"),t=b("div"),l=b("span"),a=S(n),s=A(),ie(i.$$.fragment),$=A(),k=b("h3"),M=S(c),d=A(),x&&x.c(),f=A(),u=b("div"),V=b("div"),R=S("Occurrences: "),z=S(y),O=A(),m&&m.c(),q=A(),E&&E.c(),this.h()},l(p){e=v(p,"DIV",{class:!0});var C=I(e);t=v(C,"DIV",{class:!0});var j=I(t);l=v(j,"SPAN",{class:!0});var B=I(l);a=L(B,n),B.forEach(_),s=w(j),re(i.$$.fragment,j),j.forEach(_),$=w(C),k=v(C,"H3",{class:!0});var P=I(k);M=L(P,c),P.forEach(_),d=w(C),x&&x.l(C),f=w(C),u=v(C,"DIV",{class:!0});var F=I(u);V=v(F,"DIV",{});var W=I(V);R=L(W,"Occurrences: "),z=L(W,y),W.forEach(_),O=w(F),m&&m.l(F),q=w(F),E&&E.l(F),F.forEach(_),C.forEach(_),this.h()},h(){h(l,"class","inline-block px-2 py-0.5 rounded text-xs font-medium bg-pink-800 text-pink-100"),h(t,"class","flex items-start justify-between mb-2"),h(k,"class","text-lg font-medium text-neutral-100 mb-1"),h(u,"class","flex items-center gap-4 text-xs text-neutral-500 mt-2"),h(e,"class","bg-neutral-900 rounded border border-neutral-800 p-4 hover:border-neutral-700 transition-colors")},m(p,C){N(p,e,C),o(e,t),o(t,l),o(l,a),o(t,s),se(i,t,null),o(e,$),o(e,k),o(k,M),o(e,d),x&&x.m(e,null),o(e,f),o(e,u),o(u,V),o(V,R),o(V,z),o(u,O),m&&m.m(u,null),o(u,q),E&&E.m(u,null),T=!0},p(p,[C]){(!T||C&1)&&n!==(n=p[0].category+"")&&J(a,n);const j={};C&1&&(j.confidence=p[0].confidence),i.$set(j),(!T||C&1)&&c!==(c=p[0].name+"")&&J(M,c),p[0].description?x?x.p(p,C):(x=pe(p),x.c(),x.m(e,f)):x&&(x.d(1),x=null),(!T||C&1)&&y!==(y=p[0].occurrences+"")&&J(z,y),p[0].success_rate!=null?m?m.p(p,C):(m=_e(p),m.c(),m.m(u,q)):m&&(m.d(1),m=null),p[0].validated_by?E?E.p(p,C):(E=he(p),E.c(),E.m(u,null)):E&&(E.d(1),E=null)},i(p){T||(G(i.$$.fragment,p),T=!0)},o(p){Y(i.$$.fragment,p),T=!1},d(p){p&&_(e),ae(i),x&&x.d(),m&&m.d(),E&&E.d()}}}function Me(r,e,t){let{pattern:l}=e;return r.$$set=n=>{"pattern"in n&&t(0,l=n.pattern)},[l]}class qe extends be{constructor(e){super(),ge(this,e,Me,Se,ke,{pattern:0})}}function me(r,e,t){const l=r.slice();return l[10]=e[t],l}function Ne(r){let e,t="No patterns found";return{c(){e=b("div"),e.textContent=t,this.h()},l(l){e=v(l,"DIV",{class:!0,"data-svelte-h":!0}),X(e)!=="svelte-5eukmv"&&(e.textContent=t),this.h()},h(){h(e,"class","text-neutral-400")},m(l,n){N(l,e,n)},p:Q,i:Q,o:Q,d(l){l&&_(e)}}}function Oe(r){let e,t,l=r[5].length+"",n,a,s,i,$,k=de(r[5]),c=[];for(let d=0;d<k.length;d+=1)c[d]=ve(me(r,k,d));const M=d=>Y(c[d],1,1,()=>{c[d]=null});return{c(){e=b("div"),t=S("Found "),n=S(l),a=S(" patterns"),s=A(),i=b("div");for(let d=0;d<c.length;d+=1)c[d].c();this.h()},l(d){e=v(d,"DIV",{class:!0});var f=I(e);t=L(f,"Found "),n=L(f,l),a=L(f," patterns"),f.forEach(_),s=w(d),i=v(d,"DIV",{class:!0});var u=I(i);for(let V=0;V<c.length;V+=1)c[V].l(u);u.forEach(_),this.h()},h(){h(e,"class","mb-4 text-sm text-neutral-400"),h(i,"class","grid grid-cols-1 md:grid-cols-2 gap-4")},m(d,f){N(d,e,f),o(e,t),o(e,n),o(e,a),N(d,s,f),N(d,i,f);for(let u=0;u<c.length;u+=1)c[u]&&c[u].m(i,null);$=!0},p(d,f){if((!$||f&32)&&l!==(l=d[5].length+"")&&J(n,l),f&32){k=de(d[5]);let u;for(u=0;u<k.length;u+=1){const V=me(d,k,u);c[u]?(c[u].p(V,f),G(c[u],1)):(c[u]=ve(V),c[u].c(),G(c[u],1),c[u].m(i,null))}for(xe(),u=k.length;u<c.length;u+=1)M(u);Ce()}},i(d){if(!$){for(let f=0;f<k.length;f+=1)G(c[f]);$=!0}},o(d){c=c.filter(Boolean);for(let f=0;f<c.length;f+=1)Y(c[f]);$=!1},d(d){d&&(_(e),_(s),_(i)),we(c,d)}}}function je(r){let e,t,l;return{c(){e=b("div"),t=S("Error: "),l=S(r[4]),this.h()},l(n){e=v(n,"DIV",{class:!0});var a=I(e);t=L(a,"Error: "),l=L(a,r[4]),a.forEach(_),this.h()},h(){h(e,"class","text-red-400")},m(n,a){N(n,e,a),o(e,t),o(e,l)},p(n,a){a&16&&J(l,n[4])},i:Q,o:Q,d(n){n&&_(e)}}}function Fe(r){let e,t="Loading...";return{c(){e=b("div"),e.textContent=t,this.h()},l(l){e=v(l,"DIV",{class:!0,"data-svelte-h":!0}),X(e)!=="svelte-1o3c4uh"&&(e.textContent=t),this.h()},h(){h(e,"class","text-neutral-400")},m(l,n){N(l,e,n)},p:Q,i:Q,o:Q,d(l){l&&_(e)}}}function ve(r){let e,t,l,n,a;return t=new qe({props:{pattern:r[10]}}),{c(){e=b("a"),ie(t.$$.fragment),l=A(),this.h()},l(s){e=v(s,"A",{href:!0});var i=I(e);re(t.$$.fragment,i),l=w(i),i.forEach(_),this.h()},h(){h(e,"href",n="/ariadne/patterns/"+r[10].id)},m(s,i){N(s,e,i),se(t,e,null),o(e,l),a=!0},p(s,i){const $={};i&32&&($.pattern=s[10]),t.$set($),(!a||i&32&&n!==(n="/ariadne/patterns/"+s[10].id))&&h(e,"href",n)},i(s){a||(G(t.$$.fragment,s),a=!0)},o(s){Y(t.$$.fragment,s),a=!1},d(s){s&&_(e),ae(t)}}}function Te(r){let e,t,l="Validated Patterns",n,a,s,i,$="Category",k,c,M,d,f,u,V="Min Confidence",R,y,z,O,q,T="Min Occurrences",x,m,E,p,C="Apply Filters",j,B,P,F,W,oe;function Ee(g){r[7](g)}let ue={fetchSuggestions:Le,placeholder:"e.g., technical, fundamental, supply_chain"};r[0]!==void 0&&(ue.value=r[0]),c=new Pe({props:ue}),$e.push(()=>ye(c,"value",Ee)),c.$on("select",r[6]);const ce=[Fe,je,Oe,Ne],H=[];function fe(g,D){return g[3]?0:g[4]?1:g[5].length>0?2:3}return B=fe(r),P=H[B]=ce[B](r),{c(){e=b("div"),t=b("h1"),t.textContent=l,n=A(),a=b("div"),s=b("div"),i=b("label"),i.textContent=$,k=A(),ie(c.$$.fragment),d=A(),f=b("div"),u=b("label"),u.textContent=V,R=A(),y=b("input"),z=A(),O=b("div"),q=b("label"),q.textContent=T,x=A(),m=b("input"),E=A(),p=b("button"),p.textContent=C,j=A(),P.c(),this.h()},l(g){e=v(g,"DIV",{class:!0});var D=I(e);t=v(D,"H1",{class:!0,"data-svelte-h":!0}),X(t)!=="svelte-1uksc1d"&&(t.textContent=l),n=w(D),a=v(D,"DIV",{class:!0});var U=I(a);s=v(U,"DIV",{});var K=I(s);i=v(K,"LABEL",{class:!0,"data-svelte-h":!0}),X(i)!=="svelte-pssnvn"&&(i.textContent=$),k=w(K),re(c.$$.fragment,K),K.forEach(_),d=w(U),f=v(U,"DIV",{});var Z=I(f);u=v(Z,"LABEL",{class:!0,"data-svelte-h":!0}),X(u)!=="svelte-j7mzmj"&&(u.textContent=V),R=w(Z),y=v(Z,"INPUT",{type:!0,min:!0,max:!0,step:!0,class:!0}),Z.forEach(_),z=w(U),O=v(U,"DIV",{});var ee=I(O);q=v(ee,"LABEL",{class:!0,"data-svelte-h":!0}),X(q)!=="svelte-11qix4d"&&(q.textContent=T),x=w(ee),m=v(ee,"INPUT",{type:!0,min:!0,class:!0}),ee.forEach(_),U.forEach(_),E=w(D),p=v(D,"BUTTON",{class:!0,"data-svelte-h":!0}),X(p)!=="svelte-qmbkkq"&&(p.textContent=C),j=w(D),P.l(D),D.forEach(_),this.h()},h(){h(t,"class","text-3xl font-bold text-neutral-100 mb-6"),h(i,"class","block text-sm font-medium text-neutral-300 mb-1"),h(u,"class","block text-sm font-medium text-neutral-300 mb-1"),h(y,"type","number"),h(y,"min","0"),h(y,"max","1"),h(y,"step","0.1"),h(y,"class","w-full px-3 py-2 bg-neutral-900 border border-neutral-700 rounded text-neutral-100 focus:outline-none focus:border-indigo-500"),h(q,"class","block text-sm font-medium text-neutral-300 mb-1"),h(m,"type","number"),h(m,"min","1"),h(m,"class","w-full px-3 py-2 bg-neutral-900 border border-neutral-700 rounded text-neutral-100 focus:outline-none focus:border-indigo-500"),h(a,"class","mb-6 grid grid-cols-1 md:grid-cols-3 gap-3"),h(p,"class","px-4 py-2 rounded bg-indigo-600 hover:bg-indigo-500 text-white mb-6"),h(e,"class","max-w-7xl mx-auto p-6")},m(g,D){N(g,e,D),o(e,t),o(e,n),o(e,a),o(a,s),o(s,i),o(s,k),se(c,s,null),o(a,d),o(a,f),o(f,u),o(f,R),o(f,y),te(y,r[1]),o(a,z),o(a,O),o(O,q),o(O,x),o(O,m),te(m,r[2]),o(e,E),o(e,p),o(e,j),H[B].m(e,null),F=!0,W||(oe=[ne(y,"input",r[8]),ne(m,"input",r[9]),ne(p,"click",r[6])],W=!0)},p(g,[D]){const U={};!M&&D&1&&(M=!0,U.value=g[0],De(()=>M=!1)),c.$set(U),D&2&&le(y.value)!==g[1]&&te(y,g[1]),D&4&&le(m.value)!==g[2]&&te(m,g[2]);let K=B;B=fe(g),B===K?H[B].p(g,D):(xe(),Y(H[K],1,1,()=>{H[K]=null}),Ce(),P=H[B],P?P.p(g,D):(P=H[B]=ce[B](g),P.c()),G(P,1),P.m(e,null))},i(g){F||(G(c.$$.fragment,g),G(P),F=!0)},o(g){Y(c.$$.fragment,g),Y(P),F=!1},d(g){g&&_(e),ae(c),H[B].d(),W=!1,Ie(oe)}}}function Ue(r,e,t){let l="",n=.7,a=1,s=!1,i=null,$=[];async function k(){t(3,s=!0),t(4,i=null);try{const f=await Ae({category:l||void 0,min_confidence:n,min_occurrences:a});t(5,$=f.patterns)}catch(f){t(4,i=(f==null?void 0:f.message)??"Failed to load patterns")}finally{t(3,s=!1)}}Ve(()=>{k()});function c(f){l=f,t(0,l)}function M(){n=le(this.value),t(1,n)}function d(){a=le(this.value),t(2,a)}return[l,n,a,s,i,$,k,c,M,d]}class Re extends be{constructor(e){super(),ge(this,e,Ue,Te,ke,{})}}export{Re as component};
