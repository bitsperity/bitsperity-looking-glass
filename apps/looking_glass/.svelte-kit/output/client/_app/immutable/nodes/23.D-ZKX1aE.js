import{S as Tt,i as Dt,s as It,d as m,u as xt,r as Ot,v as X,w as W,y as M,H as Z,z as kt,b as Q,c as r,q as tt,m as x,J as it,e as _,f as I,h as H,o as j,j as h,k as R,p as St,n as U,g as q,t as F,a as et,A as Et,G as ct,B as ft,C as dt,D as _t,E as ht}from"../chunks/DnBpi1Qd.js";import{e as pt}from"../chunks/B5jFdsvg.js";import"../chunks/IHki7fMi.js";import{g as wt}from"../chunks/BvE_sK4F.js";import{c as $t}from"../chunks/DR6VtJz0.js";import{S as Lt}from"../chunks/C_uaUfsv.js";import{T as Nt,C as Pt}from"../chunks/BcDvLgdg.js";function gt(l,t,s){const e=l.slice();return e[15]=t[s],e}function At(l,t,s){const e=l.slice();return e[18]=t[s],e}function Vt(l){let t,s;return{c(){t=h("option"),s=F(l[18]),this.h()},l(e){t=_(e,"OPTION",{});var a=I(t);s=q(a,l[18]),a.forEach(m),this.h()},h(){t.__value=l[18],M(t,t.__value)},m(e,a){Q(e,t,a),r(t,s)},p:U,d(e){e&&m(t)}}}function Ht(l){let t,s,e,a='<tr><th class="px-4 py-3 text-left font-semibold">Agent</th> <th class="px-4 py-3 text-left font-semibold">Status</th> <th class="px-4 py-3 text-left font-semibold">Tokens</th> <th class="px-4 py-3 text-left font-semibold">Cost</th> <th class="px-4 py-3 text-left font-semibold">Created</th> <th class="px-4 py-3 text-left font-semibold">Run ID</th></tr>',L,p,v,y,T,c=l[4].length+"",k,w,g=l[3].length+"",P,E,S,b=pt(l[4]),o=[];for(let n=0;n<b.length;n+=1)o[n]=bt(gt(l,b,n));const A=n=>X(o[n],1,1,()=>{o[n]=null});return{c(){t=h("div"),s=h("table"),e=h("thead"),e.innerHTML=a,L=R(),p=h("tbody");for(let n=0;n<o.length;n+=1)o[n].c();v=R(),y=h("div"),T=F("Showing "),k=F(c),w=F(" of "),P=F(g),E=F(" runs"),this.h()},l(n){t=_(n,"DIV",{class:!0});var i=I(t);s=_(i,"TABLE",{class:!0});var f=I(s);e=_(f,"THEAD",{class:!0,"data-svelte-h":!0}),j(e)!=="svelte-4rygan"&&(e.innerHTML=a),L=H(f),p=_(f,"TBODY",{});var C=I(p);for(let $=0;$<o.length;$+=1)o[$].l(C);C.forEach(m),f.forEach(m),i.forEach(m),v=H(n),y=_(n,"DIV",{class:!0});var V=I(y);T=q(V,"Showing "),k=q(V,c),w=q(V," of "),P=q(V,g),E=q(V," runs"),V.forEach(m),this.h()},h(){x(e,"class","bg-neutral-800 border-b border-neutral-700"),x(s,"class","w-full text-sm"),x(t,"class","border border-neutral-700 rounded overflow-hidden"),x(y,"class","mt-4 text-sm text-neutral-400")},m(n,i){Q(n,t,i),r(t,s),r(s,e),r(s,L),r(s,p);for(let f=0;f<o.length;f+=1)o[f]&&o[f].m(p,null);Q(n,v,i),Q(n,y,i),r(y,T),r(y,k),r(y,w),r(y,P),r(y,E),S=!0},p(n,i){if(i&16){b=pt(n[4]);let f;for(f=0;f<b.length;f+=1){const C=gt(n,b,f);o[f]?(o[f].p(C,i),W(o[f],1)):(o[f]=bt(C),o[f].c(),W(o[f],1),o[f].m(p,null))}for(Et(),f=b.length;f<o.length;f+=1)A(f);kt()}(!S||i&16)&&c!==(c=n[4].length+"")&&et(k,c),(!S||i&8)&&g!==(g=n[3].length+"")&&et(P,g)},i(n){if(!S){for(let i=0;i<b.length;i+=1)W(o[i]);S=!0}},o(n){o=o.filter(Boolean);for(let i=0;i<o.length;i+=1)X(o[i]);S=!1},d(n){n&&(m(t),m(v),m(y)),xt(o,n)}}}function Rt(l){let t,s="No runs found";return{c(){t=h("div"),t.textContent=s,this.h()},l(e){t=_(e,"DIV",{class:!0,"data-svelte-h":!0}),j(t)!=="svelte-1mufjbu"&&(t.textContent=s),this.h()},h(){x(t,"class","text-neutral-400 py-8")},m(e,a){Q(e,t,a)},p:U,i:U,o:U,d(e){e&&m(t)}}}function Bt(l){let t,s;return{c(){t=h("div"),s=F(l[6]),this.h()},l(e){t=_(e,"DIV",{class:!0});var a=I(t);s=q(a,l[6]),a.forEach(m),this.h()},h(){x(t,"class","text-red-400 py-8")},m(e,a){Q(e,t,a),r(t,s)},p(e,a){a&64&&et(s,e[6])},i:U,o:U,d(e){e&&m(t)}}}function Mt(l){let t,s="<div>Loading runs...</div>";return{c(){t=h("div"),t.innerHTML=s,this.h()},l(e){t=_(e,"DIV",{class:!0,"data-svelte-h":!0}),j(t)!=="svelte-crmkre"&&(t.innerHTML=s),this.h()},h(){x(t,"class","flex items-center justify-center h-64 text-neutral-400")},m(e,a){Q(e,t,a)},p:U,i:U,o:U,d(e){e&&m(t)}}}function bt(l){let t,s,e=l[15].agent+"",a,L,p,v,y,T,c,k,w,g,P,E,S=yt(l[15].created_at)+"",b,o,A,n=l[15].id.substring(0,8)+"",i,f,C,V,$;v=new Lt({props:{status:Ct(l[15].status)}}),c=new Nt({props:{tokens:l[15].total_tokens}}),g=new Pt({props:{cost:l[15].cost_usd,showDetail:!1}});function nt(){return l[13](l[15])}return{c(){t=h("tr"),s=h("td"),a=F(e),L=R(),p=h("td"),ht(v.$$.fragment),y=R(),T=h("td"),ht(c.$$.fragment),k=R(),w=h("td"),ht(g.$$.fragment),P=R(),E=h("td"),b=F(S),o=R(),A=h("td"),i=F(n),f=R(),this.h()},l(D){t=_(D,"TR",{class:!0});var u=I(t);s=_(u,"TD",{class:!0});var O=I(s);a=q(O,e),O.forEach(m),L=H(u),p=_(u,"TD",{class:!0});var z=I(p);_t(v.$$.fragment,z),z.forEach(m),y=H(u),T=_(u,"TD",{class:!0});var G=I(T);_t(c.$$.fragment,G),G.forEach(m),k=H(u),w=_(u,"TD",{class:!0});var lt=I(w);_t(g.$$.fragment,lt),lt.forEach(m),P=H(u),E=_(u,"TD",{class:!0});var rt=I(E);b=q(rt,S),rt.forEach(m),o=H(u),A=_(u,"TD",{class:!0});var J=I(A);i=q(J,n),J.forEach(m),f=H(u),u.forEach(m),this.h()},h(){x(s,"class","px-4 py-3 font-semibold"),x(p,"class","px-4 py-3"),x(T,"class","px-4 py-3"),x(w,"class","px-4 py-3"),x(E,"class","px-4 py-3 text-neutral-400 text-xs"),x(A,"class","px-4 py-3 text-neutral-400 font-mono text-xs"),x(t,"class","border-b border-neutral-700 hover:bg-neutral-700/30 cursor-pointer transition-colors")},m(D,u){Q(D,t,u),r(t,s),r(s,a),r(t,L),r(t,p),dt(v,p,null),r(t,y),r(t,T),dt(c,T,null),r(t,k),r(t,w),dt(g,w,null),r(t,P),r(t,E),r(E,b),r(t,o),r(t,A),r(A,i),r(t,f),C=!0,V||($=tt(t,"click",nt),V=!0)},p(D,u){l=D,(!C||u&16)&&e!==(e=l[15].agent+"")&&et(a,e);const O={};u&16&&(O.status=Ct(l[15].status)),v.$set(O);const z={};u&16&&(z.tokens=l[15].total_tokens),c.$set(z);const G={};u&16&&(G.cost=l[15].cost_usd),g.$set(G),(!C||u&16)&&S!==(S=yt(l[15].created_at)+"")&&et(b,S),(!C||u&16)&&n!==(n=l[15].id.substring(0,8)+"")&&et(i,n)},i(D){C||(W(v.$$.fragment,D),W(c.$$.fragment,D),W(g.$$.fragment,D),C=!0)},o(D){X(v.$$.fragment,D),X(c.$$.fragment,D),X(g.$$.fragment,D),C=!1},d(D){D&&m(t),ft(v),ft(c),ft(g),V=!1,$()}}}function jt(l){let t,s,e,a,L,p,v,y="All Agents",T,c,k,w="All Status",g,P="Success",E,S="Error",b,o="Running",A,n,i,f="Last 24h",C,V="Last 7 days",$,nt="Last 30 days",D,u,O,z,G,lt,rt=pt(["discovery","analyst_tech","validator"]),J=[];for(let d=0;d<3;d+=1)J[d]=Vt(At(l,rt,d));const vt=[Mt,Bt,Rt,Ht],Y=[];function mt(d,N){return d[5]?0:d[6]?1:d[4].length===0?2:3}return u=mt(l),O=Y[u]=vt[u](l),{c(){t=h("div"),s=h("div"),e=h("div"),a=h("input"),L=R(),p=h("select"),v=h("option"),v.textContent=y;for(let d=0;d<3;d+=1)J[d].c();T=R(),c=h("select"),k=h("option"),k.textContent=w,g=h("option"),g.textContent=P,E=h("option"),E.textContent=S,b=h("option"),b.textContent=o,A=R(),n=h("select"),i=h("option"),i.textContent=f,C=h("option"),C.textContent=V,$=h("option"),$.textContent=nt,D=R(),O.c(),this.h()},l(d){t=_(d,"DIV",{class:!0});var N=I(t);s=_(N,"DIV",{class:!0});var B=I(s);e=_(B,"DIV",{class:!0});var K=I(e);a=_(K,"INPUT",{type:!0,placeholder:!0,class:!0}),L=H(K),p=_(K,"SELECT",{class:!0});var at=I(p);v=_(at,"OPTION",{"data-svelte-h":!0}),j(v)!=="svelte-17dbxsv"&&(v.textContent=y);for(let ut=0;ut<3;ut+=1)J[ut].l(at);at.forEach(m),T=H(K),c=_(K,"SELECT",{class:!0});var st=I(c);k=_(st,"OPTION",{"data-svelte-h":!0}),j(k)!=="svelte-6joivz"&&(k.textContent=w),g=_(st,"OPTION",{"data-svelte-h":!0}),j(g)!=="svelte-5ng9yw"&&(g.textContent=P),E=_(st,"OPTION",{"data-svelte-h":!0}),j(E)!=="svelte-82vi7i"&&(E.textContent=S),b=_(st,"OPTION",{"data-svelte-h":!0}),j(b)!=="svelte-zt8f5c"&&(b.textContent=o),st.forEach(m),A=H(K),n=_(K,"SELECT",{class:!0});var ot=I(n);i=_(ot,"OPTION",{"data-svelte-h":!0}),j(i)!=="svelte-wr1rzr"&&(i.textContent=f),C=_(ot,"OPTION",{"data-svelte-h":!0}),j(C)!=="svelte-12vykyh"&&(C.textContent=V),$=_(ot,"OPTION",{"data-svelte-h":!0}),j($)!=="svelte-rt445"&&($.textContent=nt),ot.forEach(m),K.forEach(m),B.forEach(m),D=H(N),O.l(N),N.forEach(m),this.h()},h(){x(a,"type","text"),x(a,"placeholder","Search run ID or agent..."),x(a,"class","px-3 py-2 bg-neutral-900 border border-neutral-700 rounded text-sm focus:outline-none focus:border-blue-500"),v.__value="",M(v,v.__value),x(p,"class","px-3 py-2 bg-neutral-900 border border-neutral-700 rounded text-sm focus:outline-none focus:border-blue-500"),l[1]===void 0&&it(()=>l[10].call(p)),k.__value="",M(k,k.__value),g.__value="success",M(g,g.__value),E.__value="error",M(E,E.__value),b.__value="running",M(b,b.__value),x(c,"class","px-3 py-2 bg-neutral-900 border border-neutral-700 rounded text-sm focus:outline-none focus:border-blue-500"),l[2]===void 0&&it(()=>l[11].call(c)),i.__value=1,M(i,i.__value),C.__value=7,M(C,C.__value),$.__value=30,M($,$.__value),x(n,"class","px-3 py-2 bg-neutral-900 border border-neutral-700 rounded text-sm focus:outline-none focus:border-blue-500"),l[7]===void 0&&it(()=>l[12].call(n)),x(e,"class","grid grid-cols-4 gap-4"),x(s,"class","bg-neutral-800 border border-neutral-700 rounded p-4 mb-6"),x(t,"class","flex-1 overflow-auto px-6 pb-6")},m(d,N){Q(d,t,N),r(t,s),r(s,e),r(e,a),M(a,l[0]),r(e,L),r(e,p),r(p,v);for(let B=0;B<3;B+=1)J[B]&&J[B].m(p,null);Z(p,l[1],!0),r(e,T),r(e,c),r(c,k),r(c,g),r(c,E),r(c,b),Z(c,l[2],!0),r(e,A),r(e,n),r(n,i),r(n,C),r(n,$),Z(n,l[7],!0),r(t,D),Y[u].m(t,null),z=!0,G||(lt=[tt(a,"input",l[9]),tt(p,"change",l[10]),tt(c,"change",l[11]),tt(n,"change",l[12]),tt(n,"change",l[8])],G=!0)},p(d,[N]){N&1&&a.value!==d[0]&&M(a,d[0]),N&2&&Z(p,d[1]),N&4&&Z(c,d[2]),N&128&&Z(n,d[7]);let B=u;u=mt(d),u===B?Y[u].p(d,N):(Et(),X(Y[B],1,1,()=>{Y[B]=null}),kt(),O=Y[u],O?O.p(d,N):(O=Y[u]=vt[u](d),O.c()),W(O,1),O.m(t,null))},i(d){z||(W(O),z=!0)},o(d){X(O),z=!1},d(d){d&&m(t),xt(J,d),Y[u].d(),G=!1,Ot(lt)}}}function yt(l){return new Date(l).toLocaleString()}function Ct(l){return l==="success"?"success":l==="error"?"error":"running"}function zt(l,t,s){let e=[],a=[],L=!0,p=null,v="",y="",T="",c=7;async function k(){try{s(5,L=!0),s(6,p=null);const o=await $t.getRuns({days:c,agent:y||void 0,status:T||void 0});s(3,e=o.runs||[]),w()}catch(o){s(6,p=o instanceof Error?o.message:"Failed to load runs")}finally{s(5,L=!1)}}function w(){s(4,a=e.filter(o=>o.id.includes(v)||o.agent.includes(v)))}St(()=>{k();const o=setInterval(k,1e4);return()=>clearInterval(o)});function g(){v=this.value,s(0,v)}function P(){y=ct(this),s(1,y)}function E(){T=ct(this),s(2,T)}function S(){c=ct(this),s(7,c)}const b=o=>wt(`/coalescence/runs/${o.id}`);return l.$$.update=()=>{l.$$.dirty&7&&w()},[v,y,T,e,a,L,p,c,k,g,P,E,S,b]}class Kt extends Tt{constructor(t){super(),Dt(this,t,zt,jt,It,{})}}export{Kt as component};
