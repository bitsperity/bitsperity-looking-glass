import{S as Gt,i as Jt,s as Ut,d as c,r as Kt,v as Q,w as G,H as Ht,z as $t,b as U,c as e,q as Et,m as f,y as Vt,J as Qt,e as r,f as m,o as J,h as S,j as i,k as A,p as Wt,n as dt,a as W,g as P,t as M,B as mt,u as Rt,A as yt,C as gt,D as xt,E as Dt,G as Xt}from"../chunks/DnBpi1Qd.js";import{e as bt}from"../chunks/B5jFdsvg.js";import"../chunks/IHki7fMi.js";import{c as Yt}from"../chunks/DR6VtJz0.js";import{C as wt,T as Zt}from"../chunks/BcDvLgdg.js";function qt(o,t,l){const s=o.slice();return s[6]=t[l],s}function zt(o,t,l){const s=o.slice();return s[9]=t[l][0],s[10]=t[l][1],s}function te(o){let t,l,s,v="Total Cost",x,D,a,I,w,y,z="Total Tokens",O,B,H,g,E,T,b="Total Runs",d,p,_=o[0].total.runs+"",C,V,k,F,$="Agents Active",R,q,K=o[0].total.agents+"",X,ut,Y,et,Tt="Cost by Agent",kt,lt,ft,Z,st,Lt="Cost Timeline",It,nt,it;a=new wt({props:{cost:o[0].total.cost,showDetail:!1}}),H=new Zt({props:{tokens:o[0].total.tokens}});let at=bt(Object.entries(o[0].byAgent)),L=[];for(let n=0;n<at.length;n+=1)L[n]=Nt(zt(o,at,n));const Mt=n=>Q(L[n],1,1,()=>{L[n]=null});let ot=bt(o[0].byDate),j=[];for(let n=0;n<ot.length;n+=1)j[n]=Pt(qt(o,ot,n));const Ft=n=>Q(j[n],1,1,()=>{j[n]=null});return{c(){t=i("div"),l=i("div"),s=i("div"),s.textContent=v,x=A(),D=i("div"),Dt(a.$$.fragment),I=A(),w=i("div"),y=i("div"),y.textContent=z,O=A(),B=i("div"),Dt(H.$$.fragment),g=A(),E=i("div"),T=i("div"),T.textContent=b,d=A(),p=i("div"),C=M(_),V=A(),k=i("div"),F=i("div"),F.textContent=$,R=A(),q=i("div"),X=M(K),ut=A(),Y=i("div"),et=i("h2"),et.textContent=Tt,kt=A(),lt=i("div");for(let n=0;n<L.length;n+=1)L[n].c();ft=A(),Z=i("div"),st=i("h2"),st.textContent=Lt,It=A(),nt=i("div");for(let n=0;n<j.length;n+=1)j[n].c();this.h()},l(n){t=r(n,"DIV",{class:!0});var u=m(t);l=r(u,"DIV",{class:!0});var N=m(l);s=r(N,"DIV",{class:!0,"data-svelte-h":!0}),J(s)!=="svelte-fbvvh5"&&(s.textContent=v),x=S(N),D=r(N,"DIV",{class:!0});var ct=m(D);xt(a.$$.fragment,ct),ct.forEach(c),N.forEach(c),I=S(u),w=r(u,"DIV",{class:!0});var h=m(w);y=r(h,"DIV",{class:!0,"data-svelte-h":!0}),J(y)!=="svelte-1hujw7s"&&(y.textContent=z),O=S(h),B=r(h,"DIV",{class:!0});var tt=m(B);xt(H.$$.fragment,tt),tt.forEach(c),h.forEach(c),g=S(u),E=r(u,"DIV",{class:!0});var vt=m(E);T=r(vt,"DIV",{class:!0,"data-svelte-h":!0}),J(T)!=="svelte-6ikrx8"&&(T.textContent=b),d=S(vt),p=r(vt,"DIV",{class:!0});var jt=m(p);C=P(jt,_),jt.forEach(c),vt.forEach(c),V=S(u),k=r(u,"DIV",{class:!0});var ht=m(k);F=r(ht,"DIV",{class:!0,"data-svelte-h":!0}),J(F)!=="svelte-1hpsm6q"&&(F.textContent=$),R=S(ht),q=r(ht,"DIV",{class:!0});var Ot=m(q);X=P(Ot,K),Ot.forEach(c),ht.forEach(c),u.forEach(c),ut=S(n),Y=r(n,"DIV",{class:!0});var _t=m(Y);et=r(_t,"H2",{class:!0,"data-svelte-h":!0}),J(et)!=="svelte-fji7vx"&&(et.textContent=Tt),kt=S(_t),lt=r(_t,"DIV",{class:!0});var St=m(lt);for(let rt=0;rt<L.length;rt+=1)L[rt].l(St);St.forEach(c),_t.forEach(c),ft=S(n),Z=r(n,"DIV",{class:!0});var pt=m(Z);st=r(pt,"H2",{class:!0,"data-svelte-h":!0}),J(st)!=="svelte-hkpnjy"&&(st.textContent=Lt),It=S(pt),nt=r(pt,"DIV",{class:!0});var At=m(nt);for(let rt=0;rt<j.length;rt+=1)j[rt].l(At);At.forEach(c),pt.forEach(c),this.h()},h(){f(s,"class","text-xs text-neutral-400 mb-2"),f(D,"class","text-2xl font-bold"),f(l,"class","bg-neutral-800 border border-neutral-700 rounded p-4"),f(y,"class","text-xs text-neutral-400 mb-2"),f(B,"class","text-2xl font-bold"),f(w,"class","bg-neutral-800 border border-neutral-700 rounded p-4"),f(T,"class","text-xs text-neutral-400 mb-2"),f(p,"class","text-2xl font-bold"),f(E,"class","bg-neutral-800 border border-neutral-700 rounded p-4"),f(F,"class","text-xs text-neutral-400 mb-2"),f(q,"class","text-2xl font-bold"),f(k,"class","bg-neutral-800 border border-neutral-700 rounded p-4"),f(t,"class","grid grid-cols-4 gap-4 mb-6"),f(et,"class","text-xl font-bold mb-4"),f(lt,"class","space-y-3"),f(Y,"class","bg-neutral-800 border border-neutral-700 rounded p-6 mb-6"),f(st,"class","text-xl font-bold mb-4"),f(nt,"class","space-y-2"),f(Z,"class","bg-neutral-800 border border-neutral-700 rounded p-6")},m(n,u){U(n,t,u),e(t,l),e(l,s),e(l,x),e(l,D),gt(a,D,null),e(t,I),e(t,w),e(w,y),e(w,O),e(w,B),gt(H,B,null),e(t,g),e(t,E),e(E,T),e(E,d),e(E,p),e(p,C),e(t,V),e(t,k),e(k,F),e(k,R),e(k,q),e(q,X),U(n,ut,u),U(n,Y,u),e(Y,et),e(Y,kt),e(Y,lt);for(let N=0;N<L.length;N+=1)L[N]&&L[N].m(lt,null);U(n,ft,u),U(n,Z,u),e(Z,st),e(Z,It),e(Z,nt);for(let N=0;N<j.length;N+=1)j[N]&&j[N].m(nt,null);it=!0},p(n,u){const N={};u&1&&(N.cost=n[0].total.cost),a.$set(N);const ct={};if(u&1&&(ct.tokens=n[0].total.tokens),H.$set(ct),(!it||u&1)&&_!==(_=n[0].total.runs+"")&&W(C,_),(!it||u&1)&&K!==(K=n[0].total.agents+"")&&W(X,K),u&1){at=bt(Object.entries(n[0].byAgent));let h;for(h=0;h<at.length;h+=1){const tt=zt(n,at,h);L[h]?(L[h].p(tt,u),G(L[h],1)):(L[h]=Nt(tt),L[h].c(),G(L[h],1),L[h].m(lt,null))}for(yt(),h=at.length;h<L.length;h+=1)Mt(h);$t()}if(u&1){ot=bt(n[0].byDate);let h;for(h=0;h<ot.length;h+=1){const tt=qt(n,ot,h);j[h]?(j[h].p(tt,u),G(j[h],1)):(j[h]=Pt(tt),j[h].c(),G(j[h],1),j[h].m(nt,null))}for(yt(),h=ot.length;h<j.length;h+=1)Ft(h);$t()}},i(n){if(!it){G(a.$$.fragment,n),G(H.$$.fragment,n);for(let u=0;u<at.length;u+=1)G(L[u]);for(let u=0;u<ot.length;u+=1)G(j[u]);it=!0}},o(n){Q(a.$$.fragment,n),Q(H.$$.fragment,n),L=L.filter(Boolean);for(let u=0;u<L.length;u+=1)Q(L[u]);j=j.filter(Boolean);for(let u=0;u<j.length;u+=1)Q(j[u]);it=!1},d(n){n&&(c(t),c(ut),c(Y),c(ft),c(Z)),mt(a),mt(H),Rt(L,n),Rt(j,n)}}}function ee(o){let t,l;return{c(){t=i("div"),l=M(o[2]),this.h()},l(s){t=r(s,"DIV",{class:!0});var v=m(t);l=P(v,o[2]),v.forEach(c),this.h()},h(){f(t,"class","text-red-400 py-8")},m(s,v){U(s,t,v),e(t,l)},p(s,v){v&4&&W(l,s[2])},i:dt,o:dt,d(s){s&&c(t)}}}function le(o){let t,l="<div>Loading cost data...</div>";return{c(){t=i("div"),t.innerHTML=l,this.h()},l(s){t=r(s,"DIV",{class:!0,"data-svelte-h":!0}),J(t)!=="svelte-tvi5p7"&&(t.innerHTML=l),this.h()},h(){f(t,"class","flex items-center justify-center h-64 text-neutral-400")},m(s,v){U(s,t,v)},p:dt,i:dt,o:dt,d(s){s&&c(t)}}}function Bt(o){let t,l=Ct(o[10].lastRun)+"",s;return{c(){t=i("div"),s=M(l),this.h()},l(v){t=r(v,"DIV",{class:!0});var x=m(t);s=P(x,l),x.forEach(c),this.h()},h(){f(t,"class","text-xs text-neutral-400")},m(v,x){U(v,t,x),e(t,s)},p(v,x){x&1&&l!==(l=Ct(v[10].lastRun)+"")&&W(s,l)},d(v){v&&c(t)}}}function Nt(o){let t,l,s,v=o[9]+"",x,D,a,I=o[10].runs+"",w,y,z=o[10].tokens.toLocaleString()+"",O,B,H,g,E,T,b,d,p;T=new wt({props:{cost:o[10].cost,showDetail:!1}});let _=o[10].lastRun&&Bt(o);return{c(){t=i("div"),l=i("div"),s=i("div"),x=M(v),D=A(),a=i("div"),w=M(I),y=M(" runs 路 "),O=M(z),B=M(" tokens"),H=A(),g=i("div"),E=i("div"),Dt(T.$$.fragment),b=A(),_&&_.c(),d=A(),this.h()},l(C){t=r(C,"DIV",{class:!0});var V=m(t);l=r(V,"DIV",{class:!0});var k=m(l);s=r(k,"DIV",{class:!0});var F=m(s);x=P(F,v),F.forEach(c),D=S(k),a=r(k,"DIV",{class:!0});var $=m(a);w=P($,I),y=P($," runs 路 "),O=P($,z),B=P($," tokens"),$.forEach(c),k.forEach(c),H=S(V),g=r(V,"DIV",{class:!0});var R=m(g);E=r(R,"DIV",{class:!0});var q=m(E);xt(T.$$.fragment,q),q.forEach(c),b=S(R),_&&_.l(R),R.forEach(c),d=S(V),V.forEach(c),this.h()},h(){f(s,"class","font-semibold"),f(a,"class","text-xs text-neutral-400"),f(l,"class","flex-1"),f(E,"class","font-semibold"),f(g,"class","text-right"),f(t,"class","flex items-center justify-between p-3 bg-neutral-900/50 rounded")},m(C,V){U(C,t,V),e(t,l),e(l,s),e(s,x),e(l,D),e(l,a),e(a,w),e(a,y),e(a,O),e(a,B),e(t,H),e(t,g),e(g,E),gt(T,E,null),e(g,b),_&&_.m(g,null),e(t,d),p=!0},p(C,V){(!p||V&1)&&v!==(v=C[9]+"")&&W(x,v),(!p||V&1)&&I!==(I=C[10].runs+"")&&W(w,I),(!p||V&1)&&z!==(z=C[10].tokens.toLocaleString()+"")&&W(O,z);const k={};V&1&&(k.cost=C[10].cost),T.$set(k),C[10].lastRun?_?_.p(C,V):(_=Bt(C),_.c(),_.m(g,null)):_&&(_.d(1),_=null)},i(C){p||(G(T.$$.fragment,C),p=!0)},o(C){Q(T.$$.fragment,C),p=!1},d(C){C&&c(t),mt(T),_&&_.d()}}}function Pt(o){let t,l,s,v=Ct(o[6].date)+"",x,D,a,I=o[6].runs+"",w,y,z=o[6].tokens.toLocaleString()+"",O,B,H,g,E,T,b;return E=new wt({props:{cost:o[6].cost,showDetail:!1}}),{c(){t=i("div"),l=i("div"),s=i("div"),x=M(v),D=A(),a=i("div"),w=M(I),y=M(" runs 路 "),O=M(z),B=M(" tokens"),H=A(),g=i("div"),Dt(E.$$.fragment),T=A(),this.h()},l(d){t=r(d,"DIV",{class:!0});var p=m(t);l=r(p,"DIV",{class:!0});var _=m(l);s=r(_,"DIV",{class:!0});var C=m(s);x=P(C,v),C.forEach(c),D=S(_),a=r(_,"DIV",{class:!0});var V=m(a);w=P(V,I),y=P(V," runs 路 "),O=P(V,z),B=P(V," tokens"),V.forEach(c),_.forEach(c),H=S(p),g=r(p,"DIV",{class:!0});var k=m(g);xt(E.$$.fragment,k),k.forEach(c),T=S(p),p.forEach(c),this.h()},h(){f(s,"class","font-semibold"),f(a,"class","text-xs text-neutral-400"),f(l,"class","flex-1"),f(g,"class","font-semibold"),f(t,"class","flex items-center justify-between p-3 bg-neutral-900/50 rounded")},m(d,p){U(d,t,p),e(t,l),e(l,s),e(s,x),e(l,D),e(l,a),e(a,w),e(a,y),e(a,O),e(a,B),e(t,H),e(t,g),gt(E,g,null),e(t,T),b=!0},p(d,p){(!b||p&1)&&v!==(v=Ct(d[6].date)+"")&&W(x,v),(!b||p&1)&&I!==(I=d[6].runs+"")&&W(w,I),(!b||p&1)&&z!==(z=d[6].tokens.toLocaleString()+"")&&W(O,z);const _={};p&1&&(_.cost=d[6].cost),E.$set(_)},i(d){b||(G(E.$$.fragment,d),b=!0)},o(d){Q(E.$$.fragment,d),b=!1},d(d){d&&c(t),mt(E)}}}function se(o){let t,l,s,v="Cost Analytics",x,D,a,I,w="Last 24h",y,z="Last 7 days",O,B="Last 30 days",H,g,E=" Refresh",T,b,d,p,_,C;const V=[le,ee,te],k=[];function F($,R){return $[1]?0:$[2]?1:$[0]?2:-1}return~(b=F(o))&&(d=k[b]=V[b](o)),{c(){t=i("div"),l=i("div"),s=i("h1"),s.textContent=v,x=A(),D=i("div"),a=i("select"),I=i("option"),I.textContent=w,y=i("option"),y.textContent=z,O=i("option"),O.textContent=B,H=A(),g=i("button"),g.textContent=E,T=A(),d&&d.c(),this.h()},l($){t=r($,"DIV",{class:!0});var R=m(t);l=r(R,"DIV",{class:!0});var q=m(l);s=r(q,"H1",{class:!0,"data-svelte-h":!0}),J(s)!=="svelte-yd6lqf"&&(s.textContent=v),x=S(q),D=r(q,"DIV",{class:!0});var K=m(D);a=r(K,"SELECT",{class:!0});var X=m(a);I=r(X,"OPTION",{"data-svelte-h":!0}),J(I)!=="svelte-wr1rzr"&&(I.textContent=w),y=r(X,"OPTION",{"data-svelte-h":!0}),J(y)!=="svelte-12vykyh"&&(y.textContent=z),O=r(X,"OPTION",{"data-svelte-h":!0}),J(O)!=="svelte-rt445"&&(O.textContent=B),X.forEach(c),H=S(K),g=r(K,"BUTTON",{class:!0,"data-svelte-h":!0}),J(g)!=="svelte-1btzqgz"&&(g.textContent=E),K.forEach(c),q.forEach(c),T=S(R),d&&d.l(R),R.forEach(c),this.h()},h(){f(s,"class","text-2xl font-bold"),I.__value=1,Vt(I,I.__value),y.__value=7,Vt(y,y.__value),O.__value=30,Vt(O,O.__value),f(a,"class","px-3 py-2 bg-neutral-900 border border-neutral-700 rounded text-sm focus:outline-none focus:border-blue-500"),o[3]===void 0&&Qt(()=>o[5].call(a)),f(g,"class","px-3 py-2 bg-neutral-700 hover:bg-neutral-600 rounded text-sm transition-colors"),f(D,"class","flex items-center gap-2"),f(l,"class","flex items-center justify-between mb-6"),f(t,"class","flex-1 overflow-auto px-6 pb-6")},m($,R){U($,t,R),e(t,l),e(l,s),e(l,x),e(l,D),e(D,a),e(a,I),e(a,y),e(a,O),Ht(a,o[3],!0),e(D,H),e(D,g),e(t,T),~b&&k[b].m(t,null),p=!0,_||(C=[Et(a,"change",o[5]),Et(a,"change",o[4]),Et(g,"click",o[4])],_=!0)},p($,[R]){R&8&&Ht(a,$[3]);let q=b;b=F($),b===q?~b&&k[b].p($,R):(d&&(yt(),Q(k[q],1,1,()=>{k[q]=null}),$t()),~b?(d=k[b],d?d.p($,R):(d=k[b]=V[b]($),d.c()),G(d,1),d.m(t,null)):d=null)},i($){p||(G(d),p=!0)},o($){Q(d),p=!1},d($){$&&c(t),~b&&k[b].d(),_=!1,Kt(C)}}}function Ct(o){return new Date(o).toLocaleDateString()}function ne(o,t,l){let s=null,v=!0,x=null,D=7;async function a(){try{l(1,v=!0),l(2,x=null),l(0,s=await Yt.getDashboard(D))}catch(w){l(2,x=w instanceof Error?w.message:"Failed to load cost data")}finally{l(1,v=!1)}}Wt(()=>{a()});function I(){D=Xt(this),l(3,D)}return[s,v,x,D,a,I]}class de extends Gt{constructor(t){super(),Jt(this,t,ne,se,Ut,{})}}export{de as component};
