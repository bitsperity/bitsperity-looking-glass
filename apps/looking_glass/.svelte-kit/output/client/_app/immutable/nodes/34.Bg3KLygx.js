import{S as ne,i as le,s as oe,d as I,B as Mt,r as se,v as lt,w as $,H as Ct,y as m,a as jt,z as te,b as ot,c as l,C as Ut,q as U,m as c,J as Kt,e as p,f as q,o as k,h as y,D as qt,g as ct,j as f,k as w,E as St,t as pt,p as ae,n as ut,u as re,A as ee,G as Wt,x as ie}from"../chunks/BeOz57Dq.js";import{e as Yt}from"../chunks/D_ZdN6Q8.js";import"../chunks/IHki7fMi.js";import{f as ue}from"../chunks/UxnmsV0t.js";import{s as ce,d as pe}from"../chunks/BpH5ZX46.js";import{T as fe}from"../chunks/DN5RiLCE.js";import{M as he}from"../chunks/il2daQFk.js";import{T as _e}from"../chunks/BGU6Zfga.js";import{g as de}from"../chunks/D98msYD6.js";const ve=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global,{Boolean:me}=ve;function Zt(o,t,n){const a=o.slice();return a[23]=t[n],a}function ge(o){let t,n=o[0].length+"",a,v,T,_,g,b=Yt(o[0]),u=[];for(let e=0;e<b.length;e+=1)u[e]=$t(Zt(o,b,e));const L=e=>lt(u[e],1,1,()=>{u[e]=null});return{c(){t=f("div"),a=pt(n),v=pt(" thoughts"),T=w(),_=f("div");for(let e=0;e<u.length;e+=1)u[e].c();this.h()},l(e){t=p(e,"DIV",{class:!0});var r=q(t);a=ct(r,n),v=ct(r," thoughts"),r.forEach(I),T=y(e),_=p(e,"DIV",{class:!0});var i=q(_);for(let O=0;O<u.length;O+=1)u[O].l(i);i.forEach(I),this.h()},h(){c(t,"class","text-sm text-neutral-400 mb-2"),c(_,"class","space-y-2")},m(e,r){ot(e,t,r),l(t,a),l(t,v),ot(e,T,r),ot(e,_,r);for(let i=0;i<u.length;i+=1)u[i]&&u[i].m(_,null);g=!0},p(e,r){if((!g||r&1)&&n!==(n=e[0].length+"")&&jt(a,n),r&1665){b=Yt(e[0]);let i;for(i=0;i<b.length;i+=1){const O=Zt(e,b,i);u[i]?(u[i].p(O,r),$(u[i],1)):(u[i]=$t(O),u[i].c(),$(u[i],1),u[i].m(_,null))}for(ee(),i=b.length;i<u.length;i+=1)L(i);te()}},i(e){if(!g){for(let r=0;r<b.length;r+=1)$(u[r]);g=!0}},o(e){u=u.filter(me);for(let r=0;r<u.length;r+=1)lt(u[r]);g=!1},d(e){e&&(I(t),I(T),I(_)),re(u,e)}}}function Ce(o){let t,n;return{c(){t=f("div"),n=pt(o[2]),this.h()},l(a){t=p(a,"DIV",{class:!0});var v=q(t);n=ct(v,o[2]),v.forEach(I),this.h()},h(){c(t,"class","text-red-400")},m(a,v){ot(a,t,v),l(t,n)},p(a,v){v&4&&jt(n,a[2])},i:ut,o:ut,d(a){a&&I(t)}}}function be(o){let t,n="Loading…";return{c(){t=f("div"),t.textContent=n,this.h()},l(a){t=p(a,"DIV",{class:!0,"data-svelte-h":!0}),k(t)!=="svelte-186sx6p"&&(t.textContent=n),this.h()},h(){c(t,"class","text-neutral-400")},m(a,v){ot(a,t,v)},p:ut,i:ut,o:ut,d(a){a&&I(t)}}}function $t(o){let t,n;return t=new fe({props:{thought:o[23],onOpen:o[10],onDelete:o[9],onPreview:o[20]}}),{c(){St(t.$$.fragment)},l(a){qt(t.$$.fragment,a)},m(a,v){Ut(t,a,v),n=!0},p(a,v){const T={};v&1&&(T.thought=a[23]),v&128&&(T.onPreview=a[20]),t.$set(T)},i(a){n||($(t.$$.fragment,a),n=!0)},o(a){lt(t.$$.fragment,a),n=!1},d(a){Mt(t,a)}}}function Te(o){let t,n,a="Manifold · Thoughts",v,T,_,g,b,u="Create Thought",L,e,r,i,O="observation",D,ft="hypothesis",V,ht="analysis",z,_t="decision",B,dt="reflection",M,bt="question",vt,h,x,At="active",H,Lt="validated",G,Ht="invalidated",J,Gt="archived",Tt,Q,It,S,xt,R,yt,X,wt,F,kt,K,Ot,j,tt,Jt="Confidence",Pt,P,Et,et,at=Math.round(o[3].confidence_score*100)+"",mt,Nt,Dt,W,Qt="Create",Vt,E,N,gt,Y,rt,zt,Rt;T=new he({});const Xt=[be,Ce,ge],Z=[];function Ft(s,d){return s[1]?0:s[2]?1:2}return E=Ft(o),N=Z[E]=Xt[E](o),Y=new _e({props:{thoughtId:o[7],onClose:o[21]}}),{c(){t=f("div"),n=f("h1"),n.textContent=a,v=w(),St(T.$$.fragment),_=w(),g=f("div"),b=f("div"),b.textContent=u,L=w(),e=f("div"),r=f("select"),i=f("option"),i.textContent=O,D=f("option"),D.textContent=ft,V=f("option"),V.textContent=ht,z=f("option"),z.textContent=_t,B=f("option"),B.textContent=dt,M=f("option"),M.textContent=bt,vt=w(),h=f("select"),x=f("option"),x.textContent=At,H=f("option"),H.textContent=Lt,G=f("option"),G.textContent=Ht,J=f("option"),J.textContent=Gt,Tt=w(),Q=f("input"),It=w(),S=f("textarea"),xt=w(),R=f("input"),yt=w(),X=f("input"),wt=w(),F=f("input"),kt=w(),K=f("input"),Ot=w(),j=f("div"),tt=f("div"),tt.textContent=Jt,Pt=w(),P=f("input"),Et=w(),et=f("div"),mt=pt(at),Nt=pt("%"),Dt=w(),W=f("button"),W.textContent=Qt,Vt=w(),N.c(),gt=w(),St(Y.$$.fragment),this.h()},l(s){t=p(s,"DIV",{class:!0});var d=q(t);n=p(d,"H1",{class:!0,"data-svelte-h":!0}),k(n)!=="svelte-1sk3pkd"&&(n.textContent=a),v=y(d),qt(T.$$.fragment,d),_=y(d),g=p(d,"DIV",{class:!0});var A=q(g);b=p(A,"DIV",{class:!0,"data-svelte-h":!0}),k(b)!=="svelte-1lz14i8"&&(b.textContent=u),L=y(A),e=p(A,"DIV",{class:!0});var C=q(e);r=p(C,"SELECT",{class:!0});var nt=q(r);i=p(nt,"OPTION",{"data-svelte-h":!0}),k(i)!=="svelte-xyciny"&&(i.textContent=O),D=p(nt,"OPTION",{"data-svelte-h":!0}),k(D)!=="svelte-nubhuu"&&(D.textContent=ft),V=p(nt,"OPTION",{"data-svelte-h":!0}),k(V)!=="svelte-13078km"&&(V.textContent=ht),z=p(nt,"OPTION",{"data-svelte-h":!0}),k(z)!=="svelte-1gdc7aa"&&(z.textContent=_t),B=p(nt,"OPTION",{"data-svelte-h":!0}),k(B)!=="svelte-lsbeau"&&(B.textContent=dt),M=p(nt,"OPTION",{"data-svelte-h":!0}),k(M)!=="svelte-qzewim"&&(M.textContent=bt),nt.forEach(I),vt=y(C),h=p(C,"SELECT",{class:!0});var it=q(h);x=p(it,"OPTION",{"data-svelte-h":!0}),k(x)!=="svelte-iz5znm"&&(x.textContent=At),H=p(it,"OPTION",{"data-svelte-h":!0}),k(H)!=="svelte-1mzca26"&&(H.textContent=Lt),G=p(it,"OPTION",{"data-svelte-h":!0}),k(G)!=="svelte-bl1lr4"&&(G.textContent=Ht),J=p(it,"OPTION",{"data-svelte-h":!0}),k(J)!=="svelte-1i8cjp2"&&(J.textContent=Gt),it.forEach(I),Tt=y(C),Q=p(C,"INPUT",{class:!0,placeholder:!0}),It=y(C),S=p(C,"TEXTAREA",{class:!0,rows:!0,placeholder:!0}),q(S).forEach(I),xt=y(C),R=p(C,"INPUT",{class:!0,placeholder:!0}),yt=y(C),X=p(C,"INPUT",{class:!0,placeholder:!0}),wt=y(C),F=p(C,"INPUT",{class:!0,placeholder:!0}),kt=y(C),K=p(C,"INPUT",{class:!0,placeholder:!0}),Ot=y(C),j=p(C,"DIV",{class:!0});var st=q(j);tt=p(st,"DIV",{class:!0,"data-svelte-h":!0}),k(tt)!=="svelte-1f3jszy"&&(tt.textContent=Jt),Pt=y(st),P=p(st,"INPUT",{type:!0,min:!0,max:!0,step:!0,class:!0}),Et=y(st),et=p(st,"DIV",{class:!0});var Bt=q(et);mt=ct(Bt,at),Nt=ct(Bt,"%"),Bt.forEach(I),st.forEach(I),C.forEach(I),Dt=y(A),W=p(A,"BUTTON",{class:!0,"data-svelte-h":!0}),k(W)!=="svelte-p0pplg"&&(W.textContent=Qt),A.forEach(I),Vt=y(d),N.l(d),d.forEach(I),gt=y(s),qt(Y.$$.fragment,s),this.h()},h(){c(n,"class","text-2xl font-semibold"),c(b,"class","text-sm text-neutral-400 mb-2"),i.__value="observation",m(i,i.__value),D.__value="hypothesis",m(D,D.__value),V.__value="analysis",m(V,V.__value),z.__value="decision",m(z,z.__value),B.__value="reflection",m(B,B.__value),M.__value="question",m(M,M.__value),c(r,"class","px-3 py-2 rounded bg-neutral-800"),o[3].type===void 0&&Kt(()=>o[11].call(r)),x.__value="active",m(x,x.__value),H.__value="validated",m(H,H.__value),G.__value="invalidated",m(G,G.__value),J.__value="archived",m(J,J.__value),c(h,"class","px-3 py-2 rounded bg-neutral-800"),o[3].status===void 0&&Kt(()=>o[12].call(h)),c(Q,"class","px-3 py-2 rounded bg-neutral-800"),c(Q,"placeholder","Title"),c(S,"class","px-3 py-2 rounded bg-neutral-800 md:col-span-2"),c(S,"rows","4"),c(S,"placeholder","Content"),c(R,"class","px-3 py-2 rounded bg-neutral-800"),c(R,"placeholder","Tickers (comma)"),c(X,"class","px-3 py-2 rounded bg-neutral-800"),c(X,"placeholder","Tags (comma)"),c(F,"class","px-3 py-2 rounded bg-neutral-800"),c(F,"placeholder","Sectors (comma)"),c(K,"class","px-3 py-2 rounded bg-neutral-800"),c(K,"placeholder","Timeframe (e.g. Q1-2025)"),c(tt,"class","text-xs text-neutral-400"),c(P,"type","range"),c(P,"min","0"),c(P,"max","1"),c(P,"step","0.01"),c(P,"class","w-full"),c(et,"class","text-xs text-neutral-300 w-10 text-right"),c(j,"class","flex items-center gap-2"),c(e,"class","grid grid-cols-1 md:grid-cols-2 gap-2"),c(W,"class","mt-3 px-3 py-2 rounded bg-indigo-600 hover:bg-indigo-500"),c(g,"class","bg-neutral-900 rounded p-4 border border-neutral-800"),c(t,"class","p-6 space-y-4 h-full overflow-auto")},m(s,d){ot(s,t,d),l(t,n),l(t,v),Ut(T,t,null),l(t,_),l(t,g),l(g,b),l(g,L),l(g,e),l(e,r),l(r,i),l(r,D),l(r,V),l(r,z),l(r,B),l(r,M),Ct(r,o[3].type,!0),l(e,vt),l(e,h),l(h,x),l(h,H),l(h,G),l(h,J),Ct(h,o[3].status,!0),l(e,Tt),l(e,Q),m(Q,o[3].title),l(e,It),l(e,S),m(S,o[3].content),l(e,xt),l(e,R),m(R,o[4]),l(e,yt),l(e,X),m(X,o[5]),l(e,wt),l(e,F),m(F,o[6]),l(e,kt),l(e,K),m(K,o[3].timeframe),l(e,Ot),l(e,j),l(j,tt),l(j,Pt),l(j,P),m(P,o[3].confidence_score),l(j,Et),l(j,et),l(et,mt),l(et,Nt),l(g,Dt),l(g,W),l(t,Vt),Z[E].m(t,null),ot(s,gt,d),Ut(Y,s,d),rt=!0,zt||(Rt=[U(r,"change",o[11]),U(h,"change",o[12]),U(Q,"input",o[13]),U(S,"input",o[14]),U(R,"input",o[15]),U(X,"input",o[16]),U(F,"input",o[17]),U(K,"input",o[18]),U(P,"change",o[19]),U(P,"input",o[19]),U(W,"click",o[8])],zt=!0)},p(s,[d]){d&8&&Ct(r,s[3].type),d&8&&Ct(h,s[3].status),d&8&&Q.value!==s[3].title&&m(Q,s[3].title),d&8&&m(S,s[3].content),d&16&&R.value!==s[4]&&m(R,s[4]),d&32&&X.value!==s[5]&&m(X,s[5]),d&64&&F.value!==s[6]&&m(F,s[6]),d&8&&K.value!==s[3].timeframe&&m(K,s[3].timeframe),d&8&&m(P,s[3].confidence_score),(!rt||d&8)&&at!==(at=Math.round(s[3].confidence_score*100)+"")&&jt(mt,at);let A=E;E=Ft(s),E===A?Z[E].p(s,d):(ee(),lt(Z[A],1,1,()=>{Z[A]=null}),te(),N=Z[E],N?N.p(s,d):(N=Z[E]=Xt[E](s),N.c()),$(N,1),N.m(t,null));const C={};d&128&&(C.thoughtId=s[7]),d&128&&(C.onClose=s[21]),Y.$set(C)},i(s){rt||($(T.$$.fragment,s),$(N),$(Y.$$.fragment,s),rt=!0)},o(s){lt(T.$$.fragment,s),lt(N),lt(Y.$$.fragment,s),rt=!1},d(s){s&&(I(t),I(gt)),Mt(T),Z[E].d(),Mt(Y,s),zt=!1,se(Rt)}}}function Ie(o,t,n){let a=[],v=!1,T=null,_={type:"observation",title:"",content:"",tickers:[],tags:[],sectors:[],timeframe:"",status:"active",confidence_score:.5},g="",b="",u="";async function L(){n(1,v=!0),n(2,T=null);try{const h=await ue({query:"",limit:100});n(0,a=(h.results||[]).map(x=>x.thought))}catch(h){n(2,T=(h==null?void 0:h.message)??"Error")}finally{n(1,v=!1)}}async function e(){const h={..._};h.tickers=(g||"").split(",").map(x=>x.trim()).filter(Boolean),h.tags=(b||"").split(",").map(x=>x.trim()).filter(Boolean),h.sectors=(u||"").split(",").map(x=>x.trim()).filter(Boolean),await ce(h),n(3,_={type:"observation",title:"",content:"",tickers:[],tags:[],sectors:[],timeframe:"",status:"active",confidence_score:.5}),n(4,g=""),n(5,b=""),n(6,u=""),await L()}async function r(h){confirm("Delete this thought?")&&(await pe(h),await L())}function i(h){de(`/manifold/thoughts/${h}`)}ae(L);let O=null;function D(){_.type=Wt(this),n(3,_)}function ft(){_.status=Wt(this),n(3,_)}function V(){_.title=this.value,n(3,_)}function ht(){_.content=this.value,n(3,_)}function z(){g=this.value,n(4,g)}function _t(){b=this.value,n(5,b)}function B(){u=this.value,n(6,u)}function dt(){_.timeframe=this.value,n(3,_)}function M(){_.confidence_score=ie(this.value),n(3,_)}return[a,v,T,_,g,b,u,O,e,r,i,D,ft,V,ht,z,_t,B,dt,M,h=>{n(7,O=h)},()=>{n(7,O=null)}]}class Ve extends ne{constructor(t){super(),le(this,t,Ie,Te,oe,{})}}export{Ve as component};
