import{S as Le,i as Te,s as Ne,n as de,d as m,b as Y,c as l,m as r,e as v,f as C,o as K,h as g,j as p,k as I,p as Re,q as $,a as Z,g as F,t as j,r as Ve,y as ae,N as ve,a1 as pe}from"../chunks/BeOz57Dq.js";import{e as me,u as Pe,d as Ae}from"../chunks/D_ZdN6Q8.js";import"../chunks/IHki7fMi.js";import{c as ue}from"../chunks/CG6lULoT.js";function _e(f,t,e){const i=f.slice();return i[26]=t[e],i}function ye(f){let t,e="<span>+ New Rule</span>",i,c;return{c(){t=p("button"),t.innerHTML=e,this.h()},l(u){t=v(u,"BUTTON",{class:!0,"data-svelte-h":!0}),K(t)!=="svelte-1c20il6"&&(t.innerHTML=e),this.h()},h(){r(t,"class","btn-primary svelte-ztlmhy")},m(u,s){Y(u,t,s),i||(c=$(t,"click",f[15]),i=!0)},p:de,d(u){u&&m(t),i=!1,c()}}}function be(f){let t,e,i,c,u,s,d="Dismiss",h,n;return{c(){t=p("div"),e=p("span"),i=j("❌ "),c=j(f[2]),u=I(),s=p("button"),s.textContent=d,this.h()},l(a){t=v(a,"DIV",{class:!0});var o=C(t);e=v(o,"SPAN",{});var z=C(e);i=F(z,"❌ "),c=F(z,f[2]),z.forEach(m),u=g(o),s=v(o,"BUTTON",{class:!0,"data-svelte-h":!0}),K(s)!=="svelte-zcmsdr"&&(s.textContent=d),o.forEach(m),this.h()},h(){r(s,"class","svelte-ztlmhy"),r(t,"class","message error svelte-ztlmhy")},m(a,o){Y(a,t,o),l(t,e),l(e,i),l(e,c),l(t,u),l(t,s),h||(n=$(s,"click",f[16]),h=!0)},p(a,o){o&4&&Z(c,a[2])},d(a){a&&m(t),h=!1,n()}}}function Ce(f){let t,e,i,c,u,s,d="Dismiss",h,n;return{c(){t=p("div"),e=p("span"),i=j("✅ "),c=j(f[3]),u=I(),s=p("button"),s.textContent=d,this.h()},l(a){t=v(a,"DIV",{class:!0});var o=C(t);e=v(o,"SPAN",{});var z=C(e);i=F(z,"✅ "),c=F(z,f[3]),z.forEach(m),u=g(o),s=v(o,"BUTTON",{class:!0,"data-svelte-h":!0}),K(s)!=="svelte-1nht5f0"&&(s.textContent=d),o.forEach(m),this.h()},h(){r(s,"class","svelte-ztlmhy"),r(t,"class","message success svelte-ztlmhy")},m(a,o){Y(a,t,o),l(t,e),l(e,i),l(e,c),l(t,u),l(t,s),h||(n=$(s,"click",f[17]),h=!0)},p(a,o){o&8&&Z(c,a[3])},d(a){a&&m(t),h=!1,n()}}}function ze(f){let t,e,i,c=f[6]?"Edit Rule":"Create New Rule",u,s,d,h="✕ Close",n,a,o,z="Rule Name *",P,_,E,b,k,T="Description",w,y,B,R,L,O="Rule Content *",W,M,Q,G,D="💡 Markdown formatting is supported. Use # for headings, ** for bold, etc.",N,H,X,V,A=f[6]?"💾 Update Rule":"✨ Create Rule",te,ee,S,U="Cancel",x,se;return{c(){t=p("div"),e=p("div"),i=p("h3"),u=j(c),s=I(),d=p("button"),d.textContent=h,n=I(),a=p("div"),o=p("label"),o.textContent=z,P=I(),_=p("input"),E=I(),b=p("div"),k=p("label"),k.textContent=T,w=I(),y=p("input"),B=I(),R=p("div"),L=p("label"),L.textContent=O,W=I(),M=p("textarea"),Q=I(),G=p("div"),G.textContent=D,N=I(),H=p("div"),X=p("button"),V=p("span"),te=j(A),ee=I(),S=p("button"),S.textContent=U,this.h()},l(J){t=v(J,"DIV",{class:!0});var q=C(t);e=v(q,"DIV",{class:!0});var le=C(e);i=v(le,"H3",{class:!0});var ne=C(i);u=F(ne,c),ne.forEach(m),s=g(le),d=v(le,"BUTTON",{class:!0,"data-svelte-h":!0}),K(d)!=="svelte-13utbbp"&&(d.textContent=h),le.forEach(m),n=g(q),a=v(q,"DIV",{class:!0});var ie=C(a);o=v(ie,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),K(o)!=="svelte-8n7jfc"&&(o.textContent=z),P=g(ie),_=v(ie,"INPUT",{id:!0,type:!0,placeholder:!0,class:!0}),ie.forEach(m),E=g(q),b=v(q,"DIV",{class:!0});var oe=C(b);k=v(oe,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),K(k)!=="svelte-1tds9bi"&&(k.textContent=T),w=g(oe),y=v(oe,"INPUT",{id:!0,type:!0,placeholder:!0,class:!0}),oe.forEach(m),B=g(q),R=v(q,"DIV",{class:!0});var re=C(R);L=v(re,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),K(L)!=="svelte-uq9ply"&&(L.textContent=O),W=g(re),M=v(re,"TEXTAREA",{id:!0,placeholder:!0,class:!0,rows:!0}),C(M).forEach(m),Q=g(re),G=v(re,"DIV",{class:!0,"data-svelte-h":!0}),K(G)!=="svelte-1ixqk8d"&&(G.textContent=D),re.forEach(m),N=g(q),H=v(q,"DIV",{class:!0});var ce=C(H);X=v(ce,"BUTTON",{class:!0});var he=C(X);V=v(he,"SPAN",{});var fe=C(V);te=F(fe,A),fe.forEach(m),he.forEach(m),ee=g(ce),S=v(ce,"BUTTON",{class:!0,"data-svelte-h":!0}),K(S)!=="svelte-75wr97"&&(S.textContent=U),ce.forEach(m),q.forEach(m),this.h()},h(){r(i,"class","svelte-ztlmhy"),r(d,"class","btn-text svelte-ztlmhy"),r(e,"class","editor-header svelte-ztlmhy"),r(o,"for","name"),r(o,"class","svelte-ztlmhy"),r(_,"id","name"),r(_,"type","text"),r(_,"placeholder","e.g., Knowledge Graph Guidelines"),r(_,"class","input-field svelte-ztlmhy"),r(a,"class","form-group svelte-ztlmhy"),r(k,"for","description"),r(k,"class","svelte-ztlmhy"),r(y,"id","description"),r(y,"type","text"),r(y,"placeholder","What is this rule for?"),r(y,"class","input-field svelte-ztlmhy"),r(b,"class","form-group svelte-ztlmhy"),r(L,"for","content"),r(L,"class","svelte-ztlmhy"),r(M,"id","content"),r(M,"placeholder","Enter your rule content here (Markdown supported)..."),r(M,"class","textarea-field svelte-ztlmhy"),r(M,"rows","12"),r(G,"class","textarea-hint svelte-ztlmhy"),r(R,"class","form-group svelte-ztlmhy"),r(X,"class","btn-primary svelte-ztlmhy"),r(S,"class","btn-secondary svelte-ztlmhy"),r(H,"class","form-actions svelte-ztlmhy"),r(t,"class","rule-editor svelte-ztlmhy")},m(J,q){Y(J,t,q),l(t,e),l(e,i),l(i,u),l(e,s),l(e,d),l(t,n),l(t,a),l(a,o),l(a,P),l(a,_),ae(_,f[5].name),l(t,E),l(t,b),l(b,k),l(b,w),l(b,y),ae(y,f[5].description),l(t,B),l(t,R),l(R,L),l(R,W),l(R,M),ae(M,f[5].content),l(R,Q),l(R,G),l(t,N),l(t,H),l(H,X),l(X,V),l(V,te),l(H,ee),l(H,S),x||(se=[$(d,"click",f[12]),$(_,"input",f[18]),$(y,"input",f[19]),$(M,"input",f[20]),$(X,"click",f[9]),$(S,"click",f[12])],x=!0)},p(J,q){q&64&&c!==(c=J[6]?"Edit Rule":"Create New Rule")&&Z(u,c),q&32&&_.value!==J[5].name&&ae(_,J[5].name),q&32&&y.value!==J[5].description&&ae(y,J[5].description),q&32&&ae(M,J[5].content),q&64&&A!==(A=J[6]?"💾 Update Rule":"✨ Create Rule")&&Z(te,A)},d(J){J&&m(t),x=!1,Ve(se)}}}function Ee(f){let t,e,i,c,u,s;function d(a,o){return a[1]?Ue:a[8].length===0?Se:Be}let h=d(f),n=h(f);return{c(){t=p("div"),e=p("input"),i=I(),n.c(),c=ve(),this.h()},l(a){t=v(a,"DIV",{class:!0});var o=C(t);e=v(o,"INPUT",{type:!0,placeholder:!0,class:!0}),o.forEach(m),i=g(a),n.l(a),c=ve(),this.h()},h(){r(e,"type","text"),r(e,"placeholder","🔍 Search rules..."),r(e,"class","search-input svelte-ztlmhy"),r(t,"class","search-box svelte-ztlmhy")},m(a,o){Y(a,t,o),l(t,e),ae(e,f[0]),Y(a,i,o),n.m(a,o),Y(a,c,o),u||(s=$(e,"input",f[21]),u=!0)},p(a,o){o&1&&e.value!==a[0]&&ae(e,a[0]),h===(h=d(a))&&n?n.p(a,o):(n.d(1),n=h(a),n&&(n.c(),n.m(c.parentNode,c)))},d(a){a&&(m(t),m(i),m(c)),n.d(a),u=!1,s()}}}function Be(f){let t,e=[],i=new Map,c=me(f[8]);const u=s=>s[26].id;for(let s=0;s<c.length;s+=1){let d=_e(f,c,s),h=u(d);i.set(h,e[s]=ge(h,d))}return{c(){t=p("div");for(let s=0;s<e.length;s+=1)e[s].c();this.h()},l(s){t=v(s,"DIV",{class:!0});var d=C(t);for(let h=0;h<e.length;h+=1)e[h].l(d);d.forEach(m),this.h()},h(){r(t,"class","rules-list svelte-ztlmhy")},m(s,d){Y(s,t,d);for(let h=0;h<e.length;h+=1)e[h]&&e[h].m(t,null)},p(s,d){d&11648&&(c=me(s[8]),e=Pe(e,d,u,1,s,c,i,t,Ae,ge,null,_e))},d(s){s&&m(t);for(let d=0;d<e.length;d+=1)e[d].d()}}}function Se(f){let t,e,i="📭",c,u,s,d=f[0]?"matching your search":"yet",h,n,a,o=f[0]?"Try a different search term":"Create your first rule to get started",z;return{c(){t=p("div"),e=p("div"),e.textContent=i,c=I(),u=p("h3"),s=j("No rules "),h=j(d),n=I(),a=p("p"),z=j(o),this.h()},l(P){t=v(P,"DIV",{class:!0});var _=C(t);e=v(_,"DIV",{class:!0,"data-svelte-h":!0}),K(e)!=="svelte-1uhd73s"&&(e.textContent=i),c=g(_),u=v(_,"H3",{class:!0});var E=C(u);s=F(E,"No rules "),h=F(E,d),E.forEach(m),n=g(_),a=v(_,"P",{class:!0});var b=C(a);z=F(b,o),b.forEach(m),_.forEach(m),this.h()},h(){r(e,"class","empty-icon svelte-ztlmhy"),r(u,"class","svelte-ztlmhy"),r(a,"class","svelte-ztlmhy"),r(t,"class","empty-state svelte-ztlmhy")},m(P,_){Y(P,t,_),l(t,e),l(t,c),l(t,u),l(u,s),l(u,h),l(t,n),l(t,a),l(a,z)},p(P,_){_&1&&d!==(d=P[0]?"matching your search":"yet")&&Z(h,d),_&1&&o!==(o=P[0]?"Try a different search term":"Create your first rule to get started")&&Z(z,o)},d(P){P&&m(t)}}}function Ue(f){let t,e="Loading rules...";return{c(){t=p("div"),t.textContent=e,this.h()},l(i){t=v(i,"DIV",{class:!0,"data-svelte-h":!0}),K(t)!=="svelte-1u1660w"&&(t.textContent=e),this.h()},h(){r(t,"class","loading svelte-ztlmhy")},m(i,c){Y(i,t,c)},p:de,d(i){i&&m(t)}}}function ke(f){let t,e=f[26].description+"",i;return{c(){t=p("p"),i=j(e),this.h()},l(c){t=v(c,"P",{class:!0});var u=C(t);i=F(u,e),u.forEach(m),this.h()},h(){r(t,"class","rule-description svelte-ztlmhy")},m(c,u){Y(c,t,u),l(t,i)},p(c,u){u&256&&e!==(e=c[26].description+"")&&Z(i,e)},d(c){c&&m(t)}}}function De(f){let t,e,i="Preview",c,u,s=f[26].content+"",d;return{c(){t=p("div"),e=p("h4"),e.textContent=i,c=I(),u=p("div"),d=j(s),this.h()},l(h){t=v(h,"DIV",{class:!0});var n=C(t);e=v(n,"H4",{class:!0,"data-svelte-h":!0}),K(e)!=="svelte-yubmqe"&&(e.textContent=i),c=g(n),u=v(n,"DIV",{class:!0});var a=C(u);d=F(a,s),a.forEach(m),n.forEach(m),this.h()},h(){r(e,"class","svelte-ztlmhy"),r(u,"class","preview-content svelte-ztlmhy"),r(t,"class","rule-preview svelte-ztlmhy")},m(h,n){Y(h,t,n),l(t,e),l(t,c),l(t,u),l(u,d)},p(h,n){n&256&&s!==(s=h[26].content+"")&&Z(d,s)},d(h){h&&m(t)}}}function ge(f,t){var ee;let e,i,c,u=t[26].name+"",s,d,h,n,a="✏️",o,z,P="🗑️",_,E,b,k,T,w=t[26].content.length+"",y,B,R,L,O,W=new Date(t[26].updated_at).toLocaleDateString()+"",M,Q,G,D,N;function H(...S){return t[22](t[26],...S)}function X(...S){return t[23](t[26],...S)}let V=t[26].description&&ke(t),A=((ee=t[7])==null?void 0:ee.id)===t[26].id&&De(t);function te(){return t[24](t[26])}return{key:f,first:null,c(){e=p("div"),i=p("div"),c=p("h3"),s=j(u),d=I(),h=p("div"),n=p("button"),n.textContent=a,o=I(),z=p("button"),z.textContent=P,_=I(),V&&V.c(),E=I(),b=p("div"),k=p("span"),T=j("📝 "),y=j(w),B=j(" chars"),R=I(),L=p("span"),O=j("🕐 "),M=j(W),Q=I(),A&&A.c(),G=I(),this.h()},l(S){e=v(S,"DIV",{class:!0});var U=C(e);i=v(U,"DIV",{class:!0});var x=C(i);c=v(x,"H3",{class:!0});var se=C(c);s=F(se,u),se.forEach(m),d=g(x),h=v(x,"DIV",{class:!0});var J=C(h);n=v(J,"BUTTON",{class:!0,title:!0,"data-svelte-h":!0}),K(n)!=="svelte-1xv90e"&&(n.textContent=a),o=g(J),z=v(J,"BUTTON",{class:!0,title:!0,"data-svelte-h":!0}),K(z)!=="svelte-zzxyhe"&&(z.textContent=P),J.forEach(m),x.forEach(m),_=g(U),V&&V.l(U),E=g(U),b=v(U,"DIV",{class:!0});var q=C(b);k=v(q,"SPAN",{class:!0});var le=C(k);T=F(le,"📝 "),y=F(le,w),B=F(le," chars"),le.forEach(m),R=g(q),L=v(q,"SPAN",{class:!0});var ne=C(L);O=F(ne,"🕐 "),M=F(ne,W),ne.forEach(m),q.forEach(m),Q=g(U),A&&A.l(U),G=g(U),U.forEach(m),this.h()},h(){var S;r(c,"class","svelte-ztlmhy"),r(n,"class","btn-icon svelte-ztlmhy"),r(n,"title","Edit"),r(z,"class","btn-icon danger svelte-ztlmhy"),r(z,"title","Delete"),r(h,"class","rule-actions svelte-ztlmhy"),r(i,"class","rule-header svelte-ztlmhy"),r(k,"class","meta-item svelte-ztlmhy"),r(L,"class","meta-item svelte-ztlmhy"),r(b,"class","rule-meta svelte-ztlmhy"),r(e,"class","rule-card svelte-ztlmhy"),pe(e,"selected",((S=t[7])==null?void 0:S.id)===t[26].id),this.first=e},m(S,U){Y(S,e,U),l(e,i),l(i,c),l(c,s),l(i,d),l(i,h),l(h,n),l(h,o),l(h,z),l(e,_),V&&V.m(e,null),l(e,E),l(e,b),l(b,k),l(k,T),l(k,y),l(k,B),l(b,R),l(b,L),l(L,O),l(L,M),l(e,Q),A&&A.m(e,null),l(e,G),D||(N=[$(n,"click",H),$(z,"click",X),$(e,"click",te)],D=!0)},p(S,U){var x,se;t=S,U&256&&u!==(u=t[26].name+"")&&Z(s,u),t[26].description?V?V.p(t,U):(V=ke(t),V.c(),V.m(e,E)):V&&(V.d(1),V=null),U&256&&w!==(w=t[26].content.length+"")&&Z(y,w),U&256&&W!==(W=new Date(t[26].updated_at).toLocaleDateString()+"")&&Z(M,W),((x=t[7])==null?void 0:x.id)===t[26].id?A?A.p(t,U):(A=De(t),A.c(),A.m(e,G)):A&&(A.d(1),A=null),U&384&&pe(e,"selected",((se=t[7])==null?void 0:se.id)===t[26].id)},d(S){S&&m(e),V&&V.d(),A&&A.d(),D=!1,Ve(N)}}}function Ie(f){let t,e,i,c="Rule Details",u,s,d,h="Name",n,a,o=f[7].name+"",z,P,_,E,b,k="Created",T,w,y=new Date(f[7].created_at).toLocaleString()+"",B,R,L,O,W="Updated",M,Q,G=new Date(f[7].updated_at).toLocaleString()+"",D,N=f[7].description&&we(f);return{c(){t=p("div"),e=p("div"),i=p("h3"),i.textContent=c,u=I(),s=p("div"),d=p("label"),d.textContent=h,n=I(),a=p("p"),z=j(o),P=I(),N&&N.c(),_=I(),E=p("div"),b=p("label"),b.textContent=k,T=I(),w=p("p"),B=j(y),R=I(),L=p("div"),O=p("label"),O.textContent=W,M=I(),Q=p("p"),D=j(G),this.h()},l(H){t=v(H,"DIV",{class:!0});var X=C(t);e=v(X,"DIV",{class:!0});var V=C(e);i=v(V,"H3",{class:!0,"data-svelte-h":!0}),K(i)!=="svelte-p2t4mw"&&(i.textContent=c),u=g(V),s=v(V,"DIV",{class:!0});var A=C(s);d=v(A,"LABEL",{class:!0,"data-svelte-h":!0}),K(d)!=="svelte-ry910h"&&(d.textContent=h),n=g(A),a=v(A,"P",{class:!0});var te=C(a);z=F(te,o),te.forEach(m),A.forEach(m),P=g(V),N&&N.l(V),_=g(V),E=v(V,"DIV",{class:!0});var ee=C(E);b=v(ee,"LABEL",{class:!0,"data-svelte-h":!0}),K(b)!=="svelte-39aswo"&&(b.textContent=k),T=g(ee),w=v(ee,"P",{class:!0});var S=C(w);B=F(S,y),S.forEach(m),ee.forEach(m),R=g(V),L=v(V,"DIV",{class:!0});var U=C(L);O=v(U,"LABEL",{class:!0,"data-svelte-h":!0}),K(O)!=="svelte-tjz4cv"&&(O.textContent=W),M=g(U),Q=v(U,"P",{class:!0});var x=C(Q);D=F(x,G),x.forEach(m),U.forEach(m),V.forEach(m),X.forEach(m),this.h()},h(){r(i,"class","svelte-ztlmhy"),r(d,"class","svelte-ztlmhy"),r(a,"class","svelte-ztlmhy"),r(s,"class","detail-group svelte-ztlmhy"),r(b,"class","svelte-ztlmhy"),r(w,"class","svelte-ztlmhy"),r(E,"class","detail-group svelte-ztlmhy"),r(O,"class","svelte-ztlmhy"),r(Q,"class","svelte-ztlmhy"),r(L,"class","detail-group svelte-ztlmhy"),r(e,"class","sidebar-card svelte-ztlmhy"),r(t,"class","rules-sidebar svelte-ztlmhy")},m(H,X){Y(H,t,X),l(t,e),l(e,i),l(e,u),l(e,s),l(s,d),l(s,n),l(s,a),l(a,z),l(e,P),N&&N.m(e,null),l(e,_),l(e,E),l(E,b),l(E,T),l(E,w),l(w,B),l(e,R),l(e,L),l(L,O),l(L,M),l(L,Q),l(Q,D)},p(H,X){X&128&&o!==(o=H[7].name+"")&&Z(z,o),H[7].description?N?N.p(H,X):(N=we(H),N.c(),N.m(e,_)):N&&(N.d(1),N=null),X&128&&y!==(y=new Date(H[7].created_at).toLocaleString()+"")&&Z(B,y),X&128&&G!==(G=new Date(H[7].updated_at).toLocaleString()+"")&&Z(D,G)},d(H){H&&m(t),N&&N.d()}}}function we(f){let t,e,i="Description",c,u,s=f[7].description+"",d;return{c(){t=p("div"),e=p("label"),e.textContent=i,c=I(),u=p("p"),d=j(s),this.h()},l(h){t=v(h,"DIV",{class:!0});var n=C(t);e=v(n,"LABEL",{class:!0,"data-svelte-h":!0}),K(e)!=="svelte-yaz8sq"&&(e.textContent=i),c=g(n),u=v(n,"P",{class:!0});var a=C(u);d=F(a,s),a.forEach(m),n.forEach(m),this.h()},h(){r(e,"class","svelte-ztlmhy"),r(u,"class","svelte-ztlmhy"),r(t,"class","detail-group svelte-ztlmhy")},m(h,n){Y(h,t,n),l(t,e),l(t,c),l(t,u),l(u,d)},p(h,n){n&128&&s!==(s=h[7].description+"")&&Z(d,s)},d(h){h&&m(t)}}}function He(f){let t,e,i,c,u='<h1 class="svelte-ztlmhy">📋 Agent Rules Library</h1> <p class="svelte-ztlmhy">Create and manage reusable rules to configure agent behavior across different turns</p>',s,d,h,n,a,o,z,P,_=!f[4]&&ye(f),E=f[2]&&be(f),b=f[3]&&Ce(f),k=f[4]&&ze(f),T=!f[4]&&Ee(f),w=!f[4]&&f[7]&&Ie(f);return{c(){t=p("div"),e=p("div"),i=p("div"),c=p("div"),c.innerHTML=u,s=I(),_&&_.c(),d=I(),E&&E.c(),h=I(),b&&b.c(),n=I(),a=p("div"),o=p("div"),k&&k.c(),z=I(),T&&T.c(),P=I(),w&&w.c(),this.h()},l(y){t=v(y,"DIV",{class:!0});var B=C(t);e=v(B,"DIV",{class:!0});var R=C(e);i=v(R,"DIV",{class:!0});var L=C(i);c=v(L,"DIV",{class:!0,"data-svelte-h":!0}),K(c)!=="svelte-1uj0q7n"&&(c.innerHTML=u),s=g(L),_&&_.l(L),L.forEach(m),d=g(R),E&&E.l(R),h=g(R),b&&b.l(R),n=g(R),a=v(R,"DIV",{class:!0});var O=C(a);o=v(O,"DIV",{class:!0});var W=C(o);k&&k.l(W),z=g(W),T&&T.l(W),W.forEach(m),P=g(O),w&&w.l(O),O.forEach(m),R.forEach(m),B.forEach(m),this.h()},h(){r(c,"class","header-left svelte-ztlmhy"),r(i,"class","header svelte-ztlmhy"),r(o,"class","rules-main svelte-ztlmhy"),r(a,"class","rules-layout svelte-ztlmhy"),r(e,"class","rules-content svelte-ztlmhy"),r(t,"class","rules-container svelte-ztlmhy")},m(y,B){Y(y,t,B),l(t,e),l(e,i),l(i,c),l(i,s),_&&_.m(i,null),l(e,d),E&&E.m(e,null),l(e,h),b&&b.m(e,null),l(e,n),l(e,a),l(a,o),k&&k.m(o,null),l(o,z),T&&T.m(o,null),l(a,P),w&&w.m(a,null)},p(y,[B]){y[4]?_&&(_.d(1),_=null):_?_.p(y,B):(_=ye(y),_.c(),_.m(i,null)),y[2]?E?E.p(y,B):(E=be(y),E.c(),E.m(e,h)):E&&(E.d(1),E=null),y[3]?b?b.p(y,B):(b=Ce(y),b.c(),b.m(e,n)):b&&(b.d(1),b=null),y[4]?k?k.p(y,B):(k=ze(y),k.c(),k.m(o,z)):k&&(k.d(1),k=null),y[4]?T&&(T.d(1),T=null):T?T.p(y,B):(T=Ee(y),T.c(),T.m(o,null)),!y[4]&&y[7]?w?w.p(y,B):(w=Ie(y),w.c(),w.m(a,null)):w&&(w.d(1),w=null)},i:de,o:de,d(y){y&&m(t),_&&_.d(),E&&E.d(),b&&b.d(),k&&k.d(),T&&T.d(),w&&w.d()}}}function qe(f,t,e){let i,c=[],u=!0,s="",d="",h=!1,n={name:"",content:"",description:""},a=null,o=null,z="";async function P(){try{e(1,u=!0),e(14,c=await ue.getAllRules()),e(2,s="")}catch(D){e(2,s=`Failed to load rules: ${D}`),e(14,c=[])}finally{e(1,u=!1)}}async function _(){if(!n.name||!n.content){e(2,s="Name and content are required");return}try{a?(await ue.updateRule(a,{name:n.name,content:n.content,description:n.description||void 0}),e(3,d=`Rule "${n.name}" updated successfully`)):(await ue.createRule(n.name,n.content,n.description),e(3,d=`Rule "${n.name}" created successfully`)),k(),await P()}catch(D){e(2,s=`Failed to save rule: ${D}`)}}async function E(D,N){if(confirm(`Delete rule "${N}"?`))try{await ue.deleteRule(D),e(3,d=`Rule "${N}" deleted successfully`),(o==null?void 0:o.id)===D&&e(7,o=null),await P()}catch(H){e(2,s=`Failed to delete rule: ${H}`)}}function b(D){e(6,a=D.id),e(5,n={id:D.id,name:D.name,content:D.content,description:D.description||""}),e(4,h=!0),e(7,o=null)}function k(){e(4,h=!1),e(6,a=null),e(5,n={name:"",content:"",description:""})}function T(D){e(7,o=(o==null?void 0:o.id)===D.id?null:D)}Re(()=>{P()});const w=()=>e(4,h=!0),y=()=>e(2,s=""),B=()=>e(3,d="");function R(){n.name=this.value,e(5,n)}function L(){n.description=this.value,e(5,n)}function O(){n.content=this.value,e(5,n)}function W(){z=this.value,e(0,z)}const M=(D,N)=>{N.stopPropagation(),b(D)},Q=(D,N)=>{N.stopPropagation(),E(D.id,D.name)},G=D=>T(D);return f.$$.update=()=>{f.$$.dirty&16385&&e(8,i=c.filter(D=>D.name.toLowerCase().includes(z.toLowerCase())||D.content.toLowerCase().includes(z.toLowerCase())))},[z,u,s,d,h,n,a,o,i,_,E,b,k,T,c,w,y,B,R,L,O,W,M,Q,G]}class Ge extends Le{constructor(t){super(),Te(this,t,qe,He,Ne,{})}}export{Ge as component};
