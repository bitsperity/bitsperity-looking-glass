import{S as $e,i as we,s as ye,K as Le,L as Ne,d as _,B as oe,r as Ae,v as K,w as M,M as Te,H as be,x as Ie,y as se,z as ue,b as R,c as a,C as ce,q as ie,m as v,J as Be,e as f,f as V,o as q,h as L,D as fe,j as d,k as N,E as de,n as X,a as Z,g as z,t as F,A as _e,G as je,u as He}from"../chunks/BeOz57Dq.js";import{e as ge}from"../chunks/D_ZdN6Q8.js";import"../chunks/IHki7fMi.js";import{i as Oe}from"../chunks/ClFG0zlK.js";import{L as De}from"../chunks/DliJ_N1j.js";import{A as Pe,a as ze}from"../chunks/BXfZ-OPp.js";function ke(i,e,n){const l=i.slice();return l[10]=e[n].node,l[11]=e[n].similarity,l[12]=e[n].shared_relations,l}function Fe(i){let e,n,l="Reference Entity",s,r,t,o,u,$,b=(i[5].source.properties.name||i[5].source.properties.ticker||i[5].source.id)+"",A,P,k,S,O,J="Similar Entities",w,C,D,p;o=new De({props:{label:i[5].source.label}});let c=i[5].source.properties.sector&&Ce(i);const g=[Je,qe],m=[];function y(h,x){return h[5].similar.length===0?0:1}return C=y(i),D=m[C]=g[C](i),{c(){e=d("div"),n=d("h2"),n.textContent=l,s=N(),r=d("div"),t=d("div"),de(o.$$.fragment),u=N(),$=d("h3"),A=F(b),P=N(),c&&c.c(),k=N(),S=d("div"),O=d("h2"),O.textContent=J,w=N(),D.c(),this.h()},l(h){e=f(h,"DIV",{class:!0});var x=V(e);n=f(x,"H2",{class:!0,"data-svelte-h":!0}),q(n)!=="svelte-mdhbsn"&&(n.textContent=l),s=L(x),r=f(x,"DIV",{class:!0});var I=V(r);t=f(I,"DIV",{class:!0});var B=V(t);fe(o.$$.fragment,B),u=L(B),$=f(B,"H3",{class:!0});var G=V($);A=z(G,b),G.forEach(_),B.forEach(_),P=L(I),c&&c.l(I),I.forEach(_),x.forEach(_),k=L(h),S=f(h,"DIV",{});var Y=V(S);O=f(Y,"H2",{class:!0,"data-svelte-h":!0}),q(O)!=="svelte-jcgd73"&&(O.textContent=J),w=L(Y),D.l(Y),Y.forEach(_),this.h()},h(){v(n,"class","text-xl font-semibold text-neutral-200 mb-3"),v($,"class","text-lg font-medium text-neutral-100"),v(t,"class","flex items-center gap-2 mb-1"),v(r,"class","bg-neutral-900 rounded border border-neutral-800 p-4"),v(e,"class","mb-6"),v(O,"class","text-xl font-semibold text-neutral-200 mb-3")},m(h,x){R(h,e,x),a(e,n),a(e,s),a(e,r),a(r,t),ce(o,t,null),a(t,u),a(t,$),a($,A),a(r,P),c&&c.m(r,null),R(h,k,x),R(h,S,x),a(S,O),a(S,w),m[C].m(S,null),p=!0},p(h,x){const I={};x&32&&(I.label=h[5].source.label),o.$set(I),(!p||x&32)&&b!==(b=(h[5].source.properties.name||h[5].source.properties.ticker||h[5].source.id)+"")&&Z(A,b),h[5].source.properties.sector?c?c.p(h,x):(c=Ce(h),c.c(),c.m(r,null)):c&&(c.d(1),c=null);let B=C;C=y(h),C===B?m[C].p(h,x):(_e(),K(m[B],1,1,()=>{m[B]=null}),ue(),D=m[C],D?D.p(h,x):(D=m[C]=g[C](h),D.c()),M(D,1),D.m(S,null))},i(h){p||(M(o.$$.fragment,h),M(D),p=!0)},o(h){K(o.$$.fragment,h),K(D),p=!1},d(h){h&&(_(e),_(k),_(S)),oe(o),c&&c.d(),m[C].d()}}}function Re(i){let e,n,l;return{c(){e=d("div"),n=F("Error: "),l=F(i[4]),this.h()},l(s){e=f(s,"DIV",{class:!0});var r=V(e);n=z(r,"Error: "),l=z(r,i[4]),r.forEach(_),this.h()},h(){v(e,"class","text-red-400")},m(s,r){R(s,e,r),a(e,n),a(e,l)},p(s,r){r&16&&Z(l,s[4])},i:X,o:X,d(s){s&&_(e)}}}function Ge(i){let e,n="Searching...";return{c(){e=d("div"),e.textContent=n,this.h()},l(l){e=f(l,"DIV",{class:!0,"data-svelte-h":!0}),q(e)!=="svelte-13f0ma9"&&(e.textContent=n),this.h()},h(){v(e,"class","text-neutral-400")},m(l,s){R(l,e,s)},p:X,i:X,o:X,d(l){l&&_(e)}}}function Ce(i){let e,n,l=i[5].source.properties.sector+"",s;return{c(){e=d("div"),n=F("Sector: "),s=F(l),this.h()},l(r){e=f(r,"DIV",{class:!0});var t=V(e);n=z(t,"Sector: "),s=z(t,l),t.forEach(_),this.h()},h(){v(e,"class","text-sm text-neutral-400")},m(r,t){R(r,e,t),a(e,n),a(e,s)},p(r,t){t&32&&l!==(l=r[5].source.properties.sector+"")&&Z(s,l)},d(r){r&&_(e)}}}function qe(i){let e,n,l=ge(i[5].similar),s=[];for(let t=0;t<l.length;t+=1)s[t]=Se(ke(i,l,t));const r=t=>K(s[t],1,1,()=>{s[t]=null});return{c(){e=d("div");for(let t=0;t<s.length;t+=1)s[t].c();this.h()},l(t){e=f(t,"DIV",{class:!0});var o=V(e);for(let u=0;u<s.length;u+=1)s[u].l(o);o.forEach(_),this.h()},h(){v(e,"class","grid grid-cols-1 md:grid-cols-2 gap-4")},m(t,o){R(t,e,o);for(let u=0;u<s.length;u+=1)s[u]&&s[u].m(e,null);n=!0},p(t,o){if(o&32){l=ge(t[5].similar);let u;for(u=0;u<l.length;u+=1){const $=ke(t,l,u);s[u]?(s[u].p($,o),M(s[u],1)):(s[u]=Se($),s[u].c(),M(s[u],1),s[u].m(e,null))}for(_e(),u=l.length;u<s.length;u+=1)r(u);ue()}},i(t){if(!n){for(let o=0;o<l.length;o+=1)M(s[o]);n=!0}},o(t){s=s.filter(Boolean);for(let o=0;o<s.length;o+=1)K(s[o]);n=!1},d(t){t&&_(e),He(s,t)}}}function Je(i){let e,n="No similar entities found";return{c(){e=d("div"),e.textContent=n,this.h()},l(l){e=f(l,"DIV",{class:!0,"data-svelte-h":!0}),q(e)!=="svelte-pgcsnm"&&(e.textContent=n),this.h()},h(){v(e,"class","text-neutral-400")},m(l,s){R(l,e,s)},p:X,i:X,o:X,d(l){l&&_(e)}}}function xe(i){let e,n,l=i[10].properties.sector+"",s;return{c(){e=d("div"),n=F("Sector: "),s=F(l),this.h()},l(r){e=f(r,"DIV",{class:!0});var t=V(e);n=z(t,"Sector: "),s=z(t,l),t.forEach(_),this.h()},h(){v(e,"class","text-sm text-neutral-400 mb-2")},m(r,t){R(r,e,t),a(e,n),a(e,s)},p(r,t){t&32&&l!==(l=r[10].properties.sector+"")&&Z(s,l)},d(r){r&&_(e)}}}function Ee(i){let e,n,l=i[12]+"",s;return{c(){e=d("span"),n=F("Shared Relations: "),s=F(l)},l(r){e=f(r,"SPAN",{});var t=V(e);n=z(t,"Shared Relations: "),s=z(t,l),t.forEach(_)},m(r,t){R(r,e,t),a(e,n),a(e,s)},p(r,t){t&32&&l!==(l=r[12]+"")&&Z(s,l)},d(r){r&&_(e)}}}function Se(i){let e,n,l,s,r,t=(i[10].properties.name||i[10].properties.ticker||i[10].id)+"",o,u,$,b,A,P,k,S=(i[11]*100).toFixed(1)+"",O,J,w,C,D;l=new De({props:{label:i[10].label}});let p=i[10].properties.sector&&xe(i),c=i[12]!=null&&Ee(i);return{c(){e=d("div"),n=d("div"),de(l.$$.fragment),s=N(),r=d("h3"),o=F(t),u=N(),p&&p.c(),$=N(),b=d("div"),A=d("span"),P=F("Similarity: "),k=d("strong"),O=F(S),J=F("%"),w=N(),c&&c.c(),C=N(),this.h()},l(g){e=f(g,"DIV",{class:!0});var m=V(e);n=f(m,"DIV",{class:!0});var y=V(n);fe(l.$$.fragment,y),s=L(y),r=f(y,"H3",{class:!0});var h=V(r);o=z(h,t),h.forEach(_),y.forEach(_),u=L(m),p&&p.l(m),$=L(m),b=f(m,"DIV",{class:!0});var x=V(b);A=f(x,"SPAN",{});var I=V(A);P=z(I,"Similarity: "),k=f(I,"STRONG",{class:!0});var B=V(k);O=z(B,S),J=z(B,"%"),B.forEach(_),I.forEach(_),w=L(x),c&&c.l(x),x.forEach(_),C=L(m),m.forEach(_),this.h()},h(){v(r,"class","text-lg font-medium text-neutral-100"),v(n,"class","flex items-center gap-2 mb-2"),v(k,"class","text-neutral-100"),v(b,"class","flex items-center gap-4 text-sm text-neutral-500"),v(e,"class","bg-neutral-900 rounded border border-neutral-800 p-4")},m(g,m){R(g,e,m),a(e,n),ce(l,n,null),a(n,s),a(n,r),a(r,o),a(e,u),p&&p.m(e,null),a(e,$),a(e,b),a(b,A),a(A,P),a(A,k),a(k,O),a(k,J),a(b,w),c&&c.m(b,null),a(e,C),D=!0},p(g,m){const y={};m&32&&(y.label=g[10].label),l.$set(y),(!D||m&32)&&t!==(t=(g[10].properties.name||g[10].properties.ticker||g[10].id)+"")&&Z(o,t),g[10].properties.sector?p?p.p(g,m):(p=xe(g),p.c(),p.m(e,$)):p&&(p.d(1),p=null),(!D||m&32)&&S!==(S=(g[11]*100).toFixed(1)+"")&&Z(O,S),g[12]!=null?c?c.p(g,m):(c=Ee(g),c.c(),c.m(b,null)):c&&(c.d(1),c=null)},i(g){D||(M(l.$$.fragment,g),D=!0)},o(g){K(l.$$.fragment,g),D=!1},d(g){g&&_(e),oe(l),p&&p.d(),c&&c.d()}}}function Me(i){let e,n,l="Similar Entities",s,r,t,o,u="Ticker",$,b,A,P,k,S,O="Method",J,w,C,D="Weighted Jaccard",p,c="GDS Node Similarity",g,m,y,h="Limit",x,I,B,G,Y="Find Similar",re,j,H,ee,ne,he;function Ve(E){i[7](E)}let pe={fetchSuggestions:ze,placeholder:"e.g., NVDA"};i[0]!==void 0&&(pe.value=i[0]),b=new Pe({props:pe}),Le.push(()=>Ne(b,"value",Ve)),b.$on("select",i[6]);const me=[Ge,Re,Fe],W=[];function ve(E,T){return E[3]?0:E[4]?1:E[5]?2:-1}return~(j=ve(i))&&(H=W[j]=me[j](i)),{c(){e=d("div"),n=d("h1"),n.textContent=l,s=N(),r=d("div"),t=d("div"),o=d("label"),o.textContent=u,$=N(),de(b.$$.fragment),P=N(),k=d("div"),S=d("label"),S.textContent=O,J=N(),w=d("select"),C=d("option"),C.textContent=D,p=d("option"),p.textContent=c,g=N(),m=d("div"),y=d("label"),y.textContent=h,x=N(),I=d("input"),B=N(),G=d("button"),G.textContent=Y,re=N(),H&&H.c(),this.h()},l(E){e=f(E,"DIV",{class:!0});var T=V(e);n=f(T,"H1",{class:!0,"data-svelte-h":!0}),q(n)!=="svelte-16h210a"&&(n.textContent=l),s=L(T),r=f(T,"DIV",{class:!0});var U=V(r);t=f(U,"DIV",{});var Q=V(t);o=f(Q,"LABEL",{class:!0,"data-svelte-h":!0}),q(o)!=="svelte-zuim69"&&(o.textContent=u),$=L(Q),fe(b.$$.fragment,Q),Q.forEach(_),P=L(U),k=f(U,"DIV",{});var te=V(k);S=f(te,"LABEL",{class:!0,"data-svelte-h":!0}),q(S)!=="svelte-14znm5s"&&(S.textContent=O),J=L(te),w=f(te,"SELECT",{class:!0});var ae=V(w);C=f(ae,"OPTION",{"data-svelte-h":!0}),q(C)!=="svelte-1tr3g1n"&&(C.textContent=D),p=f(ae,"OPTION",{"data-svelte-h":!0}),q(p)!=="svelte-1pwlczj"&&(p.textContent=c),ae.forEach(_),te.forEach(_),g=L(U),m=f(U,"DIV",{});var le=V(m);y=f(le,"LABEL",{class:!0,"data-svelte-h":!0}),q(y)!=="svelte-1ninenc"&&(y.textContent=h),x=L(le),I=f(le,"INPUT",{type:!0,min:!0,max:!0,class:!0}),le.forEach(_),U.forEach(_),B=L(T),G=f(T,"BUTTON",{class:!0,"data-svelte-h":!0}),q(G)!=="svelte-k6o2jt"&&(G.textContent=Y),re=L(T),H&&H.l(T),T.forEach(_),this.h()},h(){v(n,"class","text-3xl font-bold text-neutral-100 mb-6"),v(o,"class","block text-sm font-medium text-neutral-300 mb-1"),v(S,"class","block text-sm font-medium text-neutral-300 mb-1"),C.__value="weighted_jaccard",se(C,C.__value),p.__value="gds",se(p,p.__value),v(w,"class","w-full px-3 py-2 bg-neutral-900 border border-neutral-700 rounded text-neutral-100 focus:outline-none focus:border-indigo-500"),i[1]===void 0&&Be(()=>i[8].call(w)),v(y,"class","block text-sm font-medium text-neutral-300 mb-1"),v(I,"type","number"),v(I,"min","1"),v(I,"max","50"),v(I,"class","w-full px-3 py-2 bg-neutral-900 border border-neutral-700 rounded text-neutral-100 focus:outline-none focus:border-indigo-500"),v(r,"class","mb-6 grid grid-cols-1 md:grid-cols-3 gap-3"),v(G,"class","px-4 py-2 rounded bg-indigo-600 hover:bg-indigo-500 text-white mb-6"),v(e,"class","max-w-7xl mx-auto p-6")},m(E,T){R(E,e,T),a(e,n),a(e,s),a(e,r),a(r,t),a(t,o),a(t,$),ce(b,t,null),a(r,P),a(r,k),a(k,S),a(k,J),a(k,w),a(w,C),a(w,p),be(w,i[1],!0),a(r,g),a(r,m),a(m,y),a(m,x),a(m,I),se(I,i[2]),a(e,B),a(e,G),a(e,re),~j&&W[j].m(e,null),ee=!0,ne||(he=[ie(w,"change",i[8]),ie(I,"input",i[9]),ie(G,"click",i[6])],ne=!0)},p(E,[T]){const U={};!A&&T&1&&(A=!0,U.value=E[0],Te(()=>A=!1)),b.$set(U),T&2&&be(w,E[1]),T&4&&Ie(I.value)!==E[2]&&se(I,E[2]);let Q=j;j=ve(E),j===Q?~j&&W[j].p(E,T):(H&&(_e(),K(W[Q],1,1,()=>{W[Q]=null}),ue()),~j?(H=W[j],H?H.p(E,T):(H=W[j]=me[j](E),H.c()),M(H,1),H.m(e,null)):H=null)},i(E){ee||(M(b.$$.fragment,E),M(H),ee=!0)},o(E){K(b.$$.fragment,E),K(H),ee=!1},d(E){E&&_(e),oe(b),~j&&W[j].d(),ne=!1,Ae(he)}}}function Ue(i,e,n){let l="",s="weighted_jaccard",r=10,t=!1,o=null,u=null;async function $(){if(l){n(3,t=!0),n(4,o=null);try{n(5,u=await Oe({ticker:l,method:s,limit:r}))}catch(k){n(4,o=(k==null?void 0:k.message)??"Failed to find similar entities")}finally{n(3,t=!1)}}}function b(k){l=k,n(0,l)}function A(){s=je(this),n(1,s)}function P(){r=Ie(this.value),n(2,r)}return[l,s,r,t,o,u,$,b,A,P]}class et extends $e{constructor(e){super(),we(this,e,Ue,Me,ye,{})}}export{et as component};
