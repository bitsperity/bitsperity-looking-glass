import{S as oe,i as ce,s as ue,n as B,d as h,a as M,b as y,c as d,m as g,e as b,f as C,g as S,h as w,j as k,t as N,k as P,B as F,v as T,w as z,z as fe,C as J,o as X,D as R,E as W,p as de,u as te,A as he}from"../chunks/BeOz57Dq.js";import{e as L}from"../chunks/D_ZdN6Q8.js";import"../chunks/IHki7fMi.js";import{f as ve}from"../chunks/BpH5ZX46.js";import{M as _e}from"../chunks/il2daQFk.js";function le(n){let e,t;return{c(){e=k("span"),t=N(n[3]),this.h()},l(l){e=b(l,"SPAN",{class:!0});var a=C(e);t=S(a,n[3]),a.forEach(h),this.h()},h(){g(e,"class","text-xl")},m(l,a){y(l,e,a),d(e,t)},p(l,a){a&8&&M(t,l[3])},d(l){l&&h(e)}}}function ae(n){let e,t;return{c(){e=k("div"),t=N(n[2]),this.h()},l(l){e=b(l,"DIV",{class:!0});var a=C(e);t=S(a,n[2]),a.forEach(h),this.h()},h(){g(e,"class","text-xs text-neutral-500 mt-1")},m(l,a){y(l,e,a),d(e,t)},p(l,a){a&4&&M(t,l[2])},d(l){l&&h(e)}}}function me(n){let e,t,l,a,_,u,r,f,p,o=n[3]&&le(n),i=n[2]&&ae(n);return{c(){e=k("div"),t=k("div"),l=k("div"),a=N(n[0]),_=P(),o&&o.c(),u=P(),r=k("div"),f=N(n[1]),p=P(),i&&i.c(),this.h()},l(m){e=b(m,"DIV",{class:!0});var c=C(e);t=b(c,"DIV",{class:!0});var D=C(t);l=b(D,"DIV",{class:!0});var $=C(l);a=S($,n[0]),$.forEach(h),_=w(D),o&&o.l(D),D.forEach(h),u=w(c),r=b(c,"DIV",{class:!0});var j=C(r);f=S(j,n[1]),j.forEach(h),p=w(c),i&&i.l(c),c.forEach(h),this.h()},h(){g(l,"class","text-sm text-neutral-400"),g(t,"class","flex items-center justify-between mb-2"),g(r,"class","text-2xl font-semibold"),g(e,"class","bg-neutral-900 rounded p-4 border border-neutral-800")},m(m,c){y(m,e,c),d(e,t),d(t,l),d(l,a),d(t,_),o&&o.m(t,null),d(e,u),d(e,r),d(r,f),d(e,p),i&&i.m(e,null)},p(m,[c]){c&1&&M(a,m[0]),m[3]?o?o.p(m,c):(o=le(m),o.c(),o.m(t,null)):o&&(o.d(1),o=null),c&2&&M(f,m[1]),m[2]?i?i.p(m,c):(i=ae(m),i.c(),i.m(e,null)):i&&(i.d(1),i=null)},i:B,o:B,d(m){m&&h(e),o&&o.d(),i&&i.d()}}}function pe(n,e,t){let{title:l}=e,{value:a}=e,{subtitle:_=""}=e,{icon:u=""}=e;return n.$$set=r=>{"title"in r&&t(0,l=r.title),"value"in r&&t(1,a=r.value),"subtitle"in r&&t(2,_=r.subtitle),"icon"in r&&t(3,u=r.icon)},[l,a,_,u]}class Z extends oe{constructor(e){super(),ce(this,e,pe,me,ue,{title:0,value:1,subtitle:2,icon:3})}}function se(n,e,t){const l=n.slice();return l[3]=e[t][0],l[4]=e[t][1],l}function ne(n,e,t){const l=n.slice();return l[7]=e[t][0],l[4]=e[t][1],l}function ge(n){let e,t,l,a,_,u,r,f,p,o,i="By Type",m,c,D,$,j,ee="By Status",Y,q,K;t=new Z({props:{title:"Health",value:n[1].health.status,subtitle:"Qdrant: "+(n[1].health.qdrant_connected?"connected":"down")+" Â· Collection: "+n[1].health.collection_name,icon:"âœ“"}}),a=new Z({props:{title:"Device",value:n[1].device.cuda_available?"ðŸš€ GPU":"CPU",subtitle:(n[1].device.gpu_name||"CPU mode")+" Â· "+n[1].device.model_device}}),u=new Z({props:{title:"Thoughts",value:n[1].statsAll.total,subtitle:"Avg confidence: "+Math.round((n[1].statsAll.avg_confidence??0)*100)+"% Â· Validation rate: "+Math.round((n[1].statsAll.validation_rate??0)*100)+"%",icon:"ðŸ’­"}});let G=L(Object.entries(n[1].statsAll.by_type||{})),A=[];for(let s=0;s<G.length;s+=1)A[s]=ie(ne(n,G,s));let H=L(Object.entries(n[1].statsAll.by_status||{})),I=[];for(let s=0;s<H.length;s+=1)I[s]=re(se(n,H,s));return{c(){e=k("div"),W(t.$$.fragment),l=P(),W(a.$$.fragment),_=P(),W(u.$$.fragment),r=P(),f=k("div"),p=k("div"),o=k("div"),o.textContent=i,m=P(),c=k("div");for(let s=0;s<A.length;s+=1)A[s].c();D=P(),$=k("div"),j=k("div"),j.textContent=ee,Y=P(),q=k("div");for(let s=0;s<I.length;s+=1)I[s].c();this.h()},l(s){e=b(s,"DIV",{class:!0});var E=C(e);R(t.$$.fragment,E),l=w(E),R(a.$$.fragment,E),_=w(E),R(u.$$.fragment,E),E.forEach(h),r=w(s),f=b(s,"DIV",{class:!0});var V=C(f);p=b(V,"DIV",{class:!0});var U=C(p);o=b(U,"DIV",{class:!0,"data-svelte-h":!0}),X(o)!=="svelte-13vm16m"&&(o.textContent=i),m=w(U),c=b(U,"DIV",{class:!0});var Q=C(c);for(let x=0;x<A.length;x+=1)A[x].l(Q);Q.forEach(h),U.forEach(h),D=w(V),$=b(V,"DIV",{class:!0});var v=C($);j=b(v,"DIV",{class:!0,"data-svelte-h":!0}),X(j)!=="svelte-9ej0n8"&&(j.textContent=ee),Y=w(v),q=b(v,"DIV",{class:!0});var O=C(q);for(let x=0;x<I.length;x+=1)I[x].l(O);O.forEach(h),v.forEach(h),V.forEach(h),this.h()},h(){g(e,"class","grid grid-cols-1 md:grid-cols-3 gap-4"),g(o,"class","text-sm text-neutral-400 mb-2"),g(c,"class","space-y-1"),g(p,"class","bg-neutral-900 rounded p-4 border border-neutral-800"),g(j,"class","text-sm text-neutral-400 mb-2"),g(q,"class","space-y-1"),g($,"class","bg-neutral-900 rounded p-4 border border-neutral-800"),g(f,"class","grid grid-cols-1 md:grid-cols-2 gap-4")},m(s,E){y(s,e,E),J(t,e,null),d(e,l),J(a,e,null),d(e,_),J(u,e,null),y(s,r,E),y(s,f,E),d(f,p),d(p,o),d(p,m),d(p,c);for(let V=0;V<A.length;V+=1)A[V]&&A[V].m(c,null);d(f,D),d(f,$),d($,j),d($,Y),d($,q);for(let V=0;V<I.length;V+=1)I[V]&&I[V].m(q,null);K=!0},p(s,E){const V={};E&2&&(V.value=s[1].health.status),E&2&&(V.subtitle="Qdrant: "+(s[1].health.qdrant_connected?"connected":"down")+" Â· Collection: "+s[1].health.collection_name),t.$set(V);const U={};E&2&&(U.value=s[1].device.cuda_available?"ðŸš€ GPU":"CPU"),E&2&&(U.subtitle=(s[1].device.gpu_name||"CPU mode")+" Â· "+s[1].device.model_device),a.$set(U);const Q={};if(E&2&&(Q.value=s[1].statsAll.total),E&2&&(Q.subtitle="Avg confidence: "+Math.round((s[1].statsAll.avg_confidence??0)*100)+"% Â· Validation rate: "+Math.round((s[1].statsAll.validation_rate??0)*100)+"%"),u.$set(Q),E&2){G=L(Object.entries(s[1].statsAll.by_type||{}));let v;for(v=0;v<G.length;v+=1){const O=ne(s,G,v);A[v]?A[v].p(O,E):(A[v]=ie(O),A[v].c(),A[v].m(c,null))}for(;v<A.length;v+=1)A[v].d(1);A.length=G.length}if(E&2){H=L(Object.entries(s[1].statsAll.by_status||{}));let v;for(v=0;v<H.length;v+=1){const O=se(s,H,v);I[v]?I[v].p(O,E):(I[v]=re(O),I[v].c(),I[v].m(q,null))}for(;v<I.length;v+=1)I[v].d(1);I.length=H.length}},i(s){K||(z(t.$$.fragment,s),z(a.$$.fragment,s),z(u.$$.fragment,s),K=!0)},o(s){T(t.$$.fragment,s),T(a.$$.fragment,s),T(u.$$.fragment,s),K=!1},d(s){s&&(h(e),h(r),h(f)),F(t),F(a),F(u),te(A,s),te(I,s)}}}function be(n){let e,t;return{c(){e=k("div"),t=N(n[2]),this.h()},l(l){e=b(l,"DIV",{class:!0});var a=C(e);t=S(a,n[2]),a.forEach(h),this.h()},h(){g(e,"class","text-red-400")},m(l,a){y(l,e,a),d(e,t)},p(l,a){a&4&&M(t,l[2])},i:B,o:B,d(l){l&&h(e)}}}function ke(n){let e,t="Loadingâ€¦";return{c(){e=k("div"),e.textContent=t,this.h()},l(l){e=b(l,"DIV",{class:!0,"data-svelte-h":!0}),X(e)!=="svelte-186sx6p"&&(e.textContent=t),this.h()},h(){g(e,"class","text-neutral-400")},m(l,a){y(l,e,a)},p:B,i:B,o:B,d(l){l&&h(e)}}}function ie(n){let e,t,l=n[7]+"",a,_,u,r=n[4]+"",f,p;return{c(){e=k("div"),t=k("span"),a=N(l),_=P(),u=k("span"),f=N(r),p=P(),this.h()},l(o){e=b(o,"DIV",{class:!0});var i=C(e);t=b(i,"SPAN",{class:!0});var m=C(t);a=S(m,l),m.forEach(h),_=w(i),u=b(i,"SPAN",{class:!0});var c=C(u);f=S(c,r),c.forEach(h),p=w(i),i.forEach(h),this.h()},h(){g(t,"class","text-neutral-300"),g(u,"class","text-neutral-500"),g(e,"class","flex justify-between text-sm")},m(o,i){y(o,e,i),d(e,t),d(t,a),d(e,_),d(e,u),d(u,f),d(e,p)},p(o,i){i&2&&l!==(l=o[7]+"")&&M(a,l),i&2&&r!==(r=o[4]+"")&&M(f,r)},d(o){o&&h(e)}}}function re(n){let e,t,l=n[3]+"",a,_,u,r=n[4]+"",f,p;return{c(){e=k("div"),t=k("span"),a=N(l),_=P(),u=k("span"),f=N(r),p=P(),this.h()},l(o){e=b(o,"DIV",{class:!0});var i=C(e);t=b(i,"SPAN",{class:!0});var m=C(t);a=S(m,l),m.forEach(h),_=w(i),u=b(i,"SPAN",{class:!0});var c=C(u);f=S(c,r),c.forEach(h),p=w(i),i.forEach(h),this.h()},h(){g(t,"class","text-neutral-300"),g(u,"class","text-neutral-500"),g(e,"class","flex justify-between text-sm")},m(o,i){y(o,e,i),d(e,t),d(t,a),d(e,_),d(e,u),d(u,f),d(e,p)},p(o,i){i&2&&l!==(l=o[3]+"")&&M(a,l),i&2&&r!==(r=o[4]+"")&&M(f,r)},d(o){o&&h(e)}}}function De(n){let e,t,l="Manifold Â· Dashboard",a,_,u,r,f,p;_=new _e({});const o=[ke,be,ge],i=[];function m(c,D){return c[0]?0:c[2]?1:2}return r=m(n),f=i[r]=o[r](n),{c(){e=k("div"),t=k("h1"),t.textContent=l,a=P(),W(_.$$.fragment),u=P(),f.c(),this.h()},l(c){e=b(c,"DIV",{class:!0});var D=C(e);t=b(D,"H1",{class:!0,"data-svelte-h":!0}),X(t)!=="svelte-5fp8n5"&&(t.textContent=l),a=w(D),R(_.$$.fragment,D),u=w(D),f.l(D),D.forEach(h),this.h()},h(){g(t,"class","text-2xl font-semibold"),g(e,"class","p-6 space-y-6 h-full overflow-auto")},m(c,D){y(c,e,D),d(e,t),d(e,a),J(_,e,null),d(e,u),i[r].m(e,null),p=!0},p(c,[D]){let $=r;r=m(c),r===$?i[r].p(c,D):(he(),T(i[$],1,1,()=>{i[$]=null}),fe(),f=i[r],f?f.p(c,D):(f=i[r]=o[r](c),f.c()),z(f,1),f.m(e,null))},i(c){p||(z(_.$$.fragment,c),z(f),p=!0)},o(c){T(_.$$.fragment,c),T(f),p=!1},d(c){c&&h(e),F(_),i[r].d()}}}function Ee(n,e,t){let l=!0,a={},_=null;return de(async()=>{try{t(1,a=await ve())}catch(u){t(2,_=(u==null?void 0:u.message)??"Error")}finally{t(0,l=!1)}}),[l,a,_]}class we extends oe{constructor(e){super(),ce(this,e,Ee,De,ue,{})}}export{we as component};
