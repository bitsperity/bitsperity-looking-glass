import{S as bt,i as kt,s as $t,d as v,B as ie,v as J,w as O,a as R,b as F,c as s,C as ue,q as Dt,m as k,e as _,f as D,g as T,h as N,D as fe,j as m,t as S,k as A,E as ce,o as se,z as $e,l as Vt,p as wt,n as xe,u as Ke,A as De,N as nt}from"../chunks/DnBpi1Qd.js";import{e as Ee}from"../chunks/B5jFdsvg.js";import"../chunks/IHki7fMi.js";import{p as Tt}from"../chunks/6INZBkdj.js";import{c as St}from"../chunks/DR6VtJz0.js";import{S as Qe}from"../chunks/C_uaUfsv.js";import{T as Et,C as Ct}from"../chunks/BcDvLgdg.js";function at(n){let e,t=n[1].error.substring(0,100)+"",l;return{c(){e=m("div"),l=S(t),this.h()},l(a){e=_(a,"DIV",{class:!0});var f=D(e);l=T(f,t),f.forEach(v),this.h()},h(){k(e,"class","text-xs text-red-400")},m(a,f){F(a,e,f),s(e,l)},p(a,f){f&2&&t!==(t=a[1].error.substring(0,100)+"")&&R(l,t)},d(a){a&&v(e)}}}function rt(n){let e,t=Object.keys(n[1].args).length>0,l,a,f,d,h=new Date(n[1].timestamp).toLocaleTimeString()+"",r,i=t&&ot(n),u=n[1].result&&n[1].status==="success"&&it(n),c=n[1].error&&n[1].status==="error"&&ut(n);return{c(){e=m("div"),i&&i.c(),l=A(),u&&u.c(),a=A(),c&&c.c(),f=A(),d=m("div"),r=S(h),this.h()},l(o){e=_(o,"DIV",{class:!0});var E=D(e);i&&i.l(E),l=N(E),u&&u.l(E),a=N(E),c&&c.l(E),f=N(E),d=_(E,"DIV",{class:!0});var U=D(d);r=T(U,h),U.forEach(v),E.forEach(v),this.h()},h(){k(d,"class","px-4 py-2 text-xs text-neutral-500"),k(e,"class","border-t border-neutral-700 bg-neutral-900/50")},m(o,E){F(o,e,E),i&&i.m(e,null),s(e,l),u&&u.m(e,null),s(e,a),c&&c.m(e,null),s(e,f),s(e,d),s(d,r)},p(o,E){E&2&&(t=Object.keys(o[1].args).length>0),t?i?i.p(o,E):(i=ot(o),i.c(),i.m(e,l)):i&&(i.d(1),i=null),o[1].result&&o[1].status==="success"?u?u.p(o,E):(u=it(o),u.c(),u.m(e,a)):u&&(u.d(1),u=null),o[1].error&&o[1].status==="error"?c?c.p(o,E):(c=ut(o),c.c(),c.m(e,f)):c&&(c.d(1),c=null),E&2&&h!==(h=new Date(o[1].timestamp).toLocaleTimeString()+"")&&R(r,h)},d(o){o&&v(e),i&&i.d(),u&&u.d(),c&&c.d()}}}function ot(n){let e,t,l="Arguments",a,f,d,h=n[3](n[1].args)+"",r;return{c(){e=m("div"),t=m("div"),t.textContent=l,a=A(),f=m("pre"),d=m("code"),r=S(h),this.h()},l(i){e=_(i,"DIV",{class:!0});var u=D(e);t=_(u,"DIV",{class:!0,"data-svelte-h":!0}),se(t)!=="svelte-25db0h"&&(t.textContent=l),a=N(u),f=_(u,"PRE",{class:!0});var c=D(f);d=_(c,"CODE",{});var o=D(d);r=T(o,h),o.forEach(v),c.forEach(v),u.forEach(v),this.h()},h(){k(t,"class","text-xs font-semibold text-neutral-400 mb-2"),k(f,"class","text-xs overflow-x-auto text-neutral-300 bg-neutral-900 p-2 rounded"),k(e,"class","px-4 py-3 border-b border-neutral-700")},m(i,u){F(i,e,u),s(e,t),s(e,a),s(e,f),s(f,d),s(d,r)},p(i,u){u&2&&h!==(h=i[3](i[1].args)+"")&&R(r,h)},d(i){i&&v(e)}}}function it(n){let e,t,l="Result",a,f,d,h=n[3](n[1].result).substring(0,500)+"",r,i=n[3](n[1].result).length>500?"...":"",u;return{c(){e=m("div"),t=m("div"),t.textContent=l,a=A(),f=m("pre"),d=m("code"),r=S(h),u=S(i),this.h()},l(c){e=_(c,"DIV",{class:!0});var o=D(e);t=_(o,"DIV",{class:!0,"data-svelte-h":!0}),se(t)!=="svelte-1nwhnb4"&&(t.textContent=l),a=N(o),f=_(o,"PRE",{class:!0});var E=D(f);d=_(E,"CODE",{});var U=D(d);r=T(U,h),u=T(U,i),U.forEach(v),E.forEach(v),o.forEach(v),this.h()},h(){k(t,"class","text-xs font-semibold text-neutral-400 mb-2"),k(f,"class","text-xs overflow-x-auto text-neutral-300 bg-neutral-900 p-2 rounded"),k(e,"class","px-4 py-3 border-b border-neutral-700")},m(c,o){F(c,e,o),s(e,t),s(e,a),s(e,f),s(f,d),s(d,r),s(d,u)},p(c,o){o&2&&h!==(h=c[3](c[1].result).substring(0,500)+"")&&R(r,h),o&2&&i!==(i=c[3](c[1].result).length>500?"...":"")&&R(u,i)},d(c){c&&v(e)}}}function ut(n){let e,t,l="Error",a,f,d=n[1].error+"",h;return{c(){e=m("div"),t=m("div"),t.textContent=l,a=A(),f=m("div"),h=S(d),this.h()},l(r){e=_(r,"DIV",{class:!0});var i=D(e);t=_(i,"DIV",{class:!0,"data-svelte-h":!0}),se(t)!=="svelte-1y0qvoz"&&(t.textContent=l),a=N(i),f=_(i,"DIV",{class:!0});var u=D(f);h=T(u,d),u.forEach(v),i.forEach(v),this.h()},h(){k(t,"class","text-xs font-semibold text-red-400 mb-2"),k(f,"class","text-xs text-red-300 bg-neutral-900 p-2 rounded font-mono"),k(e,"class","px-4 py-3")},m(r,i){F(r,e,i),s(e,t),s(e,a),s(e,f),s(f,h)},p(r,i){i&2&&d!==(d=r[1].error+"")&&R(h,d)},d(r){r&&v(e)}}}function xt(n){let e,t,l,a=n[0]?"‚ñº":"‚ñ∂",f,d,h,r,i,u=n[1].name+"",c,o,E,U,y,Q=n[1].duration.ms+"",z,M,j,H,G,B=n[4](n[1].name)+"",b,C,p,X,$;E=new Qe({props:{status:n[2][n[1].status]||"pending"}});let g=n[1].error&&at(n),x=n[0]&&rt(n);return{c(){e=m("div"),t=m("button"),l=m("span"),f=S(a),d=A(),h=m("div"),r=m("div"),i=m("span"),c=S(u),o=A(),ce(E.$$.fragment),U=A(),y=m("span"),z=S(Q),M=S("ms"),j=A(),g&&g.c(),H=A(),G=m("span"),b=S(B),C=A(),x&&x.c(),this.h()},l(w){e=_(w,"DIV",{class:!0});var V=D(e);t=_(V,"BUTTON",{class:!0});var q=D(t);l=_(q,"SPAN",{class:!0});var le=D(l);f=T(le,a),le.forEach(v),d=N(q),h=_(q,"DIV",{class:!0});var Y=D(h);r=_(Y,"DIV",{class:!0});var W=D(r);i=_(W,"SPAN",{class:!0});var Ce=D(i);c=T(Ce,u),Ce.forEach(v),o=N(W),fe(E.$$.fragment,W),U=N(W),y=_(W,"SPAN",{class:!0});var de=D(y);z=T(de,Q),M=T(de,"ms"),de.forEach(v),W.forEach(v),j=N(Y),g&&g.l(Y),Y.forEach(v),H=N(q),G=_(q,"SPAN",{class:!0});var ne=D(G);b=T(ne,B),ne.forEach(v),q.forEach(v),C=N(V),x&&x.l(V),V.forEach(v),this.h()},h(){k(l,"class","text-neutral-400 text-xs w-4"),k(i,"class","font-semibold"),k(y,"class","text-xs text-neutral-400"),k(r,"class","flex items-center gap-2 mb-1"),k(h,"class","flex-1"),k(G,"class","text-xs px-2 py-1 bg-neutral-700 text-neutral-300 rounded"),k(t,"class","w-full px-4 py-3 flex items-center gap-3 hover:bg-neutral-700/50 transition-colors text-left"),k(e,"class","border border-neutral-700 rounded bg-neutral-800/50 overflow-hidden")},m(w,V){F(w,e,V),s(e,t),s(t,l),s(l,f),s(t,d),s(t,h),s(h,r),s(r,i),s(i,c),s(r,o),ue(E,r,null),s(r,U),s(r,y),s(y,z),s(y,M),s(h,j),g&&g.m(h,null),s(t,H),s(t,G),s(G,b),s(e,C),x&&x.m(e,null),p=!0,X||($=Dt(t,"click",n[5]),X=!0)},p(w,[V]){(!p||V&1)&&a!==(a=w[0]?"‚ñº":"‚ñ∂")&&R(f,a),(!p||V&2)&&u!==(u=w[1].name+"")&&R(c,u);const q={};V&2&&(q.status=w[2][w[1].status]||"pending"),E.$set(q),(!p||V&2)&&Q!==(Q=w[1].duration.ms+"")&&R(z,Q),w[1].error?g?g.p(w,V):(g=at(w),g.c(),g.m(h,null)):g&&(g.d(1),g=null),(!p||V&2)&&B!==(B=w[4](w[1].name)+"")&&R(b,B),w[0]?x?x.p(w,V):(x=rt(w),x.c(),x.m(e,null)):x&&(x.d(1),x=null)},i(w){p||(O(E.$$.fragment,w),p=!0)},o(w){J(E.$$.fragment,w),p=!1},d(w){w&&v(e),ie(E),g&&g.d(),x&&x.d(),X=!1,$()}}}function Nt(n,e,t){let{toolCall:l}=e,{expanded:a=!1}=e;const f={success:"success",error:"error",pending:"pending"},d=i=>JSON.stringify(i,null,2),h=i=>i.split("_")[0],r=()=>t(0,a=!a);return n.$$set=i=>{"toolCall"in i&&t(1,l=i.toolCall),"expanded"in i&&t(0,a=i.expanded)},[a,l,f,d,h,r]}class At extends bt{constructor(e){super(),kt(this,e,Nt,xt,$t,{toolCall:1,expanded:0})}}function ft(n,e,t){const l=n.slice();return l[9]=e[t],l}function ct(n,e,t){const l=n.slice();return l[12]=e[t],l[14]=t,l}function dt(n,e,t){const l=n.slice();return l[15]=e[t],l[17]=t,l}function yt(n){let e,t,l,a,f,d=n[0].meta.agent+"",h,r,i,u,c,o=n[0].meta.runId+"",E,U,y,Q="üîÑ Refresh",z,M,j,H,G="Model",B,b,C=(n[0].meta.model||"Unknown")+"",p,X,$,g,x="Tokens",w,V,q,le,Y,W,Ce="Cost",de,ne,ae,qe,ve,he,We="Duration",Le,be,Ie=n[0].meta.durationSeconds?`${n[0].meta.durationSeconds}s`:"N/A",Ne,Ue,ke,ee,Ve=n[0].execution.turnsCompleted+"",Ae,ze,we=n[0].execution.turnsTotal+"",ye,He,Te=n[0].execution.totalToolCalls+"",Pe,Je,Me,re,te,Fe,Xe;i=new Qe({props:{status:n[0].meta.status==="success"?"success":n[0].meta.status==="error"?"error":"running"}}),q=new Et({props:{tokens:n[0].tokens}}),ae=new Ct({props:{cost:n[0].cost.usd}});let _e=Ee(n[0].turns),L=[];for(let I=0;I<_e.length;I+=1)L[I]=pt(ft(n,_e,I));const It=I=>J(L[I],1,1,()=>{L[I]=null});return{c(){e=m("div"),t=m("div"),l=m("div"),a=m("div"),f=m("span"),h=S(d),r=A(),ce(i.$$.fragment),u=A(),c=m("div"),E=S(o),U=A(),y=m("button"),y.textContent=Q,z=A(),M=m("div"),j=m("div"),H=m("div"),H.textContent=G,B=A(),b=m("div"),p=S(C),X=A(),$=m("div"),g=m("div"),g.textContent=x,w=A(),V=m("div"),ce(q.$$.fragment),le=A(),Y=m("div"),W=m("div"),W.textContent=Ce,de=A(),ne=m("div"),ce(ae.$$.fragment),qe=A(),ve=m("div"),he=m("div"),he.textContent=We,Le=A(),be=m("div"),Ne=S(Ie),Ue=A(),ke=m("div"),ee=m("span"),Ae=S(Ve),ze=S("/"),ye=S(we),He=S(` turns completed
          ¬∑ `),Pe=S(Te),Je=S(" tool calls"),Me=A(),re=m("div");for(let I=0;I<L.length;I+=1)L[I].c();this.h()},l(I){e=_(I,"DIV",{class:!0});var P=D(e);t=_(P,"DIV",{class:!0});var Z=D(t);l=_(Z,"DIV",{});var me=D(l);a=_(me,"DIV",{class:!0});var pe=D(a);f=_(pe,"SPAN",{class:!0});var K=D(f);h=T(K,d),K.forEach(v),r=N(pe),fe(i.$$.fragment,pe),pe.forEach(v),u=N(me),c=_(me,"DIV",{class:!0});var Se=D(c);E=T(Se,o),Se.forEach(v),me.forEach(v),U=N(Z),y=_(Z,"BUTTON",{class:!0,"data-svelte-h":!0}),se(y)!=="svelte-1q50u1z"&&(y.textContent=Q),Z.forEach(v),z=N(P),M=_(P,"DIV",{class:!0});var oe=D(M);j=_(oe,"DIV",{});var Be=D(j);H=_(Be,"DIV",{class:!0,"data-svelte-h":!0}),se(H)!=="svelte-1qk7cc"&&(H.textContent=G),B=N(Be),b=_(Be,"DIV",{class:!0});var Ye=D(b);p=T(Ye,C),Ye.forEach(v),Be.forEach(v),X=N(oe),$=_(oe,"DIV",{});var Oe=D($);g=_(Oe,"DIV",{class:!0,"data-svelte-h":!0}),se(g)!=="svelte-1wmddsp"&&(g.textContent=x),w=N(Oe),V=_(Oe,"DIV",{class:!0});var Ze=D(V);fe(q.$$.fragment,Ze),Ze.forEach(v),Oe.forEach(v),le=N(oe),Y=_(oe,"DIV",{});var Re=D(Y);W=_(Re,"DIV",{class:!0,"data-svelte-h":!0}),se(W)!=="svelte-16pt9nc"&&(W.textContent=Ce),de=N(Re),ne=_(Re,"DIV",{class:!0});var et=D(ne);fe(ae.$$.fragment,et),et.forEach(v),Re.forEach(v),qe=N(oe),ve=_(oe,"DIV",{});var je=D(ve);he=_(je,"DIV",{class:!0,"data-svelte-h":!0}),se(he)!=="svelte-gj05z7"&&(he.textContent=We),Le=N(je),be=_(je,"DIV",{class:!0});var tt=D(be);Ne=T(tt,Ie),tt.forEach(v),je.forEach(v),oe.forEach(v),Ue=N(P),ke=_(P,"DIV",{class:!0});var lt=D(ke);ee=_(lt,"SPAN",{class:!0});var ge=D(ee);Ae=T(ge,Ve),ze=T(ge,"/"),ye=T(ge,we),He=T(ge,` turns completed
          ¬∑ `),Pe=T(ge,Te),Je=T(ge," tool calls"),ge.forEach(v),lt.forEach(v),P.forEach(v),Me=N(I),re=_(I,"DIV",{class:!0});var st=D(re);for(let Ge=0;Ge<L.length;Ge+=1)L[Ge].l(st);st.forEach(v),this.h()},h(){k(f,"class","text-xl font-bold"),k(a,"class","flex items-center gap-3 mb-2"),k(c,"class","text-sm text-neutral-400"),k(y,"class","px-3 py-1 text-sm bg-neutral-700 hover:bg-neutral-600 rounded transition-colors"),k(t,"class","flex items-start justify-between mb-4"),k(H,"class","text-xs text-neutral-400 mb-1"),k(b,"class","font-semibold"),k(g,"class","text-xs text-neutral-400 mb-1"),k(V,"class","font-semibold"),k(W,"class","text-xs text-neutral-400 mb-1"),k(ne,"class","font-semibold"),k(he,"class","text-xs text-neutral-400 mb-1"),k(be,"class","font-semibold"),k(M,"class","grid grid-cols-4 gap-4"),k(ee,"class","text-neutral-400"),k(ke,"class","mt-4 pt-4 border-t border-neutral-700 text-sm"),k(e,"class","bg-neutral-800 border border-neutral-700 rounded p-6 mb-6"),k(re,"class","space-y-6")},m(I,P){F(I,e,P),s(e,t),s(t,l),s(l,a),s(a,f),s(f,h),s(a,r),ue(i,a,null),s(l,u),s(l,c),s(c,E),s(t,U),s(t,y),s(e,z),s(e,M),s(M,j),s(j,H),s(j,B),s(j,b),s(b,p),s(M,X),s(M,$),s($,g),s($,w),s($,V),ue(q,V,null),s(M,le),s(M,Y),s(Y,W),s(Y,de),s(Y,ne),ue(ae,ne,null),s(M,qe),s(M,ve),s(ve,he),s(ve,Le),s(ve,be),s(be,Ne),s(e,Ue),s(e,ke),s(ke,ee),s(ee,Ae),s(ee,ze),s(ee,ye),s(ee,He),s(ee,Pe),s(ee,Je),F(I,Me,P),F(I,re,P);for(let Z=0;Z<L.length;Z+=1)L[Z]&&L[Z].m(re,null);te=!0,Fe||(Xe=Dt(y,"click",n[4]),Fe=!0)},p(I,P){(!te||P&1)&&d!==(d=I[0].meta.agent+"")&&R(h,d);const Z={};P&1&&(Z.status=I[0].meta.status==="success"?"success":I[0].meta.status==="error"?"error":"running"),i.$set(Z),(!te||P&1)&&o!==(o=I[0].meta.runId+"")&&R(E,o),(!te||P&1)&&C!==(C=(I[0].meta.model||"Unknown")+"")&&R(p,C);const me={};P&1&&(me.tokens=I[0].tokens),q.$set(me);const pe={};if(P&1&&(pe.cost=I[0].cost.usd),ae.$set(pe),(!te||P&1)&&Ie!==(Ie=I[0].meta.durationSeconds?`${I[0].meta.durationSeconds}s`:"N/A")&&R(Ne,Ie),(!te||P&1)&&Ve!==(Ve=I[0].execution.turnsCompleted+"")&&R(Ae,Ve),(!te||P&1)&&we!==(we=I[0].execution.turnsTotal+"")&&R(ye,we),(!te||P&1)&&Te!==(Te=I[0].execution.totalToolCalls+"")&&R(Pe,Te),P&41){_e=Ee(I[0].turns);let K;for(K=0;K<_e.length;K+=1){const Se=ft(I,_e,K);L[K]?(L[K].p(Se,P),O(L[K],1)):(L[K]=pt(Se),L[K].c(),O(L[K],1),L[K].m(re,null))}for(De(),K=_e.length;K<L.length;K+=1)It(K);$e()}},i(I){if(!te){O(i.$$.fragment,I),O(q.$$.fragment,I),O(ae.$$.fragment,I);for(let P=0;P<_e.length;P+=1)O(L[P]);te=!0}},o(I){J(i.$$.fragment,I),J(q.$$.fragment,I),J(ae.$$.fragment,I),L=L.filter(Boolean);for(let P=0;P<L.length;P+=1)J(L[P]);te=!1},d(I){I&&(v(e),v(Me),v(re)),ie(i),ie(q),ie(ae),Ke(L,I),Fe=!1,Xe()}}}function Pt(n){let e,t;return{c(){e=m("div"),t=S(n[2]),this.h()},l(l){e=_(l,"DIV",{class:!0});var a=D(e);t=T(a,n[2]),a.forEach(v),this.h()},h(){k(e,"class","text-red-400 py-8")},m(l,a){F(l,e,a),s(e,t)},p(l,a){a&4&&R(t,l[2])},i:xe,o:xe,d(l){l&&v(e)}}}function Mt(n){let e,t="<div>Loading run details...</div>";return{c(){e=m("div"),e.innerHTML=t,this.h()},l(l){e=_(l,"DIV",{class:!0,"data-svelte-h":!0}),se(e)!=="svelte-14aap7n"&&(e.innerHTML=t),this.h()},h(){k(e,"class","flex items-center justify-center h-64 text-neutral-400")},m(l,a){F(l,e,a)},p:xe,i:xe,o:xe,d(l){l&&v(e)}}}function vt(n){let e,t;return e=new Qe({props:{status:n[9].status==="error"?"error":"running"}}),{c(){ce(e.$$.fragment)},l(l){fe(e.$$.fragment,l)},m(l,a){ue(e,l,a),t=!0},p(l,a){const f={};a&1&&(f.status=l[9].status==="error"?"error":"running"),e.$set(f)},i(l){t||(O(e.$$.fragment,l),t=!0)},o(l){J(e.$$.fragment,l),t=!1},d(l){ie(e,l)}}}function Bt(n){let e;return{c(){e=S("‚öôÔ∏è")},l(t){e=T(t,"‚öôÔ∏è")},m(t,l){F(t,e,l)},d(t){t&&v(e)}}}function Ot(n){let e;return{c(){e=S("ü§ñ")},l(t){e=T(t,"ü§ñ")},m(t,l){F(t,e,l)},d(t){t&&v(e)}}}function Rt(n){let e;return{c(){e=S("üí¨")},l(t){e=T(t,"üí¨")},m(t,l){F(t,e,l)},d(t){t&&v(e)}}}function ht(n){let e,t,l="Tool Calls",a,f,d,h=Ee(n[9].toolCalls),r=[];for(let u=0;u<h.length;u+=1)r[u]=_t(dt(n,h,u));const i=u=>J(r[u],1,1,()=>{r[u]=null});return{c(){e=m("div"),t=m("div"),t.textContent=l,a=A();for(let u=0;u<r.length;u+=1)r[u].c();f=A(),this.h()},l(u){e=_(u,"DIV",{class:!0});var c=D(e);t=_(c,"DIV",{class:!0,"data-svelte-h":!0}),se(t)!=="svelte-keeh5q"&&(t.textContent=l),a=N(c);for(let o=0;o<r.length;o+=1)r[o].l(c);f=N(c),c.forEach(v),this.h()},h(){k(t,"class","text-xs font-semibold text-neutral-400 uppercase"),k(e,"class","space-y-3 mt-4 pl-11")},m(u,c){F(u,e,c),s(e,t),s(e,a);for(let o=0;o<r.length;o+=1)r[o]&&r[o].m(e,null);s(e,f),d=!0},p(u,c){if(c&41){h=Ee(u[9].toolCalls);let o;for(o=0;o<h.length;o+=1){const E=dt(u,h,o);r[o]?(r[o].p(E,c),O(r[o],1)):(r[o]=_t(E),r[o].c(),O(r[o],1),r[o].m(e,f))}for(De(),o=h.length;o<r.length;o+=1)i(o);$e()}},i(u){if(!d){for(let c=0;c<h.length;c+=1)O(r[c]);d=!0}},o(u){r=r.filter(Boolean);for(let c=0;c<r.length;c+=1)J(r[c]);d=!1},d(u){u&&v(e),Ke(r,u)}}}function _t(n){let e,t;function l(){return n[6](n[17])}return e=new At({props:{toolCall:n[15],expanded:n[3].has(n[17])}}),e.$on("click",l),{c(){ce(e.$$.fragment)},l(a){fe(e.$$.fragment,a)},m(a,f){ue(e,a,f),t=!0},p(a,f){n=a;const d={};f&1&&(d.toolCall=n[15]),f&8&&(d.expanded=n[3].has(n[17])),e.$set(d)},i(a){t||(O(e.$$.fragment,a),t=!0)},o(a){J(e.$$.fragment,a),t=!1},d(a){ie(e,a)}}}function mt(n){let e,t,l,a,f,d=n[12].role==="user"?"User":n[12].role==="assistant"?"Assistant":"System",h,r,i=gt(n[12].timestamp)+"",u,c,o,E=n[12].content.substring(0,300)+"",U,y=n[12].content.length>300?"...":"",Q,z,M,j;function H(C,p){return C[12].role==="user"?Rt:C[12].role==="assistant"?Ot:Bt}let G=H(n),B=G(n),b=n[14]===n[9].messages.length-1&&n[9].toolCalls.length>0&&ht(n);return{c(){e=m("div"),t=m("div"),B.c(),l=A(),a=m("div"),f=m("div"),h=S(d),r=S(`
                    ¬∑ `),u=S(i),c=A(),o=m("div"),U=S(E),Q=S(y),z=A(),b&&b.c(),M=nt(),this.h()},l(C){e=_(C,"DIV",{class:!0});var p=D(e);t=_(p,"DIV",{class:!0});var X=D(t);B.l(X),X.forEach(v),l=N(p),a=_(p,"DIV",{class:!0});var $=D(a);f=_($,"DIV",{class:!0});var g=D(f);h=T(g,d),r=T(g,`
                    ¬∑ `),u=T(g,i),g.forEach(v),c=N($),o=_($,"DIV",{class:!0});var x=D(o);U=T(x,E),Q=T(x,y),x.forEach(v),$.forEach(v),p.forEach(v),z=N(C),b&&b.l(C),M=nt(),this.h()},h(){k(t,"class","text-2xl w-8 flex-shrink-0"),k(f,"class","text-xs text-neutral-400 mb-1"),k(o,"class","text-sm text-neutral-200 break-words whitespace-pre-wrap"),k(a,"class","flex-1 min-w-0"),k(e,"class","flex gap-3")},m(C,p){F(C,e,p),s(e,t),B.m(t,null),s(e,l),s(e,a),s(a,f),s(f,h),s(f,r),s(f,u),s(a,c),s(a,o),s(o,U),s(o,Q),F(C,z,p),b&&b.m(C,p),F(C,M,p),j=!0},p(C,p){G!==(G=H(C))&&(B.d(1),B=G(C),B&&(B.c(),B.m(t,null))),(!j||p&1)&&d!==(d=C[12].role==="user"?"User":C[12].role==="assistant"?"Assistant":"System")&&R(h,d),(!j||p&1)&&i!==(i=gt(C[12].timestamp)+"")&&R(u,i),(!j||p&1)&&E!==(E=C[12].content.substring(0,300)+"")&&R(U,E),(!j||p&1)&&y!==(y=C[12].content.length>300?"...":"")&&R(Q,y),C[14]===C[9].messages.length-1&&C[9].toolCalls.length>0?b?(b.p(C,p),p&1&&O(b,1)):(b=ht(C),b.c(),O(b,1),b.m(M.parentNode,M)):b&&(De(),J(b,1,1,()=>{b=null}),$e())},i(C){j||(O(b),j=!0)},o(C){J(b),j=!1},d(C){C&&(v(e),v(z),v(M)),B.d(),b&&b.d(C)}}}function pt(n){let e,t,l,a,f=n[9].number+"",d,h,r=n[9].name+"",i,u,c,o=n[9].duration.ms+"",E,U,y,Q,z,M,j,H,G,B;y=new Et({props:{tokens:n[9].tokens}}),z=new Ct({props:{cost:n[9].cost,showDetail:!1}});let b=n[9].status!=="success"&&vt(n),C=Ee(n[9].messages),p=[];for(let $=0;$<C.length;$+=1)p[$]=mt(ct(n,C,$));const X=$=>J(p[$],1,1,()=>{p[$]=null});return{c(){e=m("div"),t=m("div"),l=m("div"),a=S("Turn "),d=S(f),h=S(": "),i=S(r),u=A(),c=m("span"),E=S(o),U=S(`ms
                ¬∑ `),ce(y.$$.fragment),Q=S(`
                ¬∑ `),ce(z.$$.fragment),M=A(),b&&b.c(),j=A(),H=m("div");for(let $=0;$<p.length;$+=1)p[$].c();G=A(),this.h()},l($){e=_($,"DIV",{class:!0});var g=D(e);t=_(g,"DIV",{class:!0});var x=D(t);l=_(x,"DIV",{class:!0});var w=D(l);a=T(w,"Turn "),d=T(w,f),h=T(w,": "),i=T(w,r),u=N(w),c=_(w,"SPAN",{class:!0});var V=D(c);E=T(V,o),U=T(V,`ms
                ¬∑ `),fe(y.$$.fragment,V),Q=T(V,`
                ¬∑ `),fe(z.$$.fragment,V),V.forEach(v),w.forEach(v),M=N(x),b&&b.l(x),x.forEach(v),j=N(g),H=_(g,"DIV",{class:!0});var q=D(H);for(let le=0;le<p.length;le+=1)p[le].l(q);q.forEach(v),G=N(g),g.forEach(v),this.h()},h(){k(c,"class","text-sm text-neutral-400 ml-2"),k(l,"class","font-semibold"),k(t,"class","px-4 py-3 border-b border-neutral-700 bg-neutral-800"),k(H,"class","px-4 py-4 space-y-4"),k(e,"class","border border-neutral-700 rounded bg-neutral-800/30 overflow-hidden")},m($,g){F($,e,g),s(e,t),s(t,l),s(l,a),s(l,d),s(l,h),s(l,i),s(l,u),s(l,c),s(c,E),s(c,U),ue(y,c,null),s(c,Q),ue(z,c,null),s(t,M),b&&b.m(t,null),s(e,j),s(e,H);for(let x=0;x<p.length;x+=1)p[x]&&p[x].m(H,null);s(e,G),B=!0},p($,g){(!B||g&1)&&f!==(f=$[9].number+"")&&R(d,f),(!B||g&1)&&r!==(r=$[9].name+"")&&R(i,r),(!B||g&1)&&o!==(o=$[9].duration.ms+"")&&R(E,o);const x={};g&1&&(x.tokens=$[9].tokens),y.$set(x);const w={};if(g&1&&(w.cost=$[9].cost),z.$set(w),$[9].status!=="success"?b?(b.p($,g),g&1&&O(b,1)):(b=vt($),b.c(),O(b,1),b.m(t,null)):b&&(De(),J(b,1,1,()=>{b=null}),$e()),g&41){C=Ee($[9].messages);let V;for(V=0;V<C.length;V+=1){const q=ct($,C,V);p[V]?(p[V].p(q,g),O(p[V],1)):(p[V]=mt(q),p[V].c(),O(p[V],1),p[V].m(H,null))}for(De(),V=C.length;V<p.length;V+=1)X(V);$e()}},i($){if(!B){O(y.$$.fragment,$),O(z.$$.fragment,$),O(b);for(let g=0;g<C.length;g+=1)O(p[g]);B=!0}},o($){J(y.$$.fragment,$),J(z.$$.fragment,$),J(b),p=p.filter(Boolean);for(let g=0;g<p.length;g+=1)J(p[g]);B=!1},d($){$&&v(e),ie(y),ie(z),b&&b.d(),Ke(p,$)}}}function jt(n){let e,t,l,a;const f=[Mt,Pt,yt],d=[];function h(r,i){return r[1]?0:r[2]?1:r[0]?2:-1}return~(t=h(n))&&(l=d[t]=f[t](n)),{c(){e=m("div"),l&&l.c(),this.h()},l(r){e=_(r,"DIV",{class:!0});var i=D(e);l&&l.l(i),i.forEach(v),this.h()},h(){k(e,"class","flex-1 overflow-auto px-6 pb-6")},m(r,i){F(r,e,i),~t&&d[t].m(e,null),a=!0},p(r,[i]){let u=t;t=h(r),t===u?~t&&d[t].p(r,i):(l&&(De(),J(d[u],1,1,()=>{d[u]=null}),$e()),~t?(l=d[t],l?l.p(r,i):(l=d[t]=f[t](r),l.c()),O(l,1),l.m(e,null)):l=null)},i(r){a||(O(l),a=!0)},o(r){J(l),a=!1},d(r){r&&v(e),~t&&d[t].d()}}}function gt(n){const e=new Date(n),l=Math.floor((new Date().getTime()-e.getTime())/1e3);return l<60?`${l}s ago`:l<3600?`${Math.floor(l/60)}m ago`:l<86400?`${Math.floor(l/3600)}h ago`:e.toLocaleDateString()}function qt(n,e,t){let l;Vt(n,Tt,o=>t(7,l=o));let a=null,f=!0,d=null,h=new Set;const r=l.params.id;async function i(){try{t(1,f=!0),t(2,d=null),t(0,a=await St.getRun(r))}catch(o){t(2,d=o instanceof Error?o.message:"Failed to load run")}finally{t(1,f=!1)}}function u(o){h.has(o)?h.delete(o):h.add(o),t(3,h)}return wt(()=>{i();const o=setInterval(i,5e3);return()=>clearInterval(o)}),[a,f,d,h,i,u,o=>u(o)]}class Kt extends bt{constructor(e){super(),kt(this,e,qt,jt,$t,{})}}export{Kt as component};
