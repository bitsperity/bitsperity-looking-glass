import{S as Se,i as je,s as Ae,n as ne,d as _,a as q,b as N,c as u,m as p,e as b,f as D,g as P,h as V,j as k,t as L,k as I,o as J,v as G,w as F,z as He,p as Le,B as Z,A as Pe,C as ee,D as te,N as be,E as le,u as ge}from"../chunks/DnBpi1Qd.js";import{e as oe}from"../chunks/B5jFdsvg.js";import"../chunks/IHki7fMi.js";import{o as Oe}from"../chunks/ClFG0zlK.js";function Te(r){let e,t="↓";return{c(){e=k("span"),e.textContent=t,this.h()},l(l){e=b(l,"SPAN",{class:!0,"data-svelte-h":!0}),J(e)!=="svelte-17zw2y7"&&(e.textContent=t),this.h()},h(){p(e,"class","text-red-500 text-sm")},m(l,f){N(l,e,f)},d(l){l&&_(e)}}}function ze(r){let e,t="↑";return{c(){e=k("span"),e.textContent=t,this.h()},l(l){e=b(l,"SPAN",{class:!0,"data-svelte-h":!0}),J(e)!=="svelte-gis8t"&&(e.textContent=t),this.h()},h(){p(e,"class","text-green-500 text-sm")},m(l,f){N(l,e,f)},d(l){l&&_(e)}}}function ke(r){let e,t;return{c(){e=k("div"),t=L(r[2]),this.h()},l(l){e=b(l,"DIV",{class:!0});var f=D(e);t=P(f,r[2]),f.forEach(_),this.h()},h(){p(e,"class","text-xs text-neutral-500 mt-1")},m(l,f){N(l,e,f),u(e,t)},p(l,f){f&4&&q(t,l[2])},d(l){l&&_(e)}}}function Fe(r){let e,t,l,f,s,c,i,d;function m(g,v){if(g[3]==="up")return ze;if(g[3]==="down")return Te}let a=m(r),n=a&&a(r),h=r[2]&&ke(r);return{c(){e=k("div"),t=k("div"),l=L(r[0]),f=I(),s=k("div"),c=L(r[1]),i=I(),n&&n.c(),d=I(),h&&h.c(),this.h()},l(g){e=b(g,"DIV",{class:!0});var v=D(e);t=b(v,"DIV",{class:!0});var y=D(t);l=P(y,r[0]),y.forEach(_),f=V(v),s=b(v,"DIV",{class:!0});var T=D(s);c=P(T,r[1]),i=V(T),n&&n.l(T),T.forEach(_),d=V(v),h&&h.l(v),v.forEach(_),this.h()},h(){p(t,"class","text-sm text-neutral-400 mb-1"),p(s,"class","text-2xl font-semibold text-neutral-100 flex items-center gap-2"),p(e,"class","bg-neutral-900 rounded border border-neutral-800 p-4")},m(g,v){N(g,e,v),u(e,t),u(t,l),u(e,f),u(e,s),u(s,c),u(s,i),n&&n.m(s,null),u(e,d),h&&h.m(e,null)},p(g,[v]){v&1&&q(l,g[0]),v&2&&q(c,g[1]),a!==(a=m(g))&&(n&&n.d(1),n=a&&a(g),n&&(n.c(),n.m(s,null))),g[2]?h?h.p(g,v):(h=ke(g),h.c(),h.m(e,null)):h&&(h.d(1),h=null)},i:ne,o:ne,d(g){g&&_(e),n&&n.d(),h&&h.d()}}}function qe(r,e,t){let{title:l}=e,{value:f}=e,{subtitle:s=""}=e,{trend:c="neutral"}=e;return r.$$set=i=>{"title"in i&&t(0,l=i.title),"value"in i&&t(1,f=i.value),"subtitle"in i&&t(2,s=i.subtitle),"trend"in i&&t(3,c=i.trend)},[l,f,s,c]}class se extends Se{constructor(e){super(),je(this,e,qe,Fe,Ae,{title:0,value:1,subtitle:2,trend:3})}}function xe(r,e,t){const l=r.slice();return l[5]=e[t],l}function $e(r,e,t){const l=r.slice();return l[8]=e[t][0],l[9]=e[t][1],l}function Ee(r,e,t){const l=r.slice();return l[12]=e[t][0],l[9]=e[t][1],l}function Re(r){var y,T,R;let e,t,l="System Status",f,s,c,i,d,m,a,n,h,g;c=new se({props:{title:"API Status",value:((y=r[2])==null?void 0:y.status)==="ok"?"Healthy":"Degraded",subtitle:((T=r[2])==null?void 0:T.service)||""}}),d=new se({props:{title:"Neo4j",value:(R=r[2])!=null&&R.neo4j_connected?"Connected":"Disconnected"}}),a=new se({props:{title:"Pending Validations",value:r[4].length,subtitle:"Hypotheses ready for review"}});let v=r[3]&&De(r);return{c(){e=k("div"),t=k("h2"),t.textContent=l,f=I(),s=k("div"),le(c.$$.fragment),i=I(),le(d.$$.fragment),m=I(),le(a.$$.fragment),n=I(),v&&v.c(),h=be(),this.h()},l(x){e=b(x,"DIV",{class:!0});var $=D(e);t=b($,"H2",{class:!0,"data-svelte-h":!0}),J(t)!=="svelte-1n28ugc"&&(t.textContent=l),f=V($),s=b($,"DIV",{class:!0});var C=D(s);te(c.$$.fragment,C),i=V(C),te(d.$$.fragment,C),m=V(C),te(a.$$.fragment,C),C.forEach(_),$.forEach(_),n=V(x),v&&v.l(x),h=be(),this.h()},h(){p(t,"class","text-xl font-semibold text-neutral-200 mb-3"),p(s,"class","grid grid-cols-1 md:grid-cols-3 gap-4"),p(e,"class","mb-6")},m(x,$){N(x,e,$),u(e,t),u(e,f),u(e,s),ee(c,s,null),u(s,i),ee(d,s,null),u(s,m),ee(a,s,null),N(x,n,$),v&&v.m(x,$),N(x,h,$),g=!0},p(x,$){var B,K,M;const C={};$&4&&(C.value=((B=x[2])==null?void 0:B.status)==="ok"?"Healthy":"Degraded"),$&4&&(C.subtitle=((K=x[2])==null?void 0:K.service)||""),c.$set(C);const j={};$&4&&(j.value=(M=x[2])!=null&&M.neo4j_connected?"Connected":"Disconnected"),d.$set(j);const z={};$&16&&(z.value=x[4].length),a.$set(z),x[3]?v?(v.p(x,$),$&8&&F(v,1)):(v=De(x),v.c(),F(v,1),v.m(h.parentNode,h)):v&&(Pe(),G(v,1,1,()=>{v=null}),He())},i(x){g||(F(c.$$.fragment,x),F(d.$$.fragment,x),F(a.$$.fragment,x),F(v),g=!0)},o(x){G(c.$$.fragment,x),G(d.$$.fragment,x),G(a.$$.fragment,x),G(v),g=!1},d(x){x&&(_(e),_(n),_(h)),Z(c),Z(d),Z(a),v&&v.d(x)}}}function Be(r){let e,t,l;return{c(){e=k("div"),t=L("Error: "),l=L(r[1]),this.h()},l(f){e=b(f,"DIV",{class:!0});var s=D(e);t=P(s,"Error: "),l=P(s,r[1]),s.forEach(_),this.h()},h(){p(e,"class","text-red-400")},m(f,s){N(f,e,s),u(e,t),u(e,l)},p(f,s){s&2&&q(l,f[1])},i:ne,o:ne,d(f){f&&_(e)}}}function Ge(r){let e,t="Loading...";return{c(){e=k("div"),e.textContent=t,this.h()},l(l){e=b(l,"DIV",{class:!0,"data-svelte-h":!0}),J(e)!=="svelte-1o3c4uh"&&(e.textContent=t),this.h()},h(){p(e,"class","text-neutral-400")},m(l,f){N(l,e,f)},p:ne,i:ne,o:ne,d(l){l&&_(e)}}}function De(r){let e,t,l="Graph Statistics",f,s,c,i,d,m,a,n,h,g,v,y,T="Nodes by Label",R,x,$,C,j,z,B="Edges by Type",K,M,W,he,ae,Q,ve,ce=new Date(r[3].last_updated).toLocaleString()+"",_e,de;c=new se({props:{title:"Total Nodes",value:r[3].total_nodes}}),d=new se({props:{title:"Total Edges",value:r[3].total_edges}}),a=new se({props:{title:"Node Density",value:r[3].total_nodes>0?(r[3].total_edges/r[3].total_nodes*100).toFixed(1)+"%":"0%"}}),h=new se({props:{title:"Node Types",value:Object.keys(r[3].nodes_by_label).length}});let re=oe(Object.entries(r[3].nodes_by_label).sort(ye)),A=[];for(let o=0;o<re.length;o+=1)A[o]=Ce(Ee(r,re,o));let ie=oe(Object.entries(r[3].edges_by_type).sort(Ne)),H=[];for(let o=0;o<ie.length;o+=1)H[o]=Ve($e(r,ie,o));let O=r[4].length>0&&Ie(r);return{c(){e=k("div"),t=k("h2"),t.textContent=l,f=I(),s=k("div"),le(c.$$.fragment),i=I(),le(d.$$.fragment),m=I(),le(a.$$.fragment),n=I(),le(h.$$.fragment),g=I(),v=k("div"),y=k("h2"),y.textContent=T,R=I(),x=k("div"),$=k("div");for(let o=0;o<A.length;o+=1)A[o].c();C=I(),j=k("div"),z=k("h2"),z.textContent=B,K=I(),M=k("div"),W=k("div");for(let o=0;o<H.length;o+=1)H[o].c();he=I(),O&&O.c(),ae=I(),Q=k("div"),ve=L("Last updated: "),_e=L(ce),this.h()},l(o){e=b(o,"DIV",{class:!0});var w=D(e);t=b(w,"H2",{class:!0,"data-svelte-h":!0}),J(t)!=="svelte-1c2gyew"&&(t.textContent=l),f=V(w),s=b(w,"DIV",{class:!0});var S=D(s);te(c.$$.fragment,S),i=V(S),te(d.$$.fragment,S),m=V(S),te(a.$$.fragment,S),n=V(S),te(h.$$.fragment,S),S.forEach(_),w.forEach(_),g=V(o),v=b(o,"DIV",{class:!0});var X=D(v);y=b(X,"H2",{class:!0,"data-svelte-h":!0}),J(y)!=="svelte-g4wvub"&&(y.textContent=T),R=V(X),x=b(X,"DIV",{class:!0});var fe=D(x);$=b(fe,"DIV",{class:!0});var ue=D($);for(let Y=0;Y<A.length;Y+=1)A[Y].l(ue);ue.forEach(_),fe.forEach(_),X.forEach(_),C=V(o),j=b(o,"DIV",{class:!0});var E=D(j);z=b(E,"H2",{class:!0,"data-svelte-h":!0}),J(z)!=="svelte-fw5rtk"&&(z.textContent=B),K=V(E),M=b(E,"DIV",{class:!0});var U=D(M);W=b(U,"DIV",{class:!0});var pe=D(W);for(let Y=0;Y<H.length;Y+=1)H[Y].l(pe);pe.forEach(_),U.forEach(_),E.forEach(_),he=V(o),O&&O.l(o),ae=V(o),Q=b(o,"DIV",{class:!0});var me=D(Q);ve=P(me,"Last updated: "),_e=P(me,ce),me.forEach(_),this.h()},h(){p(t,"class","text-xl font-semibold text-neutral-200 mb-3"),p(s,"class","grid grid-cols-1 md:grid-cols-4 gap-4"),p(e,"class","mb-6"),p(y,"class","text-xl font-semibold text-neutral-200 mb-3"),p($,"class","grid grid-cols-2 md:grid-cols-4 gap-3"),p(x,"class","bg-neutral-900 rounded border border-neutral-800 p-4"),p(v,"class","mb-6"),p(z,"class","text-xl font-semibold text-neutral-200 mb-3"),p(W,"class","grid grid-cols-2 md:grid-cols-4 gap-3"),p(M,"class","bg-neutral-900 rounded border border-neutral-800 p-4"),p(j,"class","mb-6"),p(Q,"class","text-xs text-neutral-600 mt-6")},m(o,w){N(o,e,w),u(e,t),u(e,f),u(e,s),ee(c,s,null),u(s,i),ee(d,s,null),u(s,m),ee(a,s,null),u(s,n),ee(h,s,null),N(o,g,w),N(o,v,w),u(v,y),u(v,R),u(v,x),u(x,$);for(let S=0;S<A.length;S+=1)A[S]&&A[S].m($,null);N(o,C,w),N(o,j,w),u(j,z),u(j,K),u(j,M),u(M,W);for(let S=0;S<H.length;S+=1)H[S]&&H[S].m(W,null);N(o,he,w),O&&O.m(o,w),N(o,ae,w),N(o,Q,w),u(Q,ve),u(Q,_e),de=!0},p(o,w){const S={};w&8&&(S.value=o[3].total_nodes),c.$set(S);const X={};w&8&&(X.value=o[3].total_edges),d.$set(X);const fe={};w&8&&(fe.value=o[3].total_nodes>0?(o[3].total_edges/o[3].total_nodes*100).toFixed(1)+"%":"0%"),a.$set(fe);const ue={};if(w&8&&(ue.value=Object.keys(o[3].nodes_by_label).length),h.$set(ue),w&8){re=oe(Object.entries(o[3].nodes_by_label).sort(ye));let E;for(E=0;E<re.length;E+=1){const U=Ee(o,re,E);A[E]?A[E].p(U,w):(A[E]=Ce(U),A[E].c(),A[E].m($,null))}for(;E<A.length;E+=1)A[E].d(1);A.length=re.length}if(w&8){ie=oe(Object.entries(o[3].edges_by_type).sort(Ne));let E;for(E=0;E<ie.length;E+=1){const U=$e(o,ie,E);H[E]?H[E].p(U,w):(H[E]=Ve(U),H[E].c(),H[E].m(W,null))}for(;E<H.length;E+=1)H[E].d(1);H.length=ie.length}o[4].length>0?O?O.p(o,w):(O=Ie(o),O.c(),O.m(ae.parentNode,ae)):O&&(O.d(1),O=null),(!de||w&8)&&ce!==(ce=new Date(o[3].last_updated).toLocaleString()+"")&&q(_e,ce)},i(o){de||(F(c.$$.fragment,o),F(d.$$.fragment,o),F(a.$$.fragment,o),F(h.$$.fragment,o),de=!0)},o(o){G(c.$$.fragment,o),G(d.$$.fragment,o),G(a.$$.fragment,o),G(h.$$.fragment,o),de=!1},d(o){o&&(_(e),_(g),_(v),_(C),_(j),_(he),_(ae),_(Q)),Z(c),Z(d),Z(a),Z(h),ge(A,o),ge(H,o),O&&O.d(o)}}}function Ce(r){let e,t,l=r[12]+"",f,s,c,i=r[9]+"",d,m;return{c(){e=k("div"),t=k("span"),f=L(l),s=I(),c=k("span"),d=L(i),m=I(),this.h()},l(a){e=b(a,"DIV",{class:!0});var n=D(e);t=b(n,"SPAN",{class:!0});var h=D(t);f=P(h,l),h.forEach(_),s=V(n),c=b(n,"SPAN",{class:!0});var g=D(c);d=P(g,i),g.forEach(_),m=V(n),n.forEach(_),this.h()},h(){p(t,"class","text-sm text-neutral-300"),p(c,"class","text-sm font-semibold text-neutral-100"),p(e,"class","flex items-center justify-between p-2 bg-neutral-950 rounded")},m(a,n){N(a,e,n),u(e,t),u(t,f),u(e,s),u(e,c),u(c,d),u(e,m)},p(a,n){n&8&&l!==(l=a[12]+"")&&q(f,l),n&8&&i!==(i=a[9]+"")&&q(d,i)},d(a){a&&_(e)}}}function Ve(r){let e,t,l=r[8]+"",f,s,c,i=r[9]+"",d,m;return{c(){e=k("div"),t=k("span"),f=L(l),s=I(),c=k("span"),d=L(i),m=I(),this.h()},l(a){e=b(a,"DIV",{class:!0});var n=D(e);t=b(n,"SPAN",{class:!0});var h=D(t);f=P(h,l),h.forEach(_),s=V(n),c=b(n,"SPAN",{class:!0});var g=D(c);d=P(g,i),g.forEach(_),m=V(n),n.forEach(_),this.h()},h(){p(t,"class","text-xs text-neutral-300"),p(c,"class","text-xs font-semibold text-neutral-100"),p(e,"class","flex items-center justify-between p-2 bg-neutral-950 rounded")},m(a,n){N(a,e,n),u(e,t),u(t,f),u(e,s),u(e,c),u(c,d),u(e,m)},p(a,n){n&8&&l!==(l=a[8]+"")&&q(f,l),n&8&&i!==(i=a[9]+"")&&q(d,i)},d(a){a&&_(e)}}}function Ie(r){let e,t,l="Pending Validations",f,s,c=oe(r[4].slice(0,5)),i=[];for(let d=0;d<c.length;d+=1)i[d]=we(xe(r,c,d));return{c(){e=k("div"),t=k("h2"),t.textContent=l,f=I(),s=k("div");for(let d=0;d<i.length;d+=1)i[d].c();this.h()},l(d){e=b(d,"DIV",{class:!0});var m=D(e);t=b(m,"H2",{class:!0,"data-svelte-h":!0}),J(t)!=="svelte-upolfq"&&(t.textContent=l),f=V(m),s=b(m,"DIV",{class:!0});var a=D(s);for(let n=0;n<i.length;n+=1)i[n].l(a);a.forEach(_),m.forEach(_),this.h()},h(){p(t,"class","text-xl font-semibold text-neutral-200 mb-3"),p(s,"class","bg-neutral-900 rounded border border-neutral-800 p-4"),p(e,"class","mb-6")},m(d,m){N(d,e,m),u(e,t),u(e,f),u(e,s);for(let a=0;a<i.length;a+=1)i[a]&&i[a].m(s,null)},p(d,m){if(m&16){c=oe(d[4].slice(0,5));let a;for(a=0;a<c.length;a+=1){const n=xe(d,c,a);i[a]?i[a].p(n,m):(i[a]=we(n),i[a].c(),i[a].m(s,null))}for(;a<i.length;a+=1)i[a].d(1);i.length=c.length}},d(d){d&&_(e),ge(i,d)}}}function we(r){let e,t,l,f=r[5].statement+"",s,c,i,d,m=r[5].evidence_count+"",a,n,h=r[5].contradiction_count+"",g,v,y,T,R,x;return{c(){e=k("div"),t=k("div"),l=k("div"),s=L(f),c=I(),i=k("div"),d=L("Evidence: "),a=L(m),n=L(" | Contradictions: "),g=L(h),v=I(),y=k("a"),T=L("Review"),x=I(),this.h()},l($){e=b($,"DIV",{class:!0});var C=D(e);t=b(C,"DIV",{class:!0});var j=D(t);l=b(j,"DIV",{class:!0});var z=D(l);s=P(z,f),z.forEach(_),c=V(j),i=b(j,"DIV",{class:!0});var B=D(i);d=P(B,"Evidence: "),a=P(B,m),n=P(B," | Contradictions: "),g=P(B,h),B.forEach(_),j.forEach(_),v=V(C),y=b(C,"A",{href:!0,class:!0});var K=D(y);T=P(K,"Review"),K.forEach(_),x=V(C),C.forEach(_),this.h()},h(){p(l,"class","text-sm font-medium text-neutral-100"),p(i,"class","text-xs text-neutral-500"),p(t,"class","flex-1"),p(y,"href",R="/ariadne/hypotheses/"+r[5].id),p(y,"class","px-3 py-1 rounded bg-indigo-600 hover:bg-indigo-500 text-sm text-white"),p(e,"class","flex items-center justify-between py-2 border-b border-neutral-800 last:border-0")},m($,C){N($,e,C),u(e,t),u(t,l),u(l,s),u(t,c),u(t,i),u(i,d),u(i,a),u(i,n),u(i,g),u(e,v),u(e,y),u(y,T),u(e,x)},p($,C){C&16&&f!==(f=$[5].statement+"")&&q(s,f),C&16&&m!==(m=$[5].evidence_count+"")&&q(a,m),C&16&&h!==(h=$[5].contradiction_count+"")&&q(g,h),C&16&&R!==(R="/ariadne/hypotheses/"+$[5].id)&&p(y,"href",R)},d($){$&&_(e)}}}function Ke(r){let e,t,l="Ariadne Dashboard",f,s,c,i;const d=[Ge,Be,Re],m=[];function a(n,h){return n[0]?0:n[1]?1:2}return s=a(r),c=m[s]=d[s](r),{c(){e=k("div"),t=k("h1"),t.textContent=l,f=I(),c.c(),this.h()},l(n){e=b(n,"DIV",{class:!0});var h=D(e);t=b(h,"H1",{class:!0,"data-svelte-h":!0}),J(t)!=="svelte-bzeoe"&&(t.textContent=l),f=V(h),c.l(h),h.forEach(_),this.h()},h(){p(t,"class","text-3xl font-bold text-neutral-100 mb-6"),p(e,"class","max-w-7xl mx-auto p-6")},m(n,h){N(n,e,h),u(e,t),u(e,f),m[s].m(e,null),i=!0},p(n,[h]){let g=s;s=a(n),s===g?m[s].p(n,h):(Pe(),G(m[g],1,1,()=>{m[g]=null}),He(),c=m[s],c?c.p(n,h):(c=m[s]=d[s](n),c.c()),F(c,1),c.m(e,null))},i(n){i||(F(c),i=!0)},o(n){G(c),i=!1},d(n){n&&_(e),m[s].d()}}}const ye=([,r],[,e])=>e-r,Ne=([,r],[,e])=>e-r;function Me(r,e,t){let l=!0,f=null,s=null,c=null,i=[];return Le(async()=>{try{const d=await Oe();t(2,s=d.health),t(3,c=d.stats),t(4,i=d.pending.hypotheses)}catch(d){t(1,f=(d==null?void 0:d.message)??"Failed to load dashboard")}finally{t(0,l=!1)}}),[l,f,s,c,i]}class Xe extends Se{constructor(e){super(),je(this,e,Me,Ke,Ae,{})}}export{Xe as component};
