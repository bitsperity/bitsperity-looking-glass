import{S as Fe,i as Ue,s as Oe,d as g,B as re,v as K,w as Y,z as De,b as Q,c as a,C as ne,m as i,e as f,f as V,o as X,h as w,D as oe,j as v,k as E,E as ie,p as We,a as Z,g as F,t as U,r as je,y as de,x as qe,q as be,A as Ce,u as Ye,n as Ie,W as Qe}from"../chunks/BeOz57Dq.js";import{e as Be}from"../chunks/D_ZdN6Q8.js";import"../chunks/IHki7fMi.js";import{g as Re}from"../chunks/DLreTGRR.js";import{b as Je}from"../chunks/C7er4ol9.js";import{C as we,B as ke}from"../chunks/CpG8i7KS.js";import{B as ze}from"../chunks/B_iT9L-k.js";function Le(s,e,t){const l=s.slice();return l[23]=e[t],l}function Te(s){let e,t;return{c(){e=v("div"),t=U(s[2]),this.h()},l(l){e=f(l,"DIV",{class:!0});var r=V(e);t=F(r,s[2]),r.forEach(g),this.h()},h(){i(e,"class","bg-red-500/10 border border-red-500/20 rounded-lg p-4 text-sm text-red-400")},m(l,r){Q(l,e,r),a(e,t)},p(l,r){r&4&&Z(t,l[2])},d(l){l&&g(e)}}}function Ke(s){let e=s[1]?"Scanning...":"Detect Gaps",t;return{c(){t=U(e)},l(l){t=F(l,e)},m(l,r){Q(l,t,r)},p(l,r){r&2&&e!==(e=l[1]?"Scanning...":"Detect Gaps")&&Z(t,e)},d(l){l&&g(t)}}}function Xe(s){let e,t,l="Find Coverage Gaps",r,d,n,$,p="From Date",b,o,u,_,c,h="To Date",L,D,I,S,y,O="Min Articles/Day",J,H,T,G,A,m,B,N;return A=new ke({props:{variant:"primary",loading:s[1],classes:"w-full",$$slots:{default:[Ke]},$$scope:{ctx:s}}}),A.$on("click",s[10]),{c(){e=v("div"),t=v("h2"),t.textContent=l,r=E(),d=v("div"),n=v("div"),$=v("label"),$.textContent=p,b=E(),o=v("input"),u=E(),_=v("div"),c=v("label"),c.textContent=h,L=E(),D=v("input"),I=E(),S=v("div"),y=v("label"),y.textContent=O,J=E(),H=v("input"),T=E(),G=v("div"),ie(A.$$.fragment),this.h()},l(C){e=f(C,"DIV",{class:!0});var M=V(e);t=f(M,"H2",{class:!0,"data-svelte-h":!0}),X(t)!=="svelte-lisw0u"&&(t.textContent=l),r=w(M),d=f(M,"DIV",{class:!0});var j=V(d);n=f(j,"DIV",{});var le=V(n);$=f(le,"LABEL",{class:!0,"data-svelte-h":!0}),X($)!=="svelte-1tvg5k0"&&($.textContent=p),b=w(le),o=f(le,"INPUT",{type:!0,class:!0}),le.forEach(g),u=w(j),_=f(j,"DIV",{});var P=V(_);c=f(P,"LABEL",{class:!0,"data-svelte-h":!0}),X(c)!=="svelte-14xqr43"&&(c.textContent=h),L=w(P),D=f(P,"INPUT",{type:!0,class:!0}),P.forEach(g),I=w(j),S=f(j,"DIV",{});var k=V(S);y=f(k,"LABEL",{class:!0,"data-svelte-h":!0}),X(y)!=="svelte-1eln6g6"&&(y.textContent=O),J=w(k),H=f(k,"INPUT",{type:!0,min:!0,max:!0,class:!0}),k.forEach(g),T=w(j),G=f(j,"DIV",{class:!0});var x=V(G);oe(A.$$.fragment,x),x.forEach(g),j.forEach(g),M.forEach(g),this.h()},h(){i(t,"class","text-lg font-semibold text-neutral-100"),i($,"class","block text-sm font-medium text-neutral-300 mb-2"),i(o,"type","date"),i(o,"class","w-full px-3 py-2 bg-neutral-800 border border-neutral-700 rounded text-sm text-neutral-100"),i(c,"class","block text-sm font-medium text-neutral-300 mb-2"),i(D,"type","date"),i(D,"class","w-full px-3 py-2 bg-neutral-800 border border-neutral-700 rounded text-sm text-neutral-100"),i(y,"class","block text-sm font-medium text-neutral-300 mb-2"),i(H,"type","number"),i(H,"min","1"),i(H,"max","100"),i(H,"class","w-full px-3 py-2 bg-neutral-800 border border-neutral-700 rounded text-sm text-neutral-100"),i(G,"class","flex items-end"),i(d,"class","grid grid-cols-1 md:grid-cols-4 gap-4"),i(e,"class","space-y-4")},m(C,M){Q(C,e,M),a(e,t),a(e,r),a(e,d),a(d,n),a(n,$),a(n,b),a(n,o),de(o,s[3]),a(d,u),a(d,_),a(_,c),a(_,L),a(_,D),de(D,s[4]),a(d,I),a(d,S),a(S,y),a(S,J),a(S,H),de(H,s[5]),a(d,T),a(d,G),ne(A,G,null),m=!0,B||(N=[be(o,"input",s[15]),be(D,"input",s[16]),be(H,"input",s[17])],B=!0)},p(C,M){M&8&&de(o,C[3]),M&16&&de(D,C[4]),M&32&&qe(H.value)!==C[5]&&de(H,C[5]);const j={};M&2&&(j.loading=C[1]),M&67108866&&(j.$$scope={dirty:M,ctx:C}),A.$set(j)},i(C){m||(Y(A.$$.fragment,C),m=!0)},o(C){K(A.$$.fragment,C),m=!1},d(C){C&&g(e),re(A),B=!1,je(N)}}}function Ge(s){let e,t='<svg class="animate-spin h-8 w-8 text-blue-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg>';return{c(){e=v("div"),e.innerHTML=t,this.h()},l(l){e=f(l,"DIV",{class:!0,"data-svelte-h":!0}),X(e)!=="svelte-1xja6ch"&&(e.innerHTML=t),this.h()},h(){i(e,"class","flex items-center justify-center py-12")},m(l,r){Q(l,e,r)},d(l){l&&g(e)}}}function Me(s){let e,t,l,r="Total Days",d,n,$=s[0].coverage.total_days+"",p,b,o,u,_="Covered Days",c,h,L=s[0].coverage.covered_days+"",D,I,S,y=s[0].coverage.coverage_percent+"",O,J,H,T,G,A="Gap Days",m,B,N=s[0].coverage.gap_days+"",C,M,j,le="need backfill",P,k,x,te="Threshold",ee,R,ce=s[0].min_articles_threshold+"",se,pe,fe,Ee="articles/day",$e,ge,ue,ae,W=s[0].gaps&&s[0].gaps.length>0&&Ne(s);return ue=new we({props:{padding:"p-0",$$slots:{default:[ot]},$$scope:{ctx:s}}}),{c(){e=v("div"),t=v("div"),l=v("div"),l.textContent=r,d=E(),n=v("div"),p=U($),b=E(),o=v("div"),u=v("div"),u.textContent=_,c=E(),h=v("div"),D=U(L),I=E(),S=v("div"),O=U(y),J=U("% coverage"),H=E(),T=v("div"),G=v("div"),G.textContent=A,m=E(),B=v("div"),C=U(N),M=E(),j=v("div"),j.textContent=le,P=E(),k=v("div"),x=v("div"),x.textContent=te,ee=E(),R=v("div"),se=U(ce),pe=E(),fe=v("div"),fe.textContent=Ee,$e=E(),W&&W.c(),ge=E(),ie(ue.$$.fragment),this.h()},l(z){e=f(z,"DIV",{class:!0});var q=V(e);t=f(q,"DIV",{class:!0});var ve=V(t);l=f(ve,"DIV",{class:!0,"data-svelte-h":!0}),X(l)!=="svelte-d2n9uh"&&(l.textContent=r),d=w(ve),n=f(ve,"DIV",{class:!0});var Ve=V(n);p=F(Ve,$),Ve.forEach(g),ve.forEach(g),b=w(q),o=f(q,"DIV",{class:!0});var me=V(o);u=f(me,"DIV",{class:!0,"data-svelte-h":!0}),X(u)!=="svelte-1ajmkxa"&&(u.textContent=_),c=w(me),h=f(me,"DIV",{class:!0});var ye=V(h);D=F(ye,L),ye.forEach(g),I=w(me),S=f(me,"DIV",{class:!0});var xe=V(S);O=F(xe,y),J=F(xe,"% coverage"),xe.forEach(g),me.forEach(g),H=w(q),T=f(q,"DIV",{class:!0});var _e=V(T);G=f(_e,"DIV",{class:!0,"data-svelte-h":!0}),X(G)!=="svelte-1pgnkqr"&&(G.textContent=A),m=w(_e),B=f(_e,"DIV",{class:!0});var Se=V(B);C=F(Se,N),Se.forEach(g),M=w(_e),j=f(_e,"DIV",{class:!0,"data-svelte-h":!0}),X(j)!=="svelte-14x3glx"&&(j.textContent=le),_e.forEach(g),P=w(q),k=f(q,"DIV",{class:!0});var he=V(k);x=f(he,"DIV",{class:!0,"data-svelte-h":!0}),X(x)!=="svelte-vybto3"&&(x.textContent=te),ee=w(he),R=f(he,"DIV",{class:!0});var Ae=V(R);se=F(Ae,ce),Ae.forEach(g),pe=w(he),fe=f(he,"DIV",{class:!0,"data-svelte-h":!0}),X(fe)!=="svelte-1h36mcf"&&(fe.textContent=Ee),he.forEach(g),q.forEach(g),$e=w(z),W&&W.l(z),ge=w(z),oe(ue.$$.fragment,z),this.h()},h(){i(l,"class","text-sm font-medium text-neutral-400 mb-2"),i(n,"class","text-3xl font-bold text-neutral-100"),i(t,"class","bg-gradient-to-br from-neutral-800/80 to-neutral-800/40 border border-neutral-700/50 rounded-xl p-6"),i(u,"class","text-sm font-medium text-emerald-400 mb-2"),i(h,"class","text-3xl font-bold text-emerald-300"),i(S,"class","text-xs text-emerald-500 mt-2"),i(o,"class","bg-gradient-to-br from-emerald-900/20 to-emerald-900/10 border border-emerald-700/30 rounded-xl p-6"),i(G,"class","text-sm font-medium text-amber-400 mb-2"),i(B,"class","text-3xl font-bold text-amber-300"),i(j,"class","text-xs text-amber-500 mt-2"),i(T,"class","bg-gradient-to-br from-amber-900/20 to-amber-900/10 border border-amber-700/30 rounded-xl p-6"),i(x,"class","text-sm font-medium text-neutral-400 mb-2"),i(R,"class","text-3xl font-bold text-neutral-100"),i(fe,"class","text-xs text-neutral-500 mt-2"),i(k,"class","bg-gradient-to-br from-neutral-800/80 to-neutral-800/40 border border-neutral-700/50 rounded-xl p-6"),i(e,"class","grid grid-cols-1 md:grid-cols-4 gap-4")},m(z,q){Q(z,e,q),a(e,t),a(t,l),a(t,d),a(t,n),a(n,p),a(e,b),a(e,o),a(o,u),a(o,c),a(o,h),a(h,D),a(o,I),a(o,S),a(S,O),a(S,J),a(e,H),a(e,T),a(T,G),a(T,m),a(T,B),a(B,C),a(T,M),a(T,j),a(e,P),a(e,k),a(k,x),a(k,ee),a(k,R),a(R,se),a(k,pe),a(k,fe),Q(z,$e,q),W&&W.m(z,q),Q(z,ge,q),ne(ue,z,q),ae=!0},p(z,q){(!ae||q&1)&&$!==($=z[0].coverage.total_days+"")&&Z(p,$),(!ae||q&1)&&L!==(L=z[0].coverage.covered_days+"")&&Z(D,L),(!ae||q&1)&&y!==(y=z[0].coverage.coverage_percent+"")&&Z(O,y),(!ae||q&1)&&N!==(N=z[0].coverage.gap_days+"")&&Z(C,N),(!ae||q&1)&&ce!==(ce=z[0].min_articles_threshold+"")&&Z(se,ce),z[0].gaps&&z[0].gaps.length>0?W?(W.p(z,q),q&1&&Y(W,1)):(W=Ne(z),W.c(),Y(W,1),W.m(ge.parentNode,ge)):W&&(Ce(),K(W,1,1,()=>{W=null}),De());const ve={};q&67108929&&(ve.$$scope={dirty:q,ctx:z}),ue.$set(ve)},i(z){ae||(Y(W),Y(ue.$$.fragment,z),ae=!0)},o(z){K(W),K(ue.$$.fragment,z),ae=!1},d(z){z&&(g(e),g($e),g(ge)),W&&W.d(z),re(ue,z)}}}function Ne(s){let e,t;return e=new we({props:{$$slots:{default:[lt]},$$scope:{ctx:s}}}),{c(){ie(e.$$.fragment)},l(l){oe(e.$$.fragment,l)},m(l,r){ne(e,l,r),t=!0},p(l,r){const d={};r&67109825&&(d.$$scope={dirty:r,ctx:l}),e.$set(d)},i(l){t||(Y(e.$$.fragment,l),t=!0)},o(l){K(e.$$.fragment,l),t=!1},d(l){re(e,l)}}}function Pe(s){let e,t,l;return{c(){e=v("div"),t=U(s[9]),this.h()},l(r){e=f(r,"DIV",{class:!0});var d=V(e);t=F(d,s[9]),d.forEach(g),this.h()},h(){i(e,"class",l="p-3 rounded-lg "+(s[9].startsWith("✓")?"bg-green-500/10 border border-green-500/20 text-green-400":"bg-red-500/10 border border-red-500/20 text-red-400")+" text-sm whitespace-pre-wrap")},m(r,d){Q(r,e,d),a(e,t)},p(r,d){d&512&&Z(t,r[9]),d&512&&l!==(l="p-3 rounded-lg "+(r[9].startsWith("✓")?"bg-green-500/10 border border-green-500/20 text-green-400":"bg-red-500/10 border border-red-500/20 text-red-400")+" text-sm whitespace-pre-wrap")&&i(e,"class",l)},d(r){r&&g(e)}}}function Ze(s){let e;return{c(){e=U("Select All")},l(t){e=F(t,"Select All")},m(t,l){Q(t,e,l)},d(t){t&&g(e)}}}function et(s){let e;return{c(){e=U("Deselect All")},l(t){e=F(t,"Deselect All")},m(t,l){Q(t,e,l)},d(t){t&&g(e)}}}function tt(s){let e=s[8]?"Starting Backfill...":`Start Backfill (${s[6].size} gaps)`,t;return{c(){t=U(e)},l(l){t=F(l,e)},m(l,r){Q(l,t,r)},p(l,r){r&320&&e!==(e=l[8]?"Starting Backfill...":`Start Backfill (${l[6].size} gaps)`)&&Z(t,e)},d(l){l&&g(t)}}}function lt(s){let e,t,l="Smart Backfill",r,d,n,$='Query (e.g., "semiconductor OR chip")',p,b,o,u,_,c,h,L,D=s[6].size+"",I,S,y=s[0].gaps.length+"",O,J,H,T,G,A,m,B,N,C,M,j,le,P=s[9]&&Pe(s);return G=new ke({props:{variant:"secondary",size:"sm",disabled:s[6].size===s[0].gaps.length,$$slots:{default:[Ze]},$$scope:{ctx:s}}}),G.$on("click",s[13]),m=new ke({props:{variant:"secondary",size:"sm",disabled:s[6].size===0,$$slots:{default:[et]},$$scope:{ctx:s}}}),m.$on("click",s[14]),C=new ke({props:{variant:"primary",loading:s[8],disabled:s[6].size===0||!s[7].trim(),$$slots:{default:[tt]},$$scope:{ctx:s}}}),C.$on("click",s[11]),{c(){e=v("div"),t=v("h2"),t.textContent=l,r=E(),d=v("div"),n=v("label"),n.textContent=$,p=E(),b=v("input"),o=E(),P&&P.c(),u=E(),_=v("div"),c=v("div"),h=U("Selected: "),L=v("span"),I=U(D),S=U(" / "),O=U(y),J=U(" gaps"),H=E(),T=v("div"),ie(G.$$.fragment),A=E(),ie(m.$$.fragment),B=E(),N=v("div"),ie(C.$$.fragment),this.h()},l(k){e=f(k,"DIV",{class:!0});var x=V(e);t=f(x,"H2",{class:!0,"data-svelte-h":!0}),X(t)!=="svelte-1gadjgd"&&(t.textContent=l),r=w(x),d=f(x,"DIV",{});var te=V(d);n=f(te,"LABEL",{class:!0,"data-svelte-h":!0}),X(n)!=="svelte-1l97d5r"&&(n.textContent=$),p=w(te),b=f(te,"INPUT",{type:!0,placeholder:!0,class:!0}),te.forEach(g),o=w(x),P&&P.l(x),u=w(x),_=f(x,"DIV",{class:!0});var ee=V(_);c=f(ee,"DIV",{class:!0});var R=V(c);h=F(R,"Selected: "),L=f(R,"SPAN",{class:!0});var ce=V(L);I=F(ce,D),ce.forEach(g),S=F(R," / "),O=F(R,y),J=F(R," gaps"),R.forEach(g),H=w(ee),T=f(ee,"DIV",{class:!0});var se=V(T);oe(G.$$.fragment,se),A=w(se),oe(m.$$.fragment,se),se.forEach(g),ee.forEach(g),B=w(x),N=f(x,"DIV",{class:!0});var pe=V(N);oe(C.$$.fragment,pe),pe.forEach(g),x.forEach(g),this.h()},h(){i(t,"class","text-lg font-semibold text-neutral-100"),i(n,"class","block text-sm font-medium text-neutral-300 mb-2"),i(b,"type","text"),i(b,"placeholder","Enter search query for backfill"),i(b,"class","w-full px-3 py-2 bg-neutral-800 border border-neutral-700 rounded text-sm text-neutral-100 placeholder-neutral-600"),i(L,"class","font-semibold text-blue-400"),i(c,"class","text-sm text-neutral-300 mb-2"),i(T,"class","flex gap-2"),i(_,"class","bg-neutral-800/50 rounded-lg p-3"),i(N,"class","flex gap-2 pt-2"),i(e,"class","space-y-4")},m(k,x){Q(k,e,x),a(e,t),a(e,r),a(e,d),a(d,n),a(d,p),a(d,b),de(b,s[7]),a(e,o),P&&P.m(e,null),a(e,u),a(e,_),a(_,c),a(c,h),a(c,L),a(L,I),a(c,S),a(c,O),a(c,J),a(_,H),a(_,T),ne(G,T,null),a(T,A),ne(m,T,null),a(e,B),a(e,N),ne(C,N,null),M=!0,j||(le=be(b,"input",s[18]),j=!0)},p(k,x){x&128&&b.value!==k[7]&&de(b,k[7]),k[9]?P?P.p(k,x):(P=Pe(k),P.c(),P.m(e,u)):P&&(P.d(1),P=null),(!M||x&64)&&D!==(D=k[6].size+"")&&Z(I,D),(!M||x&1)&&y!==(y=k[0].gaps.length+"")&&Z(O,y);const te={};x&65&&(te.disabled=k[6].size===k[0].gaps.length),x&67108864&&(te.$$scope={dirty:x,ctx:k}),G.$set(te);const ee={};x&64&&(ee.disabled=k[6].size===0),x&67108864&&(ee.$$scope={dirty:x,ctx:k}),m.$set(ee);const R={};x&256&&(R.loading=k[8]),x&192&&(R.disabled=k[6].size===0||!k[7].trim()),x&67109184&&(R.$$scope={dirty:x,ctx:k}),C.$set(R)},i(k){M||(Y(G.$$.fragment,k),Y(m.$$.fragment,k),Y(C.$$.fragment,k),M=!0)},o(k){K(G.$$.fragment,k),K(m.$$.fragment,k),K(C.$$.fragment,k),M=!1},d(k){k&&g(e),P&&P.d(),re(G),re(m),re(C),j=!1,le()}}}function st(s){let e,t='<p class="text-sm">No coverage gaps found! ✓</p> <p class="text-xs mt-1">Your data coverage looks good.</p>';return{c(){e=v("div"),e.innerHTML=t,this.h()},l(l){e=f(l,"DIV",{class:!0,"data-svelte-h":!0}),X(e)!=="svelte-1mqpw70"&&(e.innerHTML=t),this.h()},h(){i(e,"class","p-8 text-center text-neutral-500")},m(l,r){Q(l,e,r)},p:Ie,i:Ie,o:Ie,d(l){l&&g(e)}}}function at(s){let e,t,l=Be(s[0].gaps),r=[];for(let n=0;n<l.length;n+=1)r[n]=He(Le(s,l,n));const d=n=>K(r[n],1,1,()=>{r[n]=null});return{c(){e=v("div");for(let n=0;n<r.length;n+=1)r[n].c();this.h()},l(n){e=f(n,"DIV",{class:!0});var $=V(e);for(let p=0;p<r.length;p+=1)r[p].l($);$.forEach(g),this.h()},h(){i(e,"class","divide-y divide-neutral-700/30")},m(n,$){Q(n,e,$);for(let p=0;p<r.length;p+=1)r[p]&&r[p].m(e,null);t=!0},p(n,$){if($&4161){l=Be(n[0].gaps);let p;for(p=0;p<l.length;p+=1){const b=Le(n,l,p);r[p]?(r[p].p(b,$),Y(r[p],1)):(r[p]=He(b),r[p].c(),Y(r[p],1),r[p].m(e,null))}for(Ce(),p=l.length;p<r.length;p+=1)d(p);De()}},i(n){if(!t){for(let $=0;$<l.length;$+=1)Y(r[$]);t=!0}},o(n){r=r.filter(Boolean);for(let $=0;$<r.length;$+=1)K(r[$]);t=!1},d(n){n&&g(e),Ye(r,n)}}}function rt(s){let e=s[23].article_count+"",t;return{c(){t=U(e)},l(l){t=F(l,e)},m(l,r){Q(l,t,r)},p(l,r){r&1&&e!==(e=l[23].article_count+"")&&Z(t,e)},d(l){l&&g(t)}}}function nt(s){let e=s[23].gap_severity==="critical"?"No Articles":"Low Coverage",t;return{c(){t=U(e)},l(l){t=F(l,e)},m(l,r){Q(l,t,r)},p(l,r){r&1&&e!==(e=l[23].gap_severity==="critical"?"No Articles":"Low Coverage")&&Z(t,e)},d(l){l&&g(t)}}}function He(s){let e,t,l,r,d,n,$=s[23].date+"",p,b,o,u,_="Articles:",c,h,L,D,I,S,y,O,J,H;function T(){return s[19](s[23])}h=new ze({props:{variant:s[23].gap_severity==="critical"?"danger":"warning",size:"sm",$$slots:{default:[rt]},$$scope:{ctx:s}}}),I=new ze({props:{variant:s[23].gap_severity==="critical"?"danger":"warning",$$slots:{default:[nt]},$$scope:{ctx:s}}});function G(){return s[20](s[23])}return{c(){e=v("div"),t=v("div"),l=v("input"),d=E(),n=v("div"),p=U($),b=E(),o=v("div"),u=v("span"),u.textContent=_,c=E(),ie(h.$$.fragment),L=E(),D=v("div"),ie(I.$$.fragment),S=E(),this.h()},l(A){e=f(A,"DIV",{class:!0});var m=V(e);t=f(m,"DIV",{class:!0});var B=V(t);l=f(B,"INPUT",{type:!0,class:!0}),d=w(B),n=f(B,"DIV",{class:!0});var N=V(n);p=F(N,$),N.forEach(g),b=w(B),o=f(B,"DIV",{class:!0});var C=V(o);u=f(C,"SPAN",{class:!0,"data-svelte-h":!0}),X(u)!=="svelte-1h7d1oo"&&(u.textContent=_),c=w(C),oe(h.$$.fragment,C),C.forEach(g),L=w(B),D=f(B,"DIV",{class:!0});var M=V(D);oe(I.$$.fragment,M),M.forEach(g),B.forEach(g),S=w(m),m.forEach(g),this.h()},h(){i(l,"type","checkbox"),l.checked=r=s[6].has(s[23].date),i(l,"class","rounded border-neutral-600 bg-neutral-700 text-blue-600 focus:ring-2 focus:ring-blue-500/50 cursor-pointer"),i(n,"class","font-mono text-sm font-semibold text-neutral-300 min-w-[120px]"),i(u,"class","text-sm text-neutral-400"),i(o,"class","flex items-center gap-2"),i(D,"class","ml-auto"),i(t,"class","flex items-center gap-4"),i(e,"class",y="p-4 hover:bg-neutral-800/30 transition-colors cursor-pointer "+(s[6].has(s[23].date)?"bg-blue-900/10 border-l-4 border-blue-500":""))},m(A,m){Q(A,e,m),a(e,t),a(t,l),a(t,d),a(t,n),a(n,p),a(t,b),a(t,o),a(o,u),a(o,c),ne(h,o,null),a(t,L),a(t,D),ne(I,D,null),a(e,S),O=!0,J||(H=[be(l,"click",Qe(T)),be(e,"click",G)],J=!0)},p(A,m){s=A,(!O||m&65&&r!==(r=s[6].has(s[23].date)))&&(l.checked=r),(!O||m&1)&&$!==($=s[23].date+"")&&Z(p,$);const B={};m&1&&(B.variant=s[23].gap_severity==="critical"?"danger":"warning"),m&67108865&&(B.$$scope={dirty:m,ctx:s}),h.$set(B);const N={};m&1&&(N.variant=s[23].gap_severity==="critical"?"danger":"warning"),m&67108865&&(N.$$scope={dirty:m,ctx:s}),I.$set(N),(!O||m&65&&y!==(y="p-4 hover:bg-neutral-800/30 transition-colors cursor-pointer "+(s[6].has(s[23].date)?"bg-blue-900/10 border-l-4 border-blue-500":"")))&&i(e,"class",y)},i(A){O||(Y(h.$$.fragment,A),Y(I.$$.fragment,A),O=!0)},o(A){K(h.$$.fragment,A),K(I.$$.fragment,A),O=!1},d(A){A&&g(e),re(h),re(I),J=!1,je(H)}}}function ot(s){var L;let e,t,l,r,d=(((L=s[0].gaps)==null?void 0:L.length)||0)+"",n,$,p,b,o,u;const _=[at,st],c=[];function h(D,I){return D[0].gaps&&D[0].gaps.length>0?0:1}return b=h(s),o=c[b]=_[b](s),{c(){e=v("div"),t=v("div"),l=v("h3"),r=U("Coverage Gaps ("),n=U(d),$=U(")"),p=E(),o.c(),this.h()},l(D){e=f(D,"DIV",{class:!0});var I=V(e);t=f(I,"DIV",{class:!0});var S=V(t);l=f(S,"H3",{class:!0});var y=V(l);r=F(y,"Coverage Gaps ("),n=F(y,d),$=F(y,")"),y.forEach(g),S.forEach(g),p=w(I),o.l(I),I.forEach(g),this.h()},h(){i(l,"class","font-semibold text-neutral-100"),i(t,"class","p-4 bg-neutral-800/30 sticky top-0"),i(e,"class","divide-y divide-neutral-700/30")},m(D,I){Q(D,e,I),a(e,t),a(t,l),a(l,r),a(l,n),a(l,$),a(e,p),c[b].m(e,null),u=!0},p(D,I){var y;(!u||I&1)&&d!==(d=(((y=D[0].gaps)==null?void 0:y.length)||0)+"")&&Z(n,d);let S=b;b=h(D),b===S?c[b].p(D,I):(Ce(),K(c[S],1,1,()=>{c[S]=null}),De(),o=c[b],o?o.p(D,I):(o=c[b]=_[b](D),o.c()),Y(o,1),o.m(e,null))},i(D){u||(Y(o),u=!0)},o(D){K(o),u=!1},d(D){D&&g(e),c[b].d()}}}function it(s){let e,t,l='<div><h1 class="text-3xl font-bold text-neutral-100">Data Maintenance</h1> <p class="text-sm text-neutral-400 mt-1">Detect coverage gaps and trigger intelligent backfill</p></div>',r,d,n,$,p,b,o=s[2]&&!s[0]&&Te(s);n=new we({props:{$$slots:{default:[Xe]},$$scope:{ctx:s}}});let u=s[1]&&!s[0]&&Ge(),_=s[0]&&Me(s);return{c(){e=v("div"),t=v("div"),t.innerHTML=l,r=E(),o&&o.c(),d=E(),ie(n.$$.fragment),$=E(),u&&u.c(),p=E(),_&&_.c(),this.h()},l(c){e=f(c,"DIV",{class:!0});var h=V(e);t=f(h,"DIV",{class:!0,"data-svelte-h":!0}),X(t)!=="svelte-91uk51"&&(t.innerHTML=l),r=w(h),o&&o.l(h),d=w(h),oe(n.$$.fragment,h),$=w(h),u&&u.l(h),p=w(h),_&&_.l(h),h.forEach(g),this.h()},h(){i(t,"class","flex items-center justify-between"),i(e,"class","space-y-6 p-6 max-w-7xl mx-auto")},m(c,h){Q(c,e,h),a(e,t),a(e,r),o&&o.m(e,null),a(e,d),ne(n,e,null),a(e,$),u&&u.m(e,null),a(e,p),_&&_.m(e,null),b=!0},p(c,[h]){c[2]&&!c[0]?o?o.p(c,h):(o=Te(c),o.c(),o.m(e,d)):o&&(o.d(1),o=null);const L={};h&67108922&&(L.$$scope={dirty:h,ctx:c}),n.$set(L),c[1]&&!c[0]?u||(u=Ge(),u.c(),u.m(e,p)):u&&(u.d(1),u=null),c[0]?_?(_.p(c,h),h&1&&Y(_,1)):(_=Me(c),_.c(),Y(_,1),_.m(e,null)):_&&(Ce(),K(_,1,1,()=>{_=null}),De())},i(c){b||(Y(n.$$.fragment,c),Y(_),b=!0)},o(c){K(n.$$.fragment,c),K(_),b=!1},d(c){c&&g(e),o&&o.d(),re(n),u&&u.d(),_&&_.d()}}}function ct(s,e,t){let l=null,r=!1,d=null;const n=new Date().toISOString().slice(0,10);let p=new Date(Date.now()-365*24*60*60*1e3).toISOString().slice(0,10),b=n,o=10,u=new Set,_="semiconductor OR chip",c=!1,h=null;async function L(){t(1,r=!0),t(2,d=null);try{t(0,l=await Re({from:p,to:b,min_articles_per_day:o}))}catch(m){t(2,d=`Failed to detect gaps: ${String(m)}`)}finally{t(1,r=!1)}}async function D(){if(u.size===0){t(2,d="Please select at least one gap to backfill");return}t(8,c=!0),t(9,h=null);try{const m=Array.from(u),B=m[0],N=m[m.length-1],C=await Je("/v1/ingest/news",{query:_,from:B,to:N});t(9,h=`✓ Backfill job started: ${C.job_id}
Fetching news for ${m.length} dates from ${B} to ${N}`),u.clear()}catch(m){t(9,h=`✗ Error: ${String(m)}`)}finally{t(8,c=!1)}}function I(m){u.has(m)?u.delete(m):u.add(m),t(6,u)}function S(){l!=null&&l.gaps&&(l.gaps.forEach(m=>u.add(m.date)),t(6,u))}function y(){u.clear(),t(6,u)}We(()=>{L()});function O(){p=this.value,t(3,p)}function J(){b=this.value,t(4,b)}function H(){o=qe(this.value),t(5,o)}function T(){_=this.value,t(7,_)}return[l,r,d,p,b,o,u,_,c,h,L,D,I,S,y,O,J,H,T,m=>I(m.date),m=>I(m.date)]}class _t extends Fe{constructor(e){super(),Ue(this,e,ct,it,Oe,{})}}export{_t as component};
