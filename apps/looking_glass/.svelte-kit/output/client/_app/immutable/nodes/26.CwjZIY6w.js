import{S as Vt,i as Et,s as qt,d as C,B as Rt,u as Ut,r as Nt,v as Bt,w as jt,y as yt,b as tt,c as e,C as Ot,q as z,m as o,e as u,f as T,o as V,h as b,D as $t,j as d,k as x,E as St,p as Mt,a as ft,g as L,t as X}from"../chunks/DnBpi1Qd.js";import{e as Dt}from"../chunks/B5jFdsvg.js";import"../chunks/IHki7fMi.js";import{g as Qt,r as Pt,d as Wt,a as At,q as Ht,u as zt}from"../chunks/BnvI_Nfc.js";import{M as Ft}from"../chunks/BNha2vma.js";function It(a,t,s){const i=a.slice();return i[12]=t[s],i}function kt(a){let t,s,i;return{c(){t=d("div"),s=X("Would reindex: "),i=X(a[0]),this.h()},l(r){t=u(r,"DIV",{class:!0});var n=T(t);s=L(n,"Would reindex: "),i=L(n,a[0]),n.forEach(C),this.h()},h(){o(t,"class","text-xs mt-2")},m(r,n){tt(r,t,n),e(t,s),e(t,i)},p(r,n){n&1&&ft(i,r[0])},d(r){r&&C(t)}}}function Tt(a){let t,s,i;return{c(){t=d("div"),s=X("Scanned: "),i=X(a[1]),this.h()},l(r){t=u(r,"DIV",{class:!0});var n=T(t);s=L(n,"Scanned: "),i=L(n,a[1]),n.forEach(C),this.h()},h(){o(t,"class","text-xs mt-2")},m(r,n){tt(r,t,n),e(t,s),e(t,i)},p(r,n){n&2&&ft(i,r[1])},d(r){r&&C(t)}}}function wt(a){let t,s,i=a[12].title+"",r,n,f,I="Restore",p,y,N;function M(){return a[11](a[12])}return{c(){t=d("div"),s=d("div"),r=X(i),n=x(),f=d("button"),f.textContent=I,p=x(),this.h()},l(v){t=u(v,"DIV",{class:!0});var D=T(t);s=u(D,"DIV",{class:!0});var Q=T(s);r=L(Q,i),Q.forEach(C),n=b(D),f=u(D,"BUTTON",{class:!0,"data-svelte-h":!0}),V(f)!=="svelte-1atayxr"&&(f.textContent=I),p=b(D),D.forEach(C),this.h()},h(){o(s,"class","truncate"),o(f,"class","px-2 py-1 rounded bg-green-700 hover:bg-green-600"),o(t,"class","flex items-center justify-between text-sm bg-neutral-800 rounded p-2")},m(v,D){tt(v,t,D),e(t,s),e(s,r),e(t,n),e(t,f),e(t,p),y||(N=z(f,"click",M),y=!0)},p(v,D){a=v,D&4&&i!==(i=a[12].title+"")&&ft(r,i)},d(v){v&&C(t),y=!1,N()}}}function Gt(a){let t,s,i="Manifold Â· Admin",r,n,f,I,p,y,N="Reindex (Dry-Run)",M,v,D="Run",Q,k,w,P,vt="Dedupe (Stub)",et,B,ht="Run",nt,lt,j,W,pt="Quarantine",at,E,R,st,O,_t="Quarantine",rt,$,mt="Unquarantine",ot,q,A,gt="Trash",it,S,bt="Refresh",ut,H,Y,dt,xt;n=new Ft({});let m=a[0]!==null&&kt(a),g=a[1]!==null&&Tt(a),F=Dt(a[2]),_=[];for(let l=0;l<F.length;l+=1)_[l]=wt(It(a,F,l));return{c(){t=d("div"),s=d("h1"),s.textContent=i,r=x(),St(n.$$.fragment),f=x(),I=d("div"),p=d("div"),y=d("div"),y.textContent=N,M=x(),v=d("button"),v.textContent=D,Q=x(),m&&m.c(),k=x(),w=d("div"),P=d("div"),P.textContent=vt,et=x(),B=d("button"),B.textContent=ht,nt=x(),g&&g.c(),lt=x(),j=d("div"),W=d("div"),W.textContent=pt,at=x(),E=d("div"),R=d("input"),st=x(),O=d("button"),O.textContent=_t,rt=x(),$=d("button"),$.textContent=mt,ot=x(),q=d("div"),A=d("div"),A.textContent=gt,it=x(),S=d("button"),S.textContent=bt,ut=x(),H=d("div");for(let l=0;l<_.length;l+=1)_[l].c();this.h()},l(l){t=u(l,"DIV",{class:!0});var h=T(t);s=u(h,"H1",{class:!0,"data-svelte-h":!0}),V(s)!=="svelte-1hljq1o"&&(s.textContent=i),r=b(h),$t(n.$$.fragment,h),f=b(h),I=u(h,"DIV",{class:!0});var c=T(I);p=u(c,"DIV",{class:!0});var U=T(p);y=u(U,"DIV",{class:!0,"data-svelte-h":!0}),V(y)!=="svelte-yj8d7a"&&(y.textContent=N),M=b(U),v=u(U,"BUTTON",{class:!0,"data-svelte-h":!0}),V(v)!=="svelte-1yw1nc9"&&(v.textContent=D),Q=b(U),m&&m.l(U),U.forEach(C),k=b(c),w=u(c,"DIV",{class:!0});var G=T(w);P=u(G,"DIV",{class:!0,"data-svelte-h":!0}),V(P)!=="svelte-10ppmcl"&&(P.textContent=vt),et=b(G),B=u(G,"BUTTON",{class:!0,"data-svelte-h":!0}),V(B)!=="svelte-cd0b7u"&&(B.textContent=ht),nt=b(G),g&&g.l(G),G.forEach(C),c.forEach(C),lt=b(h),j=u(h,"DIV",{class:!0});var Z=T(j);W=u(Z,"DIV",{class:!0,"data-svelte-h":!0}),V(W)!=="svelte-16vejgp"&&(W.textContent=pt),at=b(Z),E=u(Z,"DIV",{class:!0});var J=T(E);R=u(J,"INPUT",{class:!0,placeholder:!0}),st=b(J),O=u(J,"BUTTON",{class:!0,"data-svelte-h":!0}),V(O)!=="svelte-1bcoeec"&&(O.textContent=_t),rt=b(J),$=u(J,"BUTTON",{class:!0,"data-svelte-h":!0}),V($)!=="svelte-1rj5vdm"&&($.textContent=mt),J.forEach(C),Z.forEach(C),ot=b(h),q=u(h,"DIV",{class:!0});var K=T(q);A=u(K,"DIV",{class:!0,"data-svelte-h":!0}),V(A)!=="svelte-iexwq1"&&(A.textContent=gt),it=b(K),S=u(K,"BUTTON",{class:!0,"data-svelte-h":!0}),V(S)!=="svelte-nshtug"&&(S.textContent=bt),ut=b(K),H=u(K,"DIV",{class:!0});var Ct=T(H);for(let ct=0;ct<_.length;ct+=1)_[ct].l(Ct);Ct.forEach(C),K.forEach(C),h.forEach(C),this.h()},h(){o(s,"class","text-2xl font-semibold"),o(y,"class","text-sm text-neutral-400"),o(v,"class","mt-2 px-3 py-2 rounded bg-indigo-600 hover:bg-indigo-500"),o(p,"class","bg-neutral-900 rounded p-4 border border-neutral-800"),o(P,"class","text-sm text-neutral-400"),o(B,"class","mt-2 px-3 py-2 rounded bg-neutral-800 hover:bg-neutral-700"),o(w,"class","bg-neutral-900 rounded p-4 border border-neutral-800"),o(I,"class","grid grid-cols-1 md:grid-cols-2 gap-4"),o(W,"class","text-sm text-neutral-400"),o(R,"class","px-3 py-2 rounded bg-neutral-800"),o(R,"placeholder","thought_id"),o(O,"class","px-3 py-2 rounded bg-yellow-700 hover:bg-yellow-600"),o($,"class","px-3 py-2 rounded bg-green-700 hover:bg-green-600"),o(E,"class","flex gap-2 mt-2"),o(j,"class","bg-neutral-900 rounded p-4 border border-neutral-800"),o(A,"class","text-sm text-neutral-400"),o(S,"class","mt-2 px-3 py-2 rounded bg-neutral-800 hover:bg-neutral-700"),o(H,"class","space-y-2 mt-2"),o(q,"class","bg-neutral-900 rounded p-4 border border-neutral-800"),o(t,"class","p-6 space-y-6 h-full overflow-auto")},m(l,h){tt(l,t,h),e(t,s),e(t,r),Ot(n,t,null),e(t,f),e(t,I),e(I,p),e(p,y),e(p,M),e(p,v),e(p,Q),m&&m.m(p,null),e(I,k),e(I,w),e(w,P),e(w,et),e(w,B),e(w,nt),g&&g.m(w,null),e(t,lt),e(t,j),e(j,W),e(j,at),e(j,E),e(E,R),yt(R,a[3]),e(E,st),e(E,O),e(E,rt),e(E,$),e(t,ot),e(t,q),e(q,A),e(q,it),e(q,S),e(q,ut),e(q,H);for(let c=0;c<_.length;c+=1)_[c]&&_[c].m(H,null);Y=!0,dt||(xt=[z(v,"click",a[4]),z(B,"click",a[5]),z(R,"input",a[10]),z(O,"click",a[8]),z($,"click",a[9]),z(S,"click",a[6])],dt=!0)},p(l,[h]){if(l[0]!==null?m?m.p(l,h):(m=kt(l),m.c(),m.m(p,null)):m&&(m.d(1),m=null),l[1]!==null?g?g.p(l,h):(g=Tt(l),g.c(),g.m(w,null)):g&&(g.d(1),g=null),h&8&&R.value!==l[3]&&yt(R,l[3]),h&132){F=Dt(l[2]);let c;for(c=0;c<F.length;c+=1){const U=It(l,F,c);_[c]?_[c].p(U,h):(_[c]=wt(U),_[c].c(),_[c].m(H,null))}for(;c<_.length;c+=1)_[c].d(1);_.length=F.length}},i(l){Y||(jt(n.$$.fragment,l),Y=!0)},o(l){Bt(n.$$.fragment,l),Y=!1},d(l){l&&C(t),Rt(n),m&&m.d(),g&&g.d(),Ut(_,l),dt=!1,Nt(xt)}}}function Jt(a,t,s){let i=null,r=null,n=[],f="";async function I(){const k=await Pt(!0);s(0,i=k.would_reindex??null)}async function p(){const k=await Wt();s(1,r=k.scanned)}async function y(){const k=await Qt();s(2,n=k.thoughts||[])}async function N(k){await At(k),await y()}async function M(){f&&await Ht(f,"manual")}async function v(){f&&await zt(f)}Mt(y);function D(){f=this.value,s(3,f)}return[i,r,n,f,I,p,y,N,M,v,D,k=>N(k.id)]}class te extends Vt{constructor(t){super(),Et(this,t,Jt,Gt,qt,{})}}export{te as component};
