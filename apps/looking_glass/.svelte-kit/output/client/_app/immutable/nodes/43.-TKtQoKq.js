import{S as rs,i as os,s as us,n as ot,d as o,a as R,b as N,c as e,q as ul,m as n,e as i,f as p,o as x,h as y,g as A,N as Xl,j as r,k as m,t as S,p as fs,u as ve,r as vs,F as Ae}from"../chunks/BeOz57Dq.js";import{e as _t}from"../chunks/D_ZdN6Q8.js";import"../chunks/IHki7fMi.js";import{f as Zl,h as hs,b as ds,c as $l}from"../chunks/DLreTGRR.js";import{w as ps}from"../chunks/CH46InRZ.js";const Ne=ps({data:null,timestamp:0,ttl:5*60*1e3});function _s(a){return a.data===null?!0:Date.now()-a.timestamp>a.ttl}async function ts(a=!1){let t;if(Ne.subscribe(u=>{t=u})(),a){const u=await Zl(!0);return Ne.set({data:u,timestamp:Date.now(),ttl:5*60*1e3}),u}if(t!=null&&t.data&&!_s(t))return t.data;const s=await Zl();return Ne.set({data:s,timestamp:Date.now(),ttl:5*60*1e3}),s}function bs(){let a;if(Ne.subscribe(s=>{a=s})(),!(a!=null&&a.data))return 0;const l=a.ttl-(Date.now()-a.timestamp);return Math.max(0,Math.ceil(l/1e3))}function es(a,t,l){const s=a.slice();return s[19]=t[l][0],s[20]=t[l][1],s}function ls(a,t,l){const s=a.slice();return s[16]=t[l],s[24]=l,s}function ys(a,t,l){const s=a.slice();return s[25]=t[l],s}function ss(a,t,l){const s=a.slice();return s[19]=t[l],s}function ms(a,t,l){const s=a.slice();return s[16]=t[l],s}function as(a){let t,l,s,u;return{c(){t=r("span"),l=S("Fresh for "),s=S(a[8]),u=S("s"),this.h()},l(f){t=i(f,"SPAN",{class:!0});var c=p(t);l=A(c,"Fresh for "),s=A(c,a[8]),u=A(c,"s"),c.forEach(o),this.h()},h(){n(t,"class","cache-age svelte-fcbjyu")},m(f,c){N(f,t,c),e(t,l),e(t,s),e(t,u)},p(f,c){c&256&&R(s,f[8])},d(f){f&&o(t)}}}function js(a){var Pl,Nl,Al,Sl,Ml,Hl,Ol,Ll,ql,Fl,Rl,Ul,Bl,zl,Jl;let t,l,s="Key Metrics",u,f,c,v,b="üì∞",h,_,d,V="Total Articles",w,j,P=te(((Nl=(Pl=a[0])==null?void 0:Pl.news)==null?void 0:Nl.total_articles)||0)+"",k,U,F,I="across all sources",M,O,E,D="üì•",g,H,L,B="Content Fetched",z,J,ut,ee,le,bt,se=te(((Sl=(Al=a[0])==null?void 0:Al.news)==null?void 0:Sl.articles_with_bodies)||0)+"",he,Se,Me,ft,yt,fl="üìä",He,Q,mt,vl="Tickers",Oe,Ft,ae=(((Hl=(Ml=a[0])==null?void 0:Ml.news)==null?void 0:Hl.tickers_mentioned)||0)+"",de,Le,jt,hl="mentioned in news",qe,vt,Ct,dl="üè∑Ô∏è",Fe,G,kt,pl="Topics",Re,Rt,ce=(((Ol=a[1])==null?void 0:Ol.total_unique_topics)||0)+"",pe,Ue,Et,_l="configured for tracking",Be,ht,gt,bl="üìÖ",ze,W,Dt,yl="Coverage Period",Je,Ut,ne=(((Fl=(ql=(Ll=a[0])==null?void 0:Ll.news)==null?void 0:ql.date_range)==null?void 0:Fl.from)||"N/A")+"",_e,Ke,wt,Ye,ie=(((Bl=(Ul=(Rl=a[0])==null?void 0:Rl.news)==null?void 0:Ul.date_range)==null?void 0:Bl.to)||"N/A")+"",be,Qe,dt,It,ml="üîó",Ge,X,xt,jl="Sources",We,Bt,re=Object.keys(((Jl=(zl=a[0])==null?void 0:zl.news)==null?void 0:Jl.sources)||{}).length+"",ye,Xe,Tt,Cl="active feeds",me,Z,Vt,kl="üìã Trending Topics (Last 30 Days)",Ze,je,$,pt,zt,El='<h2 class="svelte-fcbjyu">üî• Topic Heatmap</h2> <p class="heatmap-subtitle">Coverage by month and topic</p>',$e,tt,lt,gl="‚Üê",tl,Jt,Ce,el,st,Dl="‚Üí",ll,ke,Ee,at,Pt,wl="üè• Data Health",sl,Kt,et,Nt,Il="Content Quality",al,Yt,At,cl,St,ge,nl,il,xl;function Tl(C,T){var q;return C[5]?Ds:(q=C[1])!=null&&q.topics&&C[1].topics.length>0?gs:Es}let De=Tl(a),K=De(a);function Vl(C,T){return T&8&&(ke=null),C[6]?xs:(ke==null&&(ke=!!(C[3]&&Object.keys(C[3]).length>0)),ke?Is:ws)}let we=Vl(a,-1),Y=we(a);return{c(){t=r("section"),l=r("h2"),l.textContent=s,u=m(),f=r("div"),c=r("div"),v=r("div"),v.textContent=b,h=m(),_=r("div"),d=r("p"),d.textContent=V,w=m(),j=r("p"),k=S(P),U=m(),F=r("p"),F.textContent=I,M=m(),O=r("div"),E=r("div"),E.textContent=D,g=m(),H=r("div"),L=r("p"),L.textContent=B,z=m(),J=r("p"),ut=S(a[10]),ee=S("%"),le=m(),bt=r("p"),he=S(se),Se=S(" articles"),Me=m(),ft=r("div"),yt=r("div"),yt.textContent=fl,He=m(),Q=r("div"),mt=r("p"),mt.textContent=vl,Oe=m(),Ft=r("p"),de=S(ae),Le=m(),jt=r("p"),jt.textContent=hl,qe=m(),vt=r("div"),Ct=r("div"),Ct.textContent=dl,Fe=m(),G=r("div"),kt=r("p"),kt.textContent=pl,Re=m(),Rt=r("p"),pe=S(ce),Ue=m(),Et=r("p"),Et.textContent=_l,Be=m(),ht=r("div"),gt=r("div"),gt.textContent=bl,ze=m(),W=r("div"),Dt=r("p"),Dt.textContent=yl,Je=m(),Ut=r("p"),_e=S(ne),Ke=m(),wt=r("p"),Ye=S("to "),be=S(ie),Qe=m(),dt=r("div"),It=r("div"),It.textContent=ml,Ge=m(),X=r("div"),xt=r("p"),xt.textContent=jl,We=m(),Bt=r("p"),ye=S(re),Xe=m(),Tt=r("p"),Tt.textContent=Cl,me=m(),Z=r("section"),Vt=r("h2"),Vt.textContent=kl,Ze=m(),K.c(),je=m(),$=r("section"),pt=r("div"),zt=r("div"),zt.innerHTML=El,$e=m(),tt=r("div"),lt=r("button"),lt.textContent=gl,tl=m(),Jt=r("span"),Ce=S(a[2]),el=m(),st=r("button"),st.textContent=Dl,ll=m(),Y.c(),Ee=m(),at=r("section"),Pt=r("h2"),Pt.textContent=wl,sl=m(),Kt=r("div"),et=r("div"),Nt=r("span"),Nt.textContent=Il,al=m(),Yt=r("div"),At=r("div"),cl=m(),St=r("span"),ge=S(a[10]),nl=S("%"),this.h()},l(C){t=i(C,"SECTION",{class:!0});var T=p(t);l=i(T,"H2",{class:!0,"data-svelte-h":!0}),x(l)!=="svelte-1bvmfw0"&&(l.textContent=s),u=y(T),f=i(T,"DIV",{class:!0});var q=p(f);c=i(q,"DIV",{class:!0});var Mt=p(c);v=i(Mt,"DIV",{class:!0,"data-svelte-h":!0}),x(v)!=="svelte-1rw7t2e"&&(v.textContent=b),h=y(Mt),_=i(Mt,"DIV",{class:!0});var ct=p(_);d=i(ct,"P",{class:!0,"data-svelte-h":!0}),x(d)!=="svelte-wo35b1"&&(d.textContent=V),w=y(ct),j=i(ct,"P",{class:!0});var oe=p(j);k=A(oe,P),oe.forEach(o),U=y(ct),F=i(ct,"P",{class:!0,"data-svelte-h":!0}),x(F)!=="svelte-lhic8"&&(F.textContent=I),ct.forEach(o),Mt.forEach(o),M=y(q),O=i(q,"DIV",{class:!0});var Ht=p(O);E=i(Ht,"DIV",{class:!0,"data-svelte-h":!0}),x(E)!=="svelte-10rrqrl"&&(E.textContent=D),g=y(Ht),H=i(Ht,"DIV",{class:!0});var nt=p(H);L=i(nt,"P",{class:!0,"data-svelte-h":!0}),x(L)!=="svelte-gob6jm"&&(L.textContent=B),z=y(nt),J=i(nt,"P",{class:!0});var Qt=p(J);ut=A(Qt,a[10]),ee=A(Qt,"%"),Qt.forEach(o),le=y(nt),bt=i(nt,"P",{class:!0});var Gt=p(bt);he=A(Gt,se),Se=A(Gt," articles"),Gt.forEach(o),nt.forEach(o),Ht.forEach(o),Me=y(q),ft=i(q,"DIV",{class:!0});var Ot=p(ft);yt=i(Ot,"DIV",{class:!0,"data-svelte-h":!0}),x(yt)!=="svelte-1op50ns"&&(yt.textContent=fl),He=y(Ot),Q=i(Ot,"DIV",{class:!0});var it=p(Q);mt=i(it,"P",{class:!0,"data-svelte-h":!0}),x(mt)!=="svelte-128yybp"&&(mt.textContent=vl),Oe=y(it),Ft=i(it,"P",{class:!0});var ue=p(Ft);de=A(ue,ae),ue.forEach(o),Le=y(it),jt=i(it,"P",{class:!0,"data-svelte-h":!0}),x(jt)!=="svelte-1v8h11f"&&(jt.textContent=hl),it.forEach(o),Ot.forEach(o),qe=y(q),vt=i(q,"DIV",{class:!0});var Lt=p(vt);Ct=i(Lt,"DIV",{class:!0,"data-svelte-h":!0}),x(Ct)!=="svelte-j7hij7"&&(Ct.textContent=dl),Fe=y(Lt),G=i(Lt,"DIV",{class:!0});var rt=p(G);kt=i(rt,"P",{class:!0,"data-svelte-h":!0}),x(kt)!=="svelte-194x9y2"&&(kt.textContent=pl),Re=y(rt),Rt=i(rt,"P",{class:!0});var fe=p(Rt);pe=A(fe,ce),fe.forEach(o),Ue=y(rt),Et=i(rt,"P",{class:!0,"data-svelte-h":!0}),x(Et)!=="svelte-fzms2k"&&(Et.textContent=_l),rt.forEach(o),Lt.forEach(o),Be=y(q),ht=i(q,"DIV",{class:!0});var qt=p(ht);gt=i(qt,"DIV",{class:!0,"data-svelte-h":!0}),x(gt)!=="svelte-7iwpep"&&(gt.textContent=bl),ze=y(qt),W=i(qt,"DIV",{class:!0});var Wt=p(W);Dt=i(Wt,"P",{class:!0,"data-svelte-h":!0}),x(Dt)!=="svelte-18nzcdx"&&(Dt.textContent=yl),Je=y(Wt),Ut=i(Wt,"P",{class:!0});var Kl=p(Ut);_e=A(Kl,ne),Kl.forEach(o),Ke=y(Wt),wt=i(Wt,"P",{class:!0});var rl=p(wt);Ye=A(rl,"to "),be=A(rl,ie),rl.forEach(o),Wt.forEach(o),qt.forEach(o),Qe=y(q),dt=i(q,"DIV",{class:!0});var Ie=p(dt);It=i(Ie,"DIV",{class:!0,"data-svelte-h":!0}),x(It)!=="svelte-1d3t6sj"&&(It.textContent=ml),Ge=y(Ie),X=i(Ie,"DIV",{class:!0});var Xt=p(X);xt=i(Xt,"P",{class:!0,"data-svelte-h":!0}),x(xt)!=="svelte-1knauww"&&(xt.textContent=jl),We=y(Xt),Bt=i(Xt,"P",{class:!0});var Yl=p(Bt);ye=A(Yl,re),Yl.forEach(o),Xe=y(Xt),Tt=i(Xt,"P",{class:!0,"data-svelte-h":!0}),x(Tt)!=="svelte-1v6a1qv"&&(Tt.textContent=Cl),Xt.forEach(o),Ie.forEach(o),q.forEach(o),T.forEach(o),me=y(C),Z=i(C,"SECTION",{class:!0});var xe=p(Z);Vt=i(xe,"H2",{class:!0,"data-svelte-h":!0}),x(Vt)!=="svelte-56a4aq"&&(Vt.textContent=kl),Ze=y(xe),K.l(xe),xe.forEach(o),je=y(C),$=i(C,"SECTION",{class:!0});var Te=p($);pt=i(Te,"DIV",{class:!0});var Ve=p(pt);zt=i(Ve,"DIV",{"data-svelte-h":!0}),x(zt)!=="svelte-1g55l39"&&(zt.innerHTML=El),$e=y(Ve),tt=i(Ve,"DIV",{class:!0});var Zt=p(tt);lt=i(Zt,"BUTTON",{title:!0,class:!0,"data-svelte-h":!0}),x(lt)!=="svelte-qk42h5"&&(lt.textContent=gl),tl=y(Zt),Jt=i(Zt,"SPAN",{class:!0});var Ql=p(Jt);Ce=A(Ql,a[2]),Ql.forEach(o),el=y(Zt),st=i(Zt,"BUTTON",{title:!0,class:!0,"data-svelte-h":!0}),x(st)!=="svelte-1rumk1l"&&(st.textContent=Dl),Zt.forEach(o),Ve.forEach(o),ll=y(Te),Y.l(Te),Te.forEach(o),Ee=y(C),at=i(C,"SECTION",{class:!0});var Pe=p(at);Pt=i(Pe,"H2",{class:!0,"data-svelte-h":!0}),x(Pt)!=="svelte-qbia63"&&(Pt.textContent=wl),sl=y(Pe),Kt=i(Pe,"DIV",{class:!0});var Gl=p(Kt);et=i(Gl,"DIV",{class:!0});var $t=p(et);Nt=i($t,"SPAN",{class:!0,"data-svelte-h":!0}),x(Nt)!=="svelte-14ugavu"&&(Nt.textContent=Il),al=y($t),Yt=i($t,"DIV",{class:!0});var Wl=p(Yt);At=i(Wl,"DIV",{class:!0,style:!0}),p(At).forEach(o),Wl.forEach(o),cl=y($t),St=i($t,"SPAN",{class:!0});var ol=p(St);ge=A(ol,a[10]),nl=A(ol,"%"),ol.forEach(o),$t.forEach(o),Gl.forEach(o),Pe.forEach(o),this.h()},h(){n(l,"class","svelte-fcbjyu"),n(v,"class","kpi-icon svelte-fcbjyu"),n(d,"class","kpi-label svelte-fcbjyu"),n(j,"class","kpi-value svelte-fcbjyu"),n(F,"class","kpi-subtitle svelte-fcbjyu"),n(_,"class","kpi-content svelte-fcbjyu"),n(c,"class","kpi-card svelte-fcbjyu"),n(E,"class","kpi-icon svelte-fcbjyu"),n(L,"class","kpi-label svelte-fcbjyu"),n(J,"class","kpi-value svelte-fcbjyu"),n(bt,"class","kpi-subtitle svelte-fcbjyu"),n(H,"class","kpi-content svelte-fcbjyu"),n(O,"class","kpi-card svelte-fcbjyu"),n(yt,"class","kpi-icon svelte-fcbjyu"),n(mt,"class","kpi-label svelte-fcbjyu"),n(Ft,"class","kpi-value svelte-fcbjyu"),n(jt,"class","kpi-subtitle svelte-fcbjyu"),n(Q,"class","kpi-content svelte-fcbjyu"),n(ft,"class","kpi-card svelte-fcbjyu"),n(Ct,"class","kpi-icon svelte-fcbjyu"),n(kt,"class","kpi-label svelte-fcbjyu"),n(Rt,"class","kpi-value svelte-fcbjyu"),n(Et,"class","kpi-subtitle svelte-fcbjyu"),n(G,"class","kpi-content svelte-fcbjyu"),n(vt,"class","kpi-card svelte-fcbjyu"),n(gt,"class","kpi-icon svelte-fcbjyu"),n(Dt,"class","kpi-label svelte-fcbjyu"),n(Ut,"class","kpi-value svelte-fcbjyu"),n(wt,"class","kpi-subtitle svelte-fcbjyu"),n(W,"class","kpi-content svelte-fcbjyu"),n(ht,"class","kpi-card svelte-fcbjyu"),n(It,"class","kpi-icon svelte-fcbjyu"),n(xt,"class","kpi-label svelte-fcbjyu"),n(Bt,"class","kpi-value svelte-fcbjyu"),n(Tt,"class","kpi-subtitle svelte-fcbjyu"),n(X,"class","kpi-content svelte-fcbjyu"),n(dt,"class","kpi-card svelte-fcbjyu"),n(f,"class","kpi-grid svelte-fcbjyu"),n(t,"class","kpi-section svelte-fcbjyu"),n(Vt,"class","svelte-fcbjyu"),n(Z,"class","section-card svelte-fcbjyu"),n(lt,"title","Previous year"),n(lt,"class","svelte-fcbjyu"),n(Jt,"class","year-display svelte-fcbjyu"),n(st,"title","Next year"),n(st,"class","svelte-fcbjyu"),n(tt,"class","year-selector svelte-fcbjyu"),n(pt,"class","heatmap-header-section"),n($,"class","section-card svelte-fcbjyu"),n(Pt,"class","svelte-fcbjyu"),n(Nt,"class","health-label svelte-fcbjyu"),n(At,"class","health-fill svelte-fcbjyu"),Ae(At,"width",a[10]+"%"),n(Yt,"class","health-bar svelte-fcbjyu"),n(St,"class","health-value svelte-fcbjyu"),n(et,"class","health-item svelte-fcbjyu"),n(Kt,"class","health-grid svelte-fcbjyu"),n(at,"class","section-card svelte-fcbjyu")},m(C,T){N(C,t,T),e(t,l),e(t,u),e(t,f),e(f,c),e(c,v),e(c,h),e(c,_),e(_,d),e(_,w),e(_,j),e(j,k),e(_,U),e(_,F),e(f,M),e(f,O),e(O,E),e(O,g),e(O,H),e(H,L),e(H,z),e(H,J),e(J,ut),e(J,ee),e(H,le),e(H,bt),e(bt,he),e(bt,Se),e(f,Me),e(f,ft),e(ft,yt),e(ft,He),e(ft,Q),e(Q,mt),e(Q,Oe),e(Q,Ft),e(Ft,de),e(Q,Le),e(Q,jt),e(f,qe),e(f,vt),e(vt,Ct),e(vt,Fe),e(vt,G),e(G,kt),e(G,Re),e(G,Rt),e(Rt,pe),e(G,Ue),e(G,Et),e(f,Be),e(f,ht),e(ht,gt),e(ht,ze),e(ht,W),e(W,Dt),e(W,Je),e(W,Ut),e(Ut,_e),e(W,Ke),e(W,wt),e(wt,Ye),e(wt,be),e(f,Qe),e(f,dt),e(dt,It),e(dt,Ge),e(dt,X),e(X,xt),e(X,We),e(X,Bt),e(Bt,ye),e(X,Xe),e(X,Tt),N(C,me,T),N(C,Z,T),e(Z,Vt),e(Z,Ze),K.m(Z,null),N(C,je,T),N(C,$,T),e($,pt),e(pt,zt),e(pt,$e),e(pt,tt),e(tt,lt),e(tt,tl),e(tt,Jt),e(Jt,Ce),e(tt,el),e(tt,st),e($,ll),Y.m($,null),N(C,Ee,T),N(C,at,T),e(at,Pt),e(at,sl),e(at,Kt),e(Kt,et),e(et,Nt),e(et,al),e(et,Yt),e(Yt,At),e(et,cl),e(et,St),e(St,ge),e(St,nl),il||(xl=[ul(lt,"click",a[13]),ul(st,"click",a[14])],il=!0)},p(C,T){var q,Mt,ct,oe,Ht,nt,Qt,Gt,Ot,it,ue,Lt,rt,fe,qt;T&1&&P!==(P=te(((Mt=(q=C[0])==null?void 0:q.news)==null?void 0:Mt.total_articles)||0)+"")&&R(k,P),T&1024&&R(ut,C[10]),T&1&&se!==(se=te(((oe=(ct=C[0])==null?void 0:ct.news)==null?void 0:oe.articles_with_bodies)||0)+"")&&R(he,se),T&1&&ae!==(ae=(((nt=(Ht=C[0])==null?void 0:Ht.news)==null?void 0:nt.tickers_mentioned)||0)+"")&&R(de,ae),T&2&&ce!==(ce=(((Qt=C[1])==null?void 0:Qt.total_unique_topics)||0)+"")&&R(pe,ce),T&1&&ne!==(ne=(((it=(Ot=(Gt=C[0])==null?void 0:Gt.news)==null?void 0:Ot.date_range)==null?void 0:it.from)||"N/A")+"")&&R(_e,ne),T&1&&ie!==(ie=(((rt=(Lt=(ue=C[0])==null?void 0:ue.news)==null?void 0:Lt.date_range)==null?void 0:rt.to)||"N/A")+"")&&R(be,ie),T&1&&re!==(re=Object.keys(((qt=(fe=C[0])==null?void 0:fe.news)==null?void 0:qt.sources)||{}).length+"")&&R(ye,re),De===(De=Tl(C))&&K?K.p(C,T):(K.d(1),K=De(C),K&&(K.c(),K.m(Z,null))),T&4&&R(Ce,C[2]),we===(we=Vl(C,T))&&Y?Y.p(C,T):(Y.d(1),Y=we(C),Y&&(Y.c(),Y.m($,null))),T&1024&&Ae(At,"width",C[10]+"%"),T&1024&&R(ge,C[10])},d(C){C&&(o(t),o(me),o(Z),o(je),o($),o(Ee),o(at)),K.d(),Y.d(),il=!1,vs(xl)}}}function Cs(a){let t,l,s;return{c(){t=r("div"),l=r("p"),s=S(a[7]),this.h()},l(u){t=i(u,"DIV",{class:!0});var f=p(t);l=i(f,"P",{});var c=p(l);s=A(c,a[7]),c.forEach(o),f.forEach(o),this.h()},h(){n(t,"class","error-box svelte-fcbjyu")},m(u,f){N(u,t,f),e(t,l),e(l,s)},p(u,f){f&128&&R(s,u[7])},d(u){u&&o(t)}}}function ks(a){let t,l=_t(Array(6)),s=[];for(let u=0;u<l.length;u+=1)s[u]=Vs(ms(a,l,u));return{c(){t=r("div");for(let u=0;u<s.length;u+=1)s[u].c();this.h()},l(u){t=i(u,"DIV",{class:!0});var f=p(t);for(let c=0;c<s.length;c+=1)s[c].l(f);f.forEach(o),this.h()},h(){n(t,"class","skeleton-grid svelte-fcbjyu")},m(u,f){N(u,t,f);for(let c=0;c<s.length;c+=1)s[c]&&s[c].m(t,null)},p:ot,d(u){u&&o(t),ve(s,u)}}}function Es(a){let t,l="No topics found in the last 30 days";return{c(){t=r("p"),t.textContent=l,this.h()},l(s){t=i(s,"P",{class:!0,"data-svelte-h":!0}),x(t)!=="svelte-cuymms"&&(t.textContent=l),this.h()},h(){n(t,"class","no-data svelte-fcbjyu")},m(s,u){N(s,t,u)},p:ot,d(s){s&&o(t)}}}function gs(a){let t,l,s,u="View all topics ‚Üí",f=_t(a[1].topics.slice(0,5)),c=[];for(let v=0;v<f.length;v+=1)c[v]=cs(ss(a,f,v));return{c(){t=r("div");for(let v=0;v<c.length;v+=1)c[v].c();l=m(),s=r("a"),s.textContent=u,this.h()},l(v){t=i(v,"DIV",{class:!0});var b=p(t);for(let h=0;h<c.length;h+=1)c[h].l(b);b.forEach(o),l=y(v),s=i(v,"A",{href:!0,class:!0,"data-svelte-h":!0}),x(s)!=="svelte-4pop63"&&(s.textContent=u),this.h()},h(){n(t,"class","topics-list svelte-fcbjyu"),n(s,"href","/satbase/topics"),n(s,"class","link-button svelte-fcbjyu")},m(v,b){N(v,t,b);for(let h=0;h<c.length;h+=1)c[h]&&c[h].m(t,null);N(v,l,b),N(v,s,b)},p(v,b){if(b&2){f=_t(v[1].topics.slice(0,5));let h;for(h=0;h<f.length;h+=1){const _=ss(v,f,h);c[h]?c[h].p(_,b):(c[h]=cs(_),c[h].c(),c[h].m(t,null))}for(;h<c.length;h+=1)c[h].d(1);c.length=f.length}},d(v){v&&(o(t),o(l),o(s)),ve(c,v)}}}function Ds(a){let t,l='<div class="skeleton-item svelte-fcbjyu"></div> <div class="skeleton-item svelte-fcbjyu"></div> <div class="skeleton-item svelte-fcbjyu"></div>';return{c(){t=r("div"),t.innerHTML=l,this.h()},l(s){t=i(s,"DIV",{class:!0,"data-svelte-h":!0}),x(t)!=="svelte-zolnys"&&(t.innerHTML=l),this.h()},h(){n(t,"class","topics-skeleton svelte-fcbjyu")},m(s,u){N(s,t,u)},p:ot,d(s){s&&o(t)}}}function cs(a){let t,l,s=a[19].name+"",u,f,c,v=te(a[19].count)+"",b,h;return{c(){t=r("div"),l=r("span"),u=S(s),f=m(),c=r("span"),b=S(v),h=m(),this.h()},l(_){t=i(_,"DIV",{class:!0});var d=p(t);l=i(d,"SPAN",{class:!0});var V=p(l);u=A(V,s),V.forEach(o),f=y(d),c=i(d,"SPAN",{class:!0});var w=p(c);b=A(w,v),w.forEach(o),h=y(d),d.forEach(o),this.h()},h(){n(l,"class","topic-name svelte-fcbjyu"),n(c,"class","topic-count svelte-fcbjyu"),n(t,"class","topic-item svelte-fcbjyu")},m(_,d){N(_,t,d),e(t,l),e(l,u),e(t,f),e(t,c),e(c,b),e(t,h)},p(_,d){d&2&&s!==(s=_[19].name+"")&&R(u,s),d&2&&v!==(v=te(_[19].count)+"")&&R(b,v)},d(_){_&&o(t)}}}function ws(a){let t,l="No heatmap data available";return{c(){t=r("p"),t.textContent=l,this.h()},l(s){t=i(s,"P",{class:!0,"data-svelte-h":!0}),x(t)!=="svelte-163fpah"&&(t.textContent=l),this.h()},h(){n(t,"class","no-data svelte-fcbjyu")},m(s,u){N(s,t,u)},p:ot,d(s){s&&o(t)}}}function Is(a){let t,l,s,u,f,c="Topic",v,b,h,_=_t(["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]),d=[];for(let j=0;j<12;j+=1)d[j]=Ts(ys(a,_,j));let V=_t(Object.entries(a[3])),w=[];for(let j=0;j<V.length;j+=1)w[j]=is(es(a,V,j));return{c(){t=r("div"),l=r("table"),s=r("thead"),u=r("tr"),f=r("th"),f.textContent=c,v=m();for(let j=0;j<12;j+=1)d[j].c();b=m(),h=r("tbody");for(let j=0;j<w.length;j+=1)w[j].c();this.h()},l(j){t=i(j,"DIV",{class:!0});var P=p(t);l=i(P,"TABLE",{class:!0});var k=p(l);s=i(k,"THEAD",{class:!0});var U=p(s);u=i(U,"TR",{class:!0});var F=p(u);f=i(F,"TH",{class:!0,"data-svelte-h":!0}),x(f)!=="svelte-1g8xn23"&&(f.textContent=c),v=y(F);for(let M=0;M<12;M+=1)d[M].l(F);F.forEach(o),U.forEach(o),b=y(k),h=i(k,"TBODY",{});var I=p(h);for(let M=0;M<w.length;M+=1)w[M].l(I);I.forEach(o),k.forEach(o),P.forEach(o),this.h()},h(){n(f,"class","topic-header svelte-fcbjyu"),n(u,"class","header-row svelte-fcbjyu"),n(s,"class","svelte-fcbjyu"),n(l,"class","heatmap-table svelte-fcbjyu"),n(t,"class","heatmap-wrapper svelte-fcbjyu")},m(j,P){N(j,t,P),e(t,l),e(l,s),e(s,u),e(u,f),e(u,v);for(let k=0;k<12;k+=1)d[k]&&d[k].m(u,null);e(l,b),e(l,h);for(let k=0;k<w.length;k+=1)w[k]&&w[k].m(h,null)},p(j,P){if(P&8){V=_t(Object.entries(j[3]));let k;for(k=0;k<V.length;k+=1){const U=es(j,V,k);w[k]?w[k].p(U,P):(w[k]=is(U),w[k].c(),w[k].m(h,null))}for(;k<w.length;k+=1)w[k].d(1);w.length=V.length}},d(j){j&&o(t),ve(d,j),ve(w,j)}}}function xs(a){let t,l='<div class="skeleton-bar svelte-fcbjyu"></div> <div class="skeleton-bar svelte-fcbjyu"></div> <div class="skeleton-bar svelte-fcbjyu"></div>';return{c(){t=r("div"),t.innerHTML=l,this.h()},l(s){t=i(s,"DIV",{class:!0,"data-svelte-h":!0}),x(t)!=="svelte-18tbyuq"&&(t.innerHTML=l),this.h()},h(){n(t,"class","heatmap-skeleton svelte-fcbjyu")},m(s,u){N(s,t,u)},p:ot,d(s){s&&o(t)}}}function Ts(a){let t,l;return{c(){t=r("th"),l=S(a[25]),this.h()},l(s){t=i(s,"TH",{class:!0});var u=p(t);l=A(u,a[25]),u.forEach(o),this.h()},h(){n(t,"class","month-header svelte-fcbjyu")},m(s,u){N(s,t,u),e(t,l)},p:ot,d(s){s&&o(t)}}}function ns(a){let t,l,s=(a[20][a[24]]>0?a[20][a[24]]:"")+"",u,f;return{c(){t=r("td"),l=r("span"),u=S(s),this.h()},l(c){t=i(c,"TD",{class:!0,style:!0,title:!0});var v=p(t);l=i(v,"SPAN",{class:!0});var b=p(l);u=A(b,s),b.forEach(o),v.forEach(o),this.h()},h(){n(l,"class","cell-value svelte-fcbjyu"),n(t,"class","heatmap-cell svelte-fcbjyu"),Ae(t,"--intensity",Math.min((a[20][a[24]]||0)/50,1)),n(t,"title",f=(a[20][a[24]]||0)+" articles")},m(c,v){N(c,t,v),e(t,l),e(l,u)},p(c,v){v&8&&s!==(s=(c[20][c[24]]>0?c[20][c[24]]:"")+"")&&R(u,s),v&8&&Ae(t,"--intensity",Math.min((c[20][c[24]]||0)/50,1)),v&8&&f!==(f=(c[20][c[24]]||0)+" articles")&&n(t,"title",f)},d(c){c&&o(t)}}}function is(a){let t,l,s=a[19]+"",u,f,c,v=_t(Array(12)),b=[];for(let h=0;h<v.length;h+=1)b[h]=ns(ls(a,v,h));return{c(){t=r("tr"),l=r("td"),u=S(s),f=m();for(let h=0;h<b.length;h+=1)b[h].c();c=m(),this.h()},l(h){t=i(h,"TR",{class:!0});var _=p(t);l=i(_,"TD",{class:!0});var d=p(l);u=A(d,s),d.forEach(o),f=y(_);for(let V=0;V<b.length;V+=1)b[V].l(_);c=y(_),_.forEach(o),this.h()},h(){n(l,"class","topic-cell svelte-fcbjyu"),n(t,"class","data-row svelte-fcbjyu")},m(h,_){N(h,t,_),e(t,l),e(l,u),e(t,f);for(let d=0;d<b.length;d+=1)b[d]&&b[d].m(t,null);e(t,c)},p(h,_){if(_&8&&s!==(s=h[19]+"")&&R(u,s),_&8){v=_t(Array(12));let d;for(d=0;d<v.length;d+=1){const V=ls(h,v,d);b[d]?b[d].p(V,_):(b[d]=ns(V),b[d].c(),b[d].m(t,c))}for(;d<b.length;d+=1)b[d].d(1);b.length=v.length}},d(h){h&&o(t),ve(b,h)}}}function Vs(a){let t;return{c(){t=r("div"),this.h()},l(l){t=i(l,"DIV",{class:!0}),p(t).forEach(o),this.h()},h(){n(t,"class","skeleton-card svelte-fcbjyu")},m(l,s){N(l,t,s)},p:ot,d(l){l&&o(t)}}}function Ps(a){let t,l,s,u='<h1 class="svelte-fcbjyu">üìä Overview</h1> <p class="svelte-fcbjyu">Satbase data health and coverage at a glance</p>',f,c,v,b="üîÑ Refresh",h,_,d,V,w,j,P,k,U,F,I=a[8]>0&&as(a);function M(D,g){return D[4]?ks:D[7]?Cs:js}let O=M(a),E=O(a);return{c(){t=r("div"),l=r("div"),s=r("div"),s.innerHTML=u,f=m(),c=r("div"),v=r("button"),v.textContent=b,h=m(),_=r("div"),d=r("span"),V=S("Updated "),w=S(a[9]),j=m(),I&&I.c(),P=m(),E.c(),k=Xl(),this.h()},l(D){t=i(D,"DIV",{class:!0});var g=p(t);l=i(g,"DIV",{class:!0});var H=p(l);s=i(H,"DIV",{"data-svelte-h":!0}),x(s)!=="svelte-1x3e4p8"&&(s.innerHTML=u),f=y(H),c=i(H,"DIV",{class:!0});var L=p(c);v=i(L,"BUTTON",{class:!0,title:!0,"data-svelte-h":!0}),x(v)!=="svelte-hmp6s7"&&(v.textContent=b),h=y(L),_=i(L,"DIV",{class:!0});var B=p(_);d=i(B,"SPAN",{class:!0});var z=p(d);V=A(z,"Updated "),w=A(z,a[9]),z.forEach(o),j=y(B),I&&I.l(B),B.forEach(o),L.forEach(o),H.forEach(o),g.forEach(o),P=y(D),E.l(D),k=Xl(),this.h()},h(){n(v,"class","refresh-button svelte-fcbjyu"),n(v,"title","Force refresh (bypasses cache)"),n(d,"class","status-text svelte-fcbjyu"),n(_,"class","cache-status svelte-fcbjyu"),n(c,"class","refresh-controls svelte-fcbjyu"),n(l,"class","flex items-center justify-between svelte-fcbjyu"),n(t,"class","page-header svelte-fcbjyu")},m(D,g){N(D,t,g),e(t,l),e(l,s),e(l,f),e(l,c),e(c,v),e(c,h),e(c,_),e(_,d),e(d,V),e(d,w),e(_,j),I&&I.m(_,null),N(D,P,g),E.m(D,g),N(D,k,g),U||(F=ul(v,"click",a[11]),U=!0)},p(D,[g]){g&512&&R(w,D[9]),D[8]>0?I?I.p(D,g):(I=as(D),I.c(),I.m(_,null)):I&&(I.d(1),I=null),O===(O=M(D))&&E?E.p(D,g):(E.d(1),E=O(D),E&&(E.c(),E.m(k.parentNode,k)))},i:ot,o:ot,d(D){D&&(o(t),o(P),o(k)),I&&I.d(),E.d(D),U=!1,F()}}}function te(a){return a>=1e6?(a/1e6).toFixed(1)+"M":a>=1e3?(a/1e3).toFixed(1)+"K":a.toString()}function Ns(a,t,l){let s,u,f=null,c=null,v=null,b=!0,h=!1,_=!1,d="",V=new Date,w=0,j,P=new Date().getFullYear();fs(async()=>{var I;try{l(0,f=await ts()),l(4,b=!1),l(12,V=new Date),l(5,h=!0),l(1,c=await hs({limit:5,days:365})),l(6,_=!0);const M=`${P}-01-01`,O=`${P}-12-31`,E=await ds(M,O),D=((I=E==null?void 0:E.topics)==null?void 0:I.map(g=>g.name).join(","))||"";if(D){const g=await $l(D,M,O,"month","matrix");if(g!=null&&g.matrix&&(g!=null&&g.topics)&&(g!=null&&g.periods)){const H={};g.topics.forEach(L=>{H[L]={}}),g.matrix.forEach((L,B)=>{const z=g.periods[B],J=parseInt(z.split("-")[1])-1;L.forEach((ut,ee)=>{const le=g.topics[ee];H[le][J]=ut})}),l(3,v=H)}else l(3,v={})}else l(3,v={})}catch(M){l(7,d=`Failed to load overview: ${M}`)}finally{l(5,h=!1),l(6,_=!1)}return j=setInterval(()=>{l(8,w=bs())},1e3),()=>{j&&clearInterval(j)}});async function k(){try{l(0,f=await ts(!0)),l(12,V=new Date),l(8,w=300)}catch(I){l(7,d=`Refresh failed: ${I}`)}}const U=()=>l(2,P-=1),F=()=>l(2,P+=1);return a.$$.update=()=>{a.$$.dirty&1&&l(10,s=f!=null&&f.news?Math.round(f.news.articles_with_bodies/f.news.total_articles*100):0),a.$$.dirty&4096&&l(9,u=V.toLocaleTimeString()),a.$$.dirty&6&&P&&c!=null&&c.topics&&(async()=>{try{l(6,_=!0);const I=c.topics.map(D=>D.name).join(","),M=`${P}-01-01`,O=`${P}-12-31`,E=await $l(I,M,O,"month","matrix");if(E!=null&&E.matrix&&(E!=null&&E.topics)&&(E!=null&&E.periods)){const D={};E.topics.forEach(g=>{D[g]={}}),E.matrix.forEach((g,H)=>{const L=E.periods[H],B=parseInt(L.split("-")[1])-1;g.forEach((z,J)=>{const ut=E.topics[J];D[ut][B]=z})}),l(3,v=D)}else l(3,v={})}catch(I){l(7,d=`Failed to load heatmap: ${I}`)}finally{l(6,_=!1)}})()},[f,c,P,v,b,h,_,d,w,u,s,k,V,U,F]}class Ls extends rs{constructor(t){super(),os(this,t,Ns,Ps,us,{})}}export{Ls as component};
