import{S as Je,i as Oe,s as Xe,d as _,B as Q,v as D,w as I,b as S,c as d,C as G,m as k,e as w,f as A,o as ve,h as L,D as J,j as E,k as N,E as O,p as Ye,a as se,g as B,t as P,K as be,L as $e,M as ke,A as fe,z as ue,q as Ke,n as we,u as Qe,N as ie}from"../chunks/BeOz57Dq.js";import{e as Le}from"../chunks/D_ZdN6Q8.js";import"../chunks/IHki7fMi.js";import{g as Ze,a as et,p as tt,d as lt,b as st,c as nt}from"../chunks/3iWrSC4w.js";import{C as qe,B as Ne}from"../chunks/CpG8i7KS.js";import{I as Ee}from"../chunks/DBz6x2HR.js";import{B as Ie}from"../chunks/B_iT9L-k.js";function ze(n,e,l){const t=n.slice();return t[33]=e[l],t}function He(n,e,l){const t=n.slice();return t[36]=e[l],t}function at(n){let e,l;return{c(){e=P(n[13]),l=P(" symbols")},l(t){e=B(t,n[13]),l=B(t," symbols")},m(t,s){S(t,e,s),S(t,l,s)},p(t,s){s[0]&8192&&se(e,t[13])},d(t){t&&(_(e),_(l))}}}function rt(n){let e,l;return{c(){e=P(n[12]),l=P(" topics")},l(t){e=B(t,n[12]),l=B(t," topics")},m(t,s){S(t,e,s),S(t,l,s)},p(t,s){s[0]&4096&&se(e,t[12])},d(t){t&&(_(e),_(l))}}}function it(n){let e=n[5]?"Adding...":"Add Symbols",l;return{c(){l=P(e)},l(t){l=B(t,e)},m(t,s){S(t,l,s)},p(t,s){s[0]&32&&e!==(e=t[5]?"Adding...":"Add Symbols")&&se(l,e)},d(t){t&&_(l)}}}function Be(n){let e,l;return{c(){e=E("div"),l=P(n[6]),this.h()},l(t){e=w(t,"DIV",{class:!0});var s=A(e);l=B(s,n[6]),s.forEach(_),this.h()},h(){k(e,"class","bg-red-500/10 border border-red-500/20 rounded-lg p-3 text-sm text-red-300")},m(t,s){S(t,e,s),d(e,l)},p(t,s){s[0]&64&&se(l,t[6])},d(t){t&&_(e)}}}function ot(n){let e,l,t=Le(n[15]),s=[];for(let i=0;i<t.length;i+=1)s[i]=je(He(n,t,i));const p=i=>D(s[i],1,1,()=>{s[i]=null});return{c(){for(let i=0;i<s.length;i+=1)s[i].c();e=ie()},l(i){for(let r=0;r<s.length;r+=1)s[r].l(i);e=ie()},m(i,r){for(let f=0;f<s.length;f+=1)s[f]&&s[f].m(i,r);S(i,e,r),l=!0},p(i,r){if(r[0]&163840){t=Le(i[15]);let f;for(f=0;f<t.length;f+=1){const a=He(i,t,f);s[f]?(s[f].p(a,r),I(s[f],1)):(s[f]=je(a),s[f].c(),I(s[f],1),s[f].m(e.parentNode,e))}for(fe(),f=t.length;f<s.length;f+=1)p(f);ue()}},i(i){if(!l){for(let r=0;r<t.length;r+=1)I(s[r]);l=!0}},o(i){s=s.filter(Boolean);for(let r=0;r<s.length;r+=1)D(s[r]);l=!1},d(i){i&&_(e),Qe(s,i)}}}function ft(n){let e,l='<svg class="w-12 h-12 mx-auto mb-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg> <p class="text-sm">No symbols in watchlist</p> <p class="text-xs text-neutral-600 mt-1">Add symbols above to start tracking</p>';return{c(){e=E("div"),e.innerHTML=l,this.h()},l(t){e=w(t,"DIV",{class:!0,"data-svelte-h":!0}),ve(e)!=="svelte-fomt87"&&(e.innerHTML=l),this.h()},h(){k(e,"class","text-center py-12 text-neutral-500")},m(t,s){S(t,e,s)},p:we,i:we,o:we,d(t){t&&_(e)}}}function Pe(n){let e,l,t,s,p;const i=[ct,ut],r=[];function f(a,o){return o[0]&32768&&(e=null),e==null&&(e=!!Ge(a[36].expires_at)),e?0:1}return l=f(n,[-1,-1]),t=r[l]=i[l](n),{c(){t.c(),s=ie()},l(a){t.l(a),s=ie()},m(a,o){r[l].m(a,o),S(a,s,o),p=!0},p(a,o){let c=l;l=f(a,o),l===c?r[l].p(a,o):(fe(),D(r[c],1,1,()=>{r[c]=null}),ue(),t=r[l],t?t.p(a,o):(t=r[l]=i[l](a),t.c()),I(t,1),t.m(s.parentNode,s))},i(a){p||(I(t),p=!0)},o(a){D(t),p=!1},d(a){a&&_(s),r[l].d(a)}}}function ut(n){let e,l,t=_e(n[36].expires_at)+"",s,p,i=me(n[36].expires_at)<=7,r,f,a=i&&Re(n);return{c(){e=E("span"),l=P("· Expires: "),s=P(t),p=N(),a&&a.c(),r=ie()},l(o){e=w(o,"SPAN",{});var c=A(e);l=B(c,"· Expires: "),s=B(c,t),c.forEach(_),p=L(o),a&&a.l(o),r=ie()},m(o,c){S(o,e,c),d(e,l),d(e,s),S(o,p,c),a&&a.m(o,c),S(o,r,c),f=!0},p(o,c){(!f||c[0]&32768)&&t!==(t=_e(o[36].expires_at)+"")&&se(s,t),c[0]&32768&&(i=me(o[36].expires_at)<=7),i?a?(a.p(o,c),c[0]&32768&&I(a,1)):(a=Re(o),a.c(),I(a,1),a.m(r.parentNode,r)):a&&(fe(),D(a,1,1,()=>{a=null}),ue())},i(o){f||(I(a),f=!0)},o(o){D(a),f=!1},d(o){o&&(_(e),_(p),_(r)),a&&a.d(o)}}}function ct(n){let e,l;return e=new Ie({props:{variant:"danger",size:"sm",$$slots:{default:[pt]},$$scope:{ctx:n}}}),{c(){O(e.$$.fragment)},l(t){J(e.$$.fragment,t)},m(t,s){G(e,t,s),l=!0},p(t,s){const p={};s[1]&256&&(p.$$scope={dirty:s,ctx:t}),e.$set(p)},i(t){l||(I(e.$$.fragment,t),l=!0)},o(t){D(e.$$.fragment,t),l=!1},d(t){Q(e,t)}}}function Re(n){let e,l;return e=new Ie({props:{variant:"warning",size:"sm",$$slots:{default:[dt]},$$scope:{ctx:n}}}),{c(){O(e.$$.fragment)},l(t){J(e.$$.fragment,t)},m(t,s){G(e,t,s),l=!0},p(t,s){const p={};s[0]&32768|s[1]&256&&(p.$$scope={dirty:s,ctx:t}),e.$set(p)},i(t){l||(I(e.$$.fragment,t),l=!0)},o(t){D(e.$$.fragment,t),l=!1},d(t){Q(e,t)}}}function dt(n){let e=me(n[36].expires_at)+"",l,t;return{c(){l=P(e),t=P("d left")},l(s){l=B(s,e),t=B(s,"d left")},m(s,p){S(s,l,p),S(s,t,p)},p(s,p){p[0]&32768&&e!==(e=me(s[36].expires_at)+"")&&se(l,e)},d(s){s&&(_(l),_(t))}}}function pt(n){let e;return{c(){e=P("Expired")},l(l){e=B(l,"Expired")},m(l,t){S(l,e,t)},d(l){l&&_(e)}}}function _t(n){let e;return{c(){e=P("Remove")},l(l){e=B(l,"Remove")},m(l,t){S(l,e,t)},d(l){l&&_(e)}}}function je(n){let e,l,t,s=n[36].symbol+"",p,i,r,f,a,o,c=_e(n[36].added_at)+"",V,M,R,m,b,T,h=n[36].expires_at&&Pe(n);function j(){return n[26](n[36])}return m=new Ne({props:{variant:"danger",size:"sm",classes:"opacity-0 group-hover:opacity-100 transition-opacity",$$slots:{default:[_t]},$$scope:{ctx:n}}}),m.$on("click",j),{c(){e=E("div"),l=E("div"),t=E("a"),p=P(s),r=N(),f=E("div"),a=E("span"),o=P("Added: "),V=P(c),M=N(),h&&h.c(),R=N(),O(m.$$.fragment),b=N(),this.h()},l($){e=w($,"DIV",{class:!0});var g=A(e);l=w(g,"DIV",{class:!0});var U=A(l);t=w(U,"A",{href:!0,class:!0});var x=A(t);p=B(x,s),x.forEach(_),r=L(U),f=w(U,"DIV",{class:!0});var X=A(f);a=w(X,"SPAN",{});var K=A(a);o=B(K,"Added: "),V=B(K,c),K.forEach(_),M=L(X),h&&h.l(X),X.forEach(_),U.forEach(_),R=L(g),J(m.$$.fragment,g),b=L(g),g.forEach(_),this.h()},h(){k(t,"href",i="/satbase/prices?ticker="+n[36].symbol),k(t,"class","text-lg font-semibold font-mono text-blue-400 hover:text-blue-300 transition-colors"),k(f,"class","flex items-center gap-2 text-xs text-neutral-500"),k(l,"class","flex items-center gap-3 flex-1"),k(e,"class","flex items-center justify-between p-3 bg-neutral-800/50 hover:bg-neutral-800/70 rounded-lg border border-neutral-700/30 transition-all group")},m($,g){S($,e,g),d(e,l),d(l,t),d(t,p),d(l,r),d(l,f),d(f,a),d(a,o),d(a,V),d(f,M),h&&h.m(f,null),d(e,R),G(m,e,null),d(e,b),T=!0},p($,g){n=$,(!T||g[0]&32768)&&s!==(s=n[36].symbol+"")&&se(p,s),(!T||g[0]&32768&&i!==(i="/satbase/prices?ticker="+n[36].symbol))&&k(t,"href",i),(!T||g[0]&32768)&&c!==(c=_e(n[36].added_at)+"")&&se(V,c),n[36].expires_at?h?(h.p(n,g),g[0]&32768&&I(h,1)):(h=Pe(n),h.c(),I(h,1),h.m(f,null)):h&&(fe(),D(h,1,1,()=>{h=null}),ue());const U={};g[1]&256&&(U.$$scope={dirty:g,ctx:n}),m.$set(U)},i($){T||(I(h),I(m.$$.fragment,$),T=!0)},o($){D(h),D(m.$$.fragment,$),T=!1},d($){$&&_(e),h&&h.d(),Q(m)}}}function mt(n){let e,l,t,s="Stock Watchlist",p,i,r,f,a,o,c,V,M,R,m,b,T,h,j,$,g,U,x,X="Auto-ingest",K,ee,F,ce,oe,Y,z,H,ne,de,he;function y(u){n[22](u)}let q={placeholder:"Search symbols...",classes:"w-48"};n[0]!==void 0&&(q.value=n[0]),r=new Ee({props:q}),be.push(()=>$e(r,"value",y));function ge(u){n[23](u)}let De={label:"Symbols (comma-separated)",placeholder:"AAPL, MSFT, TSLA",disabled:n[5]};n[2]!==void 0&&(De.value=n[2]),V=new Ee({props:De}),be.push(()=>$e(V,"value",ge));function Me(u){n[24](u)}let Ve={label:"TTL (days)",type:"number",disabled:n[5]};n[3]!==void 0&&(Ve.value=n[3]),b=new Ee({props:Ve}),be.push(()=>$e(b,"value",Me)),F=new Ne({props:{variant:"primary",size:"md",loading:n[5],disabled:!n[2].trim(),classes:"w-full",$$slots:{default:[it]},$$scope:{ctx:n}}}),F.$on("click",n[16]);let C=n[6]&&Be(n);const ye=[ft,ot],Z=[];function Ae(u,v){return u[15].length===0?0:1}return z=Ae(n),H=Z[z]=ye[z](n),{c(){e=E("div"),l=E("div"),t=E("h2"),t.textContent=s,p=N(),i=E("div"),O(r.$$.fragment),a=N(),o=E("div"),c=E("div"),O(V.$$.fragment),R=N(),m=E("div"),O(b.$$.fragment),h=N(),j=E("div"),$=E("label"),g=E("input"),U=N(),x=E("span"),x.textContent=X,K=N(),ee=E("div"),O(F.$$.fragment),ce=N(),C&&C.c(),oe=N(),Y=E("div"),H.c(),this.h()},l(u){e=w(u,"DIV",{class:!0});var v=A(e);l=w(v,"DIV",{class:!0});var te=A(l);t=w(te,"H2",{class:!0,"data-svelte-h":!0}),ve(t)!=="svelte-vy4pvz"&&(t.textContent=s),p=L(te),i=w(te,"DIV",{class:!0});var ae=A(i);J(r.$$.fragment,ae),ae.forEach(_),te.forEach(_),a=L(v),o=w(v,"DIV",{class:!0});var W=A(o);c=w(W,"DIV",{class:!0});var le=A(c);J(V.$$.fragment,le),le.forEach(_),R=L(W),m=w(W,"DIV",{class:!0});var re=A(m);J(b.$$.fragment,re),re.forEach(_),h=L(W),j=w(W,"DIV",{class:!0});var Te=A(j);$=w(Te,"LABEL",{class:!0});var pe=A($);g=w(pe,"INPUT",{type:!0,class:!0}),U=L(pe),x=w(pe,"SPAN",{class:!0,"data-svelte-h":!0}),ve(x)!=="svelte-qmpc8g"&&(x.textContent=X),pe.forEach(_),Te.forEach(_),K=L(W),ee=w(W,"DIV",{class:!0});var Ce=A(ee);J(F.$$.fragment,Ce),Ce.forEach(_),W.forEach(_),ce=L(v),C&&C.l(v),oe=L(v),Y=w(v,"DIV",{class:!0});var Se=A(Y);H.l(Se),Se.forEach(_),v.forEach(_),this.h()},h(){k(t,"class","text-lg font-semibold text-neutral-100"),k(i,"class","flex items-center gap-2"),k(l,"class","flex items-center justify-between"),k(c,"class","md:col-span-5"),k(m,"class","md:col-span-2"),k(g,"type","checkbox"),g.disabled=n[5],k(g,"class","rounded border-neutral-600 bg-neutral-700 text-blue-600 focus:ring-1 focus:ring-blue-500/50"),k(x,"class","text-neutral-300"),k($,"class","flex items-center gap-2 text-sm cursor-pointer h-10"),k(j,"class","md:col-span-2 flex items-end"),k(ee,"class","md:col-span-3 flex items-end"),k(o,"class","grid grid-cols-1 md:grid-cols-12 gap-3 p-4 bg-neutral-900/50 rounded-lg border border-neutral-700/30"),k(Y,"class","space-y-2"),k(e,"class","space-y-4")},m(u,v){S(u,e,v),d(e,l),d(l,t),d(l,p),d(l,i),G(r,i,null),d(e,a),d(e,o),d(o,c),G(V,c,null),d(o,R),d(o,m),G(b,m,null),d(o,h),d(o,j),d(j,$),d($,g),g.checked=n[4],d($,U),d($,x),d(o,K),d(o,ee),G(F,ee,null),d(e,ce),C&&C.m(e,null),d(e,oe),d(e,Y),Z[z].m(Y,null),ne=!0,de||(he=Ke(g,"change",n[25]),de=!0)},p(u,v){const te={};!f&&v[0]&1&&(f=!0,te.value=u[0],ke(()=>f=!1)),r.$set(te);const ae={};v[0]&32&&(ae.disabled=u[5]),!M&&v[0]&4&&(M=!0,ae.value=u[2],ke(()=>M=!1)),V.$set(ae);const W={};v[0]&32&&(W.disabled=u[5]),!T&&v[0]&8&&(T=!0,W.value=u[3],ke(()=>T=!1)),b.$set(W),(!ne||v[0]&32)&&(g.disabled=u[5]),v[0]&16&&(g.checked=u[4]);const le={};v[0]&32&&(le.loading=u[5]),v[0]&4&&(le.disabled=!u[2].trim()),v[0]&32|v[1]&256&&(le.$$scope={dirty:v,ctx:u}),F.$set(le),u[6]?C?C.p(u,v):(C=Be(u),C.c(),C.m(e,oe)):C&&(C.d(1),C=null);let re=z;z=Ae(u),z===re?Z[z].p(u,v):(fe(),D(Z[re],1,1,()=>{Z[re]=null}),ue(),H=Z[z],H?H.p(u,v):(H=Z[z]=ye[z](u),H.c()),I(H,1),H.m(Y,null))},i(u){ne||(I(r.$$.fragment,u),I(V.$$.fragment,u),I(b.$$.fragment,u),I(F.$$.fragment,u),I(H),ne=!0)},o(u){D(r.$$.fragment,u),D(V.$$.fragment,u),D(b.$$.fragment,u),D(F.$$.fragment,u),D(H),ne=!1},d(u){u&&_(e),Q(r),Q(V),Q(b),Q(F),C&&C.d(),Z[z].d(),de=!1,he()}}}function ht(n){let e=n[10]?"Adding...":"Add Topic",l;return{c(){l=P(e)},l(t){l=B(t,e)},m(t,s){S(t,l,s)},p(t,s){s[0]&1024&&e!==(e=t[10]?"Adding...":"Add Topic")&&se(l,e)},d(t){t&&_(l)}}}function Ue(n){let e,l;return{c(){e=E("div"),l=P(n[11]),this.h()},l(t){e=w(t,"DIV",{class:!0});var s=A(e);l=B(s,n[11]),s.forEach(_),this.h()},h(){k(e,"class","bg-red-500/10 border border-red-500/20 rounded-lg p-3 text-sm text-red-300")},m(t,s){S(t,e,s),d(e,l)},p(t,s){s[0]&2048&&se(l,t[11])},d(t){t&&_(e)}}}function gt(n){let e,l,t=Le(n[14]),s=[];for(let i=0;i<t.length;i+=1)s[i]=Fe(ze(n,t,i));const p=i=>D(s[i],1,1,()=>{s[i]=null});return{c(){for(let i=0;i<s.length;i+=1)s[i].c();e=ie()},l(i){for(let r=0;r<s.length;r+=1)s[r].l(i);e=ie()},m(i,r){for(let f=0;f<s.length;f+=1)s[f]&&s[f].m(i,r);S(i,e,r),l=!0},p(i,r){if(r[0]&540672){t=Le(i[14]);let f;for(f=0;f<t.length;f+=1){const a=ze(i,t,f);s[f]?(s[f].p(a,r),I(s[f],1)):(s[f]=Fe(a),s[f].c(),I(s[f],1),s[f].m(e.parentNode,e))}for(fe(),f=t.length;f<s.length;f+=1)p(f);ue()}},i(i){if(!l){for(let r=0;r<t.length;r+=1)I(s[r]);l=!0}},o(i){s=s.filter(Boolean);for(let r=0;r<s.length;r+=1)D(s[r]);l=!1},d(i){i&&_(e),Qe(s,i)}}}function vt(n){let e,l='<svg class="w-12 h-12 mx-auto mb-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M19 20H5a2 2 0 01-2-2V6a2 2 0 012-2h10a2 2 0 012 2v1m2 13a2 2 0 01-2-2V7m2 13a2 2 0 002-2V9a2 2 0 00-2-2h-2m-4-3H9M7 16h6M7 8h6v4H7V8z"></path></svg> <p class="text-sm">No news topics tracked</p> <p class="text-xs text-neutral-600 mt-1">Add topics above to track relevant news</p>';return{c(){e=E("div"),e.innerHTML=l,this.h()},l(t){e=w(t,"DIV",{class:!0,"data-svelte-h":!0}),ve(e)!=="svelte-tffp66"&&(e.innerHTML=l),this.h()},h(){k(e,"class","text-center py-12 text-neutral-500")},m(t,s){S(t,e,s)},p:we,i:we,o:we,d(t){t&&_(e)}}}function We(n){let e,l,t,s,p;const i=[$t,bt],r=[];function f(a,o){return o[0]&16384&&(e=null),e==null&&(e=!!Ge(a[33].expires_at)),e?0:1}return l=f(n,[-1,-1]),t=r[l]=i[l](n),{c(){t.c(),s=ie()},l(a){t.l(a),s=ie()},m(a,o){r[l].m(a,o),S(a,s,o),p=!0},p(a,o){let c=l;l=f(a,o),l===c?r[l].p(a,o):(fe(),D(r[c],1,1,()=>{r[c]=null}),ue(),t=r[l],t?t.p(a,o):(t=r[l]=i[l](a),t.c()),I(t,1),t.m(s.parentNode,s))},i(a){p||(I(t),p=!0)},o(a){D(t),p=!1},d(a){a&&_(s),r[l].d(a)}}}function bt(n){let e,l,t=_e(n[33].expires_at)+"",s,p,i=me(n[33].expires_at)<=3,r,f,a=i&&xe(n);return{c(){e=E("span"),l=P("· Expires: "),s=P(t),p=N(),a&&a.c(),r=ie()},l(o){e=w(o,"SPAN",{});var c=A(e);l=B(c,"· Expires: "),s=B(c,t),c.forEach(_),p=L(o),a&&a.l(o),r=ie()},m(o,c){S(o,e,c),d(e,l),d(e,s),S(o,p,c),a&&a.m(o,c),S(o,r,c),f=!0},p(o,c){(!f||c[0]&16384)&&t!==(t=_e(o[33].expires_at)+"")&&se(s,t),c[0]&16384&&(i=me(o[33].expires_at)<=3),i?a?(a.p(o,c),c[0]&16384&&I(a,1)):(a=xe(o),a.c(),I(a,1),a.m(r.parentNode,r)):a&&(fe(),D(a,1,1,()=>{a=null}),ue())},i(o){f||(I(a),f=!0)},o(o){D(a),f=!1},d(o){o&&(_(e),_(p),_(r)),a&&a.d(o)}}}function $t(n){let e,l;return e=new Ie({props:{variant:"danger",size:"sm",$$slots:{default:[wt]},$$scope:{ctx:n}}}),{c(){O(e.$$.fragment)},l(t){J(e.$$.fragment,t)},m(t,s){G(e,t,s),l=!0},p(t,s){const p={};s[1]&256&&(p.$$scope={dirty:s,ctx:t}),e.$set(p)},i(t){l||(I(e.$$.fragment,t),l=!0)},o(t){D(e.$$.fragment,t),l=!1},d(t){Q(e,t)}}}function xe(n){let e,l;return e=new Ie({props:{variant:"warning",size:"sm",$$slots:{default:[kt]},$$scope:{ctx:n}}}),{c(){O(e.$$.fragment)},l(t){J(e.$$.fragment,t)},m(t,s){G(e,t,s),l=!0},p(t,s){const p={};s[0]&16384|s[1]&256&&(p.$$scope={dirty:s,ctx:t}),e.$set(p)},i(t){l||(I(e.$$.fragment,t),l=!0)},o(t){D(e.$$.fragment,t),l=!1},d(t){Q(e,t)}}}function kt(n){let e=me(n[33].expires_at)+"",l,t;return{c(){l=P(e),t=P("d left")},l(s){l=B(s,e),t=B(s,"d left")},m(s,p){S(s,l,p),S(s,t,p)},p(s,p){p[0]&16384&&e!==(e=me(s[33].expires_at)+"")&&se(l,e)},d(s){s&&(_(l),_(t))}}}function wt(n){let e;return{c(){e=P("Expired")},l(l){e=B(l,"Expired")},m(l,t){S(l,e,t)},d(l){l&&_(e)}}}function Et(n){let e;return{c(){e=P("Remove")},l(l){e=B(l,"Remove")},m(l,t){S(l,e,t)},d(l){l&&_(e)}}}function Fe(n){let e,l,t,s=n[33].query+"",p,i,r,f,a,o,c=_e(n[33].added_at)+"",V,M,R,m,b,T,h=n[33].expires_at&&We(n);function j(){return n[31](n[33])}return m=new Ne({props:{variant:"danger",size:"sm",classes:"opacity-0 group-hover:opacity-100 transition-opacity",$$slots:{default:[Et]},$$scope:{ctx:n}}}),m.$on("click",j),{c(){e=E("div"),l=E("div"),t=E("a"),p=P(s),r=N(),f=E("div"),a=E("span"),o=P("Added: "),V=P(c),M=N(),h&&h.c(),R=N(),O(m.$$.fragment),b=N(),this.h()},l($){e=w($,"DIV",{class:!0});var g=A(e);l=w(g,"DIV",{class:!0});var U=A(l);t=w(U,"A",{href:!0,class:!0});var x=A(t);p=B(x,s),x.forEach(_),r=L(U),f=w(U,"DIV",{class:!0});var X=A(f);a=w(X,"SPAN",{});var K=A(a);o=B(K,"Added: "),V=B(K,c),K.forEach(_),M=L(X),h&&h.l(X),X.forEach(_),U.forEach(_),R=L(g),J(m.$$.fragment,g),b=L(g),g.forEach(_),this.h()},h(){k(t,"href",i="/satbase/news?q="+encodeURIComponent(n[33].query)),k(t,"class","text-base font-medium text-neutral-100 hover:text-blue-400 transition-colors"),k(f,"class","flex items-center gap-2 text-xs text-neutral-500"),k(l,"class","flex items-center gap-3 flex-1"),k(e,"class","flex items-center justify-between p-3 bg-neutral-800/50 hover:bg-neutral-800/70 rounded-lg border border-neutral-700/30 transition-all group")},m($,g){S($,e,g),d(e,l),d(l,t),d(t,p),d(l,r),d(l,f),d(f,a),d(a,o),d(a,V),d(f,M),h&&h.m(f,null),d(e,R),G(m,e,null),d(e,b),T=!0},p($,g){n=$,(!T||g[0]&16384)&&s!==(s=n[33].query+"")&&se(p,s),(!T||g[0]&16384&&i!==(i="/satbase/news?q="+encodeURIComponent(n[33].query)))&&k(t,"href",i),(!T||g[0]&16384)&&c!==(c=_e(n[33].added_at)+"")&&se(V,c),n[33].expires_at?h?(h.p(n,g),g[0]&16384&&I(h,1)):(h=We(n),h.c(),I(h,1),h.m(f,null)):h&&(fe(),D(h,1,1,()=>{h=null}),ue());const U={};g[1]&256&&(U.$$scope={dirty:g,ctx:n}),m.$set(U)},i($){T||(I(h),I(m.$$.fragment,$),T=!0)},o($){D(h),D(m.$$.fragment,$),T=!1},d($){$&&_(e),h&&h.d(),Q(m)}}}function It(n){let e,l,t,s="News Topics",p,i,r,f,a,o,c,V,M,R,m,b,T,h,j,$,g,U,x,X="Auto-ingest",K,ee,F,ce,oe,Y,z,H,ne,de,he;function y(u){n[27](u)}let q={placeholder:"Search topics...",classes:"w-48"};n[1]!==void 0&&(q.value=n[1]),r=new Ee({props:q}),be.push(()=>$e(r,"value",y));function ge(u){n[28](u)}let De={label:"Search Query",placeholder:"e.g., semiconductor, AI, renewable energy",disabled:n[10]};n[7]!==void 0&&(De.value=n[7]),V=new Ee({props:De}),be.push(()=>$e(V,"value",ge));function Me(u){n[29](u)}let Ve={label:"TTL (days)",type:"number",disabled:n[10]};n[8]!==void 0&&(Ve.value=n[8]),b=new Ee({props:Ve}),be.push(()=>$e(b,"value",Me)),F=new Ne({props:{variant:"primary",size:"md",loading:n[10],disabled:!n[7].trim(),classes:"w-full",$$slots:{default:[ht]},$$scope:{ctx:n}}}),F.$on("click",n[18]);let C=n[11]&&Ue(n);const ye=[vt,gt],Z=[];function Ae(u,v){return u[14].length===0?0:1}return z=Ae(n),H=Z[z]=ye[z](n),{c(){e=E("div"),l=E("div"),t=E("h2"),t.textContent=s,p=N(),i=E("div"),O(r.$$.fragment),a=N(),o=E("div"),c=E("div"),O(V.$$.fragment),R=N(),m=E("div"),O(b.$$.fragment),h=N(),j=E("div"),$=E("label"),g=E("input"),U=N(),x=E("span"),x.textContent=X,K=N(),ee=E("div"),O(F.$$.fragment),ce=N(),C&&C.c(),oe=N(),Y=E("div"),H.c(),this.h()},l(u){e=w(u,"DIV",{class:!0});var v=A(e);l=w(v,"DIV",{class:!0});var te=A(l);t=w(te,"H2",{class:!0,"data-svelte-h":!0}),ve(t)!=="svelte-14gp32z"&&(t.textContent=s),p=L(te),i=w(te,"DIV",{class:!0});var ae=A(i);J(r.$$.fragment,ae),ae.forEach(_),te.forEach(_),a=L(v),o=w(v,"DIV",{class:!0});var W=A(o);c=w(W,"DIV",{class:!0});var le=A(c);J(V.$$.fragment,le),le.forEach(_),R=L(W),m=w(W,"DIV",{class:!0});var re=A(m);J(b.$$.fragment,re),re.forEach(_),h=L(W),j=w(W,"DIV",{class:!0});var Te=A(j);$=w(Te,"LABEL",{class:!0});var pe=A($);g=w(pe,"INPUT",{type:!0,class:!0}),U=L(pe),x=w(pe,"SPAN",{class:!0,"data-svelte-h":!0}),ve(x)!=="svelte-qmpc8g"&&(x.textContent=X),pe.forEach(_),Te.forEach(_),K=L(W),ee=w(W,"DIV",{class:!0});var Ce=A(ee);J(F.$$.fragment,Ce),Ce.forEach(_),W.forEach(_),ce=L(v),C&&C.l(v),oe=L(v),Y=w(v,"DIV",{class:!0});var Se=A(Y);H.l(Se),Se.forEach(_),v.forEach(_),this.h()},h(){k(t,"class","text-lg font-semibold text-neutral-100"),k(i,"class","flex items-center gap-2"),k(l,"class","flex items-center justify-between"),k(c,"class","md:col-span-5"),k(m,"class","md:col-span-2"),k(g,"type","checkbox"),g.disabled=n[10],k(g,"class","rounded border-neutral-600 bg-neutral-700 text-blue-600 focus:ring-1 focus:ring-blue-500/50"),k(x,"class","text-neutral-300"),k($,"class","flex items-center gap-2 text-sm cursor-pointer h-10"),k(j,"class","md:col-span-2 flex items-end"),k(ee,"class","md:col-span-3 flex items-end"),k(o,"class","grid grid-cols-1 md:grid-cols-12 gap-3 p-4 bg-neutral-900/50 rounded-lg border border-neutral-700/30"),k(Y,"class","space-y-2"),k(e,"class","space-y-4")},m(u,v){S(u,e,v),d(e,l),d(l,t),d(l,p),d(l,i),G(r,i,null),d(e,a),d(e,o),d(o,c),G(V,c,null),d(o,R),d(o,m),G(b,m,null),d(o,h),d(o,j),d(j,$),d($,g),g.checked=n[9],d($,U),d($,x),d(o,K),d(o,ee),G(F,ee,null),d(e,ce),C&&C.m(e,null),d(e,oe),d(e,Y),Z[z].m(Y,null),ne=!0,de||(he=Ke(g,"change",n[30]),de=!0)},p(u,v){const te={};!f&&v[0]&2&&(f=!0,te.value=u[1],ke(()=>f=!1)),r.$set(te);const ae={};v[0]&1024&&(ae.disabled=u[10]),!M&&v[0]&128&&(M=!0,ae.value=u[7],ke(()=>M=!1)),V.$set(ae);const W={};v[0]&1024&&(W.disabled=u[10]),!T&&v[0]&256&&(T=!0,W.value=u[8],ke(()=>T=!1)),b.$set(W),(!ne||v[0]&1024)&&(g.disabled=u[10]),v[0]&512&&(g.checked=u[9]);const le={};v[0]&1024&&(le.loading=u[10]),v[0]&128&&(le.disabled=!u[7].trim()),v[0]&1024|v[1]&256&&(le.$$scope={dirty:v,ctx:u}),F.$set(le),u[11]?C?C.p(u,v):(C=Ue(u),C.c(),C.m(e,oe)):C&&(C.d(1),C=null);let re=z;z=Ae(u),z===re?Z[z].p(u,v):(fe(),D(Z[re],1,1,()=>{Z[re]=null}),ue(),H=Z[z],H?H.p(u,v):(H=Z[z]=ye[z](u),H.c()),I(H,1),H.m(Y,null))},i(u){ne||(I(r.$$.fragment,u),I(V.$$.fragment,u),I(b.$$.fragment,u),I(F.$$.fragment,u),I(H),ne=!0)},o(u){D(r.$$.fragment,u),D(V.$$.fragment,u),D(b.$$.fragment,u),D(F.$$.fragment,u),D(H),ne=!1},d(u){u&&_(e),Q(r),Q(V),Q(b),Q(F),C&&C.d(),Z[z].d(),de=!1,he()}}}function Dt(n){let e,l,t,s='<h1 class="text-2xl font-bold text-neutral-100">Watchlist &amp; Topics</h1> <p class="text-sm text-neutral-400 mt-1">Manage tracked symbols and news queries</p>',p,i,r,f,a,o,c,V,M,R;return r=new Ie({props:{variant:"primary",$$slots:{default:[at]},$$scope:{ctx:n}}}),a=new Ie({props:{variant:"secondary",$$slots:{default:[rt]},$$scope:{ctx:n}}}),c=new qe({props:{$$slots:{default:[mt]},$$scope:{ctx:n}}}),M=new qe({props:{$$slots:{default:[It]},$$scope:{ctx:n}}}),{c(){e=E("div"),l=E("div"),t=E("div"),t.innerHTML=s,p=N(),i=E("div"),O(r.$$.fragment),f=N(),O(a.$$.fragment),o=N(),O(c.$$.fragment),V=N(),O(M.$$.fragment),this.h()},l(m){e=w(m,"DIV",{class:!0});var b=A(e);l=w(b,"DIV",{class:!0});var T=A(l);t=w(T,"DIV",{"data-svelte-h":!0}),ve(t)!=="svelte-zrbbtg"&&(t.innerHTML=s),p=L(T),i=w(T,"DIV",{class:!0});var h=A(i);J(r.$$.fragment,h),f=L(h),J(a.$$.fragment,h),h.forEach(_),T.forEach(_),o=L(b),J(c.$$.fragment,b),V=L(b),J(M.$$.fragment,b),b.forEach(_),this.h()},h(){k(i,"class","flex items-center gap-2"),k(l,"class","flex items-center justify-between"),k(e,"class","max-w-6xl mx-auto space-y-6 h-full overflow-y-auto p-6")},m(m,b){S(m,e,b),d(e,l),d(l,t),d(l,p),d(l,i),G(r,i,null),d(i,f),G(a,i,null),d(e,o),G(c,e,null),d(e,V),G(M,e,null),R=!0},p(m,b){const T={};b[0]&8192|b[1]&256&&(T.$$scope={dirty:b,ctx:m}),r.$set(T);const h={};b[0]&4096|b[1]&256&&(h.$$scope={dirty:b,ctx:m}),a.$set(h);const j={};b[0]&32893|b[1]&256&&(j.$$scope={dirty:b,ctx:m}),c.$set(j);const $={};b[0]&20354|b[1]&256&&($.$$scope={dirty:b,ctx:m}),M.$set($)},i(m){R||(I(r.$$.fragment,m),I(a.$$.fragment,m),I(c.$$.fragment,m),I(M.$$.fragment,m),R=!0)},o(m){D(r.$$.fragment,m),D(a.$$.fragment,m),D(c.$$.fragment,m),D(M.$$.fragment,m),R=!1},d(m){m&&_(e),Q(r),Q(a),Q(c),Q(M)}}}function _e(n){if(!n)return"Never";try{return new Date(n).toLocaleDateString("de-DE",{year:"numeric",month:"short",day:"numeric"})}catch{return"Invalid date"}}function Ge(n){return n?new Date(n)<new Date:!1}function me(n){if(!n)return 1/0;const e=new Date,t=new Date(n).getTime()-e.getTime();return Math.ceil(t/(1e3*60*60*24))}function Vt(n,e,l){let t,s,p,i,r=[],f=[],a="",o=365,c=!0,V=!1,M=null,R="",m="",b=7,T=!0,h=!1,j=null,$="";async function g(){try{l(20,[r,f]=await Promise.all([Ze(),et()]),r,l(21,f))}catch(y){console.error("Failed to load data:",y)}}async function U(){var y;if(a.trim()){l(5,V=!0),l(6,M=null);try{const q=a.split(",").map(ge=>ge.trim().toUpperCase()).filter(ge=>ge);if(q.length===0)return;await tt({symbols:q,ttl_days:o,ingest:c}),l(2,a=""),await g()}catch(q){l(6,M=((y=q==null?void 0:q.body)==null?void 0:y.error)||(q==null?void 0:q.message)||String(q))}finally{l(5,V=!1)}}}async function x(y){if(confirm(`Remove ${y} from watchlist?`))try{await lt(y),await g()}catch(q){l(6,M=String(q))}}async function X(){var y;if(m.trim()){l(10,h=!0),l(11,j=null);try{await st({queries:[m.trim()],ttl_days:b,ingest:T}),l(7,m=""),await g()}catch(q){l(11,j=((y=q==null?void 0:q.body)==null?void 0:y.error)||(q==null?void 0:q.message)||String(q))}finally{l(10,h=!1)}}}async function K(y){if(confirm(`Remove topic "${y}"?`))try{await nt(y),await g()}catch(q){l(11,j=String(q))}}Ye(g);function ee(y){R=y,l(0,R)}function F(y){a=y,l(2,a)}function ce(y){o=y,l(3,o)}function oe(){c=this.checked,l(4,c)}const Y=y=>x(y.symbol);function z(y){$=y,l(1,$)}function H(y){m=y,l(7,m)}function ne(y){b=y,l(8,b)}function de(){T=this.checked,l(9,T)}const he=y=>K(y.query);return n.$$.update=()=>{n.$$.dirty[0]&1048577&&l(15,t=r.filter(y=>y.symbol.toLowerCase().includes(R.toLowerCase()))),n.$$.dirty[0]&2097154&&l(14,s=f.filter(y=>y.query.toLowerCase().includes($.toLowerCase()))),n.$$.dirty[0]&1048576&&l(13,p=r.length),n.$$.dirty[0]&2097152&&l(12,i=f.length)},[R,$,a,o,c,V,M,m,b,T,h,j,i,p,s,t,U,x,X,K,r,f,ee,F,ce,oe,Y,z,H,ne,de,he]}class Mt extends Je{constructor(e){super(),Oe(this,e,Vt,Dt,Xe,{},null,[-1,-1])}}export{Mt as component};
