import{S as We,i as Xe,s as Ye,d as a,B as ke,r as ye,v as de,w as ce,b as M,c as r,C as Ce,q as oe,m as p,e as f,f as y,D as xe,h as I,o as W,g as $,j as d,E as Ee,k as S,t as j,X as tt,a as le,K as De,L as Ie,M as Se,x as we,y as ge,z as Qe,N as Ve,l as lt,p as Ne,n as pe,u as st,A as Ze,W as Te,$ as Ae}from"../chunks/BeOz57Dq.js";import{e as Pe}from"../chunks/D_ZdN6Q8.js";import"../chunks/IHki7fMi.js";import{p as nt}from"../chunks/B-cyMrXP.js";import{u as rt}from"../chunks/ClFG0zlK.js";import{L as it}from"../chunks/DliJ_N1j.js";import{A as Le,b as ot,a as at}from"../chunks/BXfZ-OPp.js";function Oe(n){let e,t,l=n[0].properties.sector+"",o;return{c(){e=d("div"),t=j("Sector: "),o=j(l),this.h()},l(s){e=f(s,"DIV",{class:!0});var i=y(e);t=$(i,"Sector: "),o=$(i,l),i.forEach(a),this.h()},h(){p(e,"class","text-sm text-neutral-400")},m(s,i){M(s,e,i),r(e,t),r(e,o)},p(s,i){i&1&&l!==(l=s[0].properties.sector+"")&&le(o,l)},d(s){s&&a(e)}}}function $e(n){let e,t,l=n[0].properties.ticker+"",o;return{c(){e=d("div"),t=j("Ticker: "),o=j(l),this.h()},l(s){e=f(s,"DIV",{class:!0});var i=y(e);t=$(i,"Ticker: "),o=$(i,l),i.forEach(a),this.h()},h(){p(e,"class","text-xs text-neutral-500 mt-1")},m(s,i){M(s,e,i),r(e,t),r(e,o)},p(s,i){i&1&&l!==(l=s[0].properties.ticker+"")&&le(o,l)},d(s){s&&a(e)}}}function je(n){let e,t,l=new Date(n[0].properties.occurred_at).toLocaleDateString()+"",o;return{c(){e=d("div"),t=j("Occurred: "),o=j(l),this.h()},l(s){e=f(s,"DIV",{class:!0});var i=y(e);t=$(i,"Occurred: "),o=$(i,l),i.forEach(a),this.h()},h(){p(e,"class","text-xs text-neutral-500 mt-1")},m(s,i){M(s,e,i),r(e,t),r(e,o)},p(s,i){i&1&&l!==(l=new Date(s[0].properties.occurred_at).toLocaleDateString()+"")&&le(o,l)},d(s){s&&a(e)}}}function Be(n){let e,t,l=n[0].properties.category+"",o;return{c(){e=d("div"),t=j("Category: "),o=j(l),this.h()},l(s){e=f(s,"DIV",{class:!0});var i=y(e);t=$(i,"Category: "),o=$(i,l),i.forEach(a),this.h()},h(){p(e,"class","text-sm text-neutral-400")},m(s,i){M(s,e,i),r(e,t),r(e,o)},p(s,i){i&1&&l!==(l=s[0].properties.category+"")&&le(o,l)},d(s){s&&a(e)}}}function qe(n){let e,t=n[0].properties.description+"",l;return{c(){e=d("div"),l=j(t),this.h()},l(o){e=f(o,"DIV",{class:!0});var s=y(e);l=$(s,t),s.forEach(a),this.h()},h(){p(e,"class","text-xs text-neutral-500 mt-1 line-clamp-2")},m(o,s){M(o,e,s),r(e,l)},p(o,s){s&1&&t!==(t=o[0].properties.description+"")&&le(l,t)},d(o){o&&a(e)}}}function ze(n){let e,t,l=(n[0].properties.confidence*100).toFixed(0)+"",o,s;return{c(){e=d("div"),t=j("Confidence: "),o=j(l),s=j("%"),this.h()},l(i){e=f(i,"DIV",{class:!0});var u=y(e);t=$(u,"Confidence: "),o=$(u,l),s=$(u,"%"),u.forEach(a),this.h()},h(){p(e,"class","text-xs text-neutral-500 mt-1")},m(i,u){M(i,e,u),r(e,t),r(e,o),r(e,s)},p(i,u){u&1&&l!==(l=(i[0].properties.confidence*100).toFixed(0)+"")&&le(o,l)},d(i){i&&a(e)}}}function ut(n){let e,t,l,o,s,i,u="Preview",c,h,b="Open",E,B,A,J,z,P,H,w,F,D,K,_;l=new it({props:{label:n[0].label}});let g=n[0].properties.sector&&Oe(n),m=n[0].properties.ticker&&$e(n),C=n[0].properties.occurred_at&&je(n),L=n[0].properties.category&&Be(n),v=n[0].properties.description&&qe(n),V=n[0].properties.confidence!==void 0&&ze(n);return{c(){e=d("div"),t=d("div"),Ee(l.$$.fragment),o=S(),s=d("div"),i=d("button"),i.textContent=u,c=S(),h=d("button"),h.textContent=b,E=S(),B=d("h3"),A=j(n[3]),J=S(),g&&g.c(),z=S(),m&&m.c(),P=S(),C&&C.c(),H=S(),L&&L.c(),w=S(),v&&v.c(),F=S(),V&&V.c(),this.h()},l(k){e=f(k,"DIV",{class:!0});var N=y(e);t=f(N,"DIV",{class:!0});var U=y(t);xe(l.$$.fragment,U),o=I(U),s=f(U,"DIV",{class:!0});var te=y(s);i=f(te,"BUTTON",{class:!0,"data-svelte-h":!0}),W(i)!=="svelte-aepct4"&&(i.textContent=u),c=I(te),h=f(te,"BUTTON",{class:!0,"data-svelte-h":!0}),W(h)!=="svelte-1ezr1qr"&&(h.textContent=b),te.forEach(a),U.forEach(a),E=I(N),B=f(N,"H3",{class:!0});var O=y(B);A=$(O,n[3]),O.forEach(a),J=I(N),g&&g.l(N),z=I(N),m&&m.l(N),P=I(N),C&&C.l(N),H=I(N),L&&L.l(N),w=I(N),v&&v.l(N),F=I(N),V&&V.l(N),N.forEach(a),this.h()},h(){p(i,"class","px-2 py-1 text-xs rounded bg-neutral-800 hover:bg-neutral-700 text-neutral-200"),p(h,"class","px-2 py-1 text-xs rounded bg-indigo-600 hover:bg-indigo-500 text-white"),p(s,"class","flex gap-1"),p(t,"class","flex items-start justify-between mb-2"),p(B,"class","text-lg font-medium text-neutral-100 mb-1"),p(e,"class","bg-neutral-900 rounded border border-neutral-800 p-4 hover:border-neutral-700 transition-colors")},m(k,N){M(k,e,N),r(e,t),Ce(l,t,null),r(t,o),r(t,s),r(s,i),r(s,c),r(s,h),r(e,E),r(e,B),r(B,A),r(e,J),g&&g.m(e,null),r(e,z),m&&m.m(e,null),r(e,P),C&&C.m(e,null),r(e,H),L&&L.m(e,null),r(e,w),v&&v.m(e,null),r(e,F),V&&V.m(e,null),D=!0,K||(_=[oe(i,"click",n[2]),oe(h,"click",n[1])],K=!0)},p(k,[N]){const U={};N&1&&(U.label=k[0].label),l.$set(U),k[0].properties.sector?g?g.p(k,N):(g=Oe(k),g.c(),g.m(e,z)):g&&(g.d(1),g=null),k[0].properties.ticker?m?m.p(k,N):(m=$e(k),m.c(),m.m(e,P)):m&&(m.d(1),m=null),k[0].properties.occurred_at?C?C.p(k,N):(C=je(k),C.c(),C.m(e,H)):C&&(C.d(1),C=null),k[0].properties.category?L?L.p(k,N):(L=Be(k),L.c(),L.m(e,w)):L&&(L.d(1),L=null),k[0].properties.description?v?v.p(k,N):(v=qe(k),v.c(),v.m(e,F)):v&&(v.d(1),v=null),k[0].properties.confidence!==void 0?V?V.p(k,N):(V=ze(k),V.c(),V.m(e,null)):V&&(V.d(1),V=null)},i(k){D||(ce(l.$$.fragment,k),D=!0)},o(k){de(l.$$.fragment,k),D=!1},d(k){k&&a(e),ke(l),g&&g.d(),m&&m.d(),C&&C.d(),L&&L.d(),v&&v.d(),V&&V.d(),K=!1,ye(_)}}}function ct(n,e,t){let{node:l}=e;const o=tt();function s(){o("click",l)}function i(){o("preview",l)}const u=l.properties.name||l.properties.ticker||l.properties.title||l.properties.pattern_name||l.properties.regime_name||l.properties.statement||l.properties.content||l.properties.symbol||l.id;return n.$$set=c=>{"node"in c&&t(0,l=c.node)},[l,s,i,u]}class ft extends We{constructor(e){super(),Xe(this,e,ct,ut,Ye,{node:0})}}function Me(n,e,t){const l=n.slice();return l[24]=e[t],l}function dt(n){let e,t="No results found";return{c(){e=d("div"),e.textContent=t,this.h()},l(l){e=f(l,"DIV",{class:!0,"data-svelte-h":!0}),W(e)!=="svelte-13065ku"&&(e.textContent=t),this.h()},h(){p(e,"class","text-neutral-400")},m(l,o){M(l,e,o)},p:pe,i:pe,o:pe,d(l){l&&a(e)}}}function pt(n){let e,t,l,o="Labels:",s,i=Array.from(n[7].label).join(", ")+"",u,c,h,b,E,B=n[6].length+"",A,J,z,P,H,w=n[7].sector.size>0&&He(n),F=Pe(n[6]),D=[];for(let _=0;_<F.length;_+=1)D[_]=Ue(Me(n,F,_));const K=_=>de(D[_],1,1,()=>{D[_]=null});return{c(){e=d("div"),t=d("div"),l=d("strong"),l.textContent=o,s=S(),u=j(i),c=S(),w&&w.c(),h=S(),b=d("div"),E=j("Found "),A=j(B),J=j(" nodes"),z=S(),P=d("div");for(let _=0;_<D.length;_+=1)D[_].c();this.h()},l(_){e=f(_,"DIV",{class:!0});var g=y(e);t=f(g,"DIV",{});var m=y(t);l=f(m,"STRONG",{"data-svelte-h":!0}),W(l)!=="svelte-1phuunb"&&(l.textContent=o),s=I(m),u=$(m,i),m.forEach(a),c=I(g),w&&w.l(g),g.forEach(a),h=I(_),b=f(_,"DIV",{class:!0});var C=y(b);E=$(C,"Found "),A=$(C,B),J=$(C," nodes"),C.forEach(a),z=I(_),P=f(_,"DIV",{class:!0});var L=y(P);for(let v=0;v<D.length;v+=1)D[v].l(L);L.forEach(a),this.h()},h(){p(e,"class","mb-4 flex gap-4 text-sm text-neutral-400"),p(b,"class","mb-4 text-sm text-neutral-400"),p(P,"class","grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4")},m(_,g){M(_,e,g),r(e,t),r(t,l),r(t,s),r(t,u),r(e,c),w&&w.m(e,null),M(_,h,g),M(_,b,g),r(b,E),r(b,A),r(b,J),M(_,z,g),M(_,P,g);for(let m=0;m<D.length;m+=1)D[m]&&D[m].m(P,null);H=!0},p(_,g){if((!H||g&128)&&i!==(i=Array.from(_[7].label).join(", ")+"")&&le(u,i),_[7].sector.size>0?w?w.p(_,g):(w=He(_),w.c(),w.m(e,null)):w&&(w.d(1),w=null),(!H||g&64)&&B!==(B=_[6].length+"")&&le(A,B),g&2112){F=Pe(_[6]);let m;for(m=0;m<F.length;m+=1){const C=Me(_,F,m);D[m]?(D[m].p(C,g),ce(D[m],1)):(D[m]=Ue(C),D[m].c(),ce(D[m],1),D[m].m(P,null))}for(Ze(),m=F.length;m<D.length;m+=1)K(m);Qe()}},i(_){if(!H){for(let g=0;g<F.length;g+=1)ce(D[g]);H=!0}},o(_){D=D.filter(Boolean);for(let g=0;g<D.length;g+=1)de(D[g]);H=!1},d(_){_&&(a(e),a(h),a(b),a(z),a(P)),w&&w.d(),st(D,_)}}}function ht(n){let e,t,l;return{c(){e=d("div"),t=j("Error: "),l=j(n[5]),this.h()},l(o){e=f(o,"DIV",{class:!0});var s=y(e);t=$(s,"Error: "),l=$(s,n[5]),s.forEach(a),this.h()},h(){p(e,"class","text-red-400")},m(o,s){M(o,e,s),r(e,t),r(e,l)},p(o,s){s&32&&le(l,o[5])},i:pe,o:pe,d(o){o&&a(e)}}}function mt(n){let e,t="Searching...";return{c(){e=d("div"),e.textContent=t,this.h()},l(l){e=f(l,"DIV",{class:!0,"data-svelte-h":!0}),W(e)!=="svelte-13f0ma9"&&(e.textContent=t),this.h()},h(){p(e,"class","text-neutral-400")},m(l,o){M(l,e,o)},p:pe,i:pe,o:pe,d(l){l&&a(e)}}}function He(n){let e,t,l="Sectors:",o,s=Array.from(n[7].sector).join(", ")+"",i;return{c(){e=d("div"),t=d("strong"),t.textContent=l,o=S(),i=j(s)},l(u){e=f(u,"DIV",{});var c=y(e);t=f(c,"STRONG",{"data-svelte-h":!0}),W(t)!=="svelte-1tg13cf"&&(t.textContent=l),o=I(c),i=$(c,s),c.forEach(a)},m(u,c){M(u,e,c),r(e,t),r(e,o),r(e,i)},p(u,c){c&128&&s!==(s=Array.from(u[7].sector).join(", ")+"")&&le(i,s)},d(u){u&&a(e)}}}function Ue(n){let e,t;return e=new ft({props:{node:n[24]}}),e.$on("click",et),e.$on("preview",n[11]),{c(){Ee(e.$$.fragment)},l(l){xe(e.$$.fragment,l)},m(l,o){Ce(e,l,o),t=!0},p(l,o){const s={};o&64&&(s.node=l[24]),e.$set(s)},i(l){t||(ce(e.$$.fragment,l),t=!0)},o(l){de(e.$$.fragment,l),t=!1},d(l){ke(e,l)}}}function Fe(n){let e,t,l,o,s=(n[9].properties.name||n[9].properties.pattern_name||n[9].properties.title||n[9].id)+"",i,u,c,h="âœ•",b,E,B,A,J="Label:",z,P,H=n[9].label+"",w,F,D,K,_,g,m,C,L="All Properties",v,V,k=JSON.stringify(n[9].properties,null,2)+"",N,U,te,O,X="Close",fe,se,he="Open",me,_e,Z=n[9].properties.category&&Re(n),Y=n[9].properties.description&&Ge(n),ee=n[9].properties.confidence!==void 0&&Je(n),Q=n[9].properties.occurrences&&Ke(n);return{c(){e=d("div"),t=d("div"),l=d("div"),o=d("h2"),i=j(s),u=S(),c=d("button"),c.textContent=h,b=S(),E=d("div"),B=d("div"),A=d("span"),A.textContent=J,z=S(),P=d("span"),w=j(H),F=S(),Z&&Z.c(),D=S(),Y&&Y.c(),K=S(),ee&&ee.c(),_=S(),Q&&Q.c(),g=S(),m=d("details"),C=d("summary"),C.textContent=L,v=S(),V=d("pre"),N=j(k),U=S(),te=d("div"),O=d("button"),O.textContent=X,fe=S(),se=d("button"),se.textContent=he,this.h()},l(q){e=f(q,"DIV",{class:!0,role:!0,tabindex:!0});var R=y(e);t=f(R,"DIV",{class:!0,role:!0,tabindex:!0});var ae=y(t);l=f(ae,"DIV",{class:!0});var G=y(l);o=f(G,"H2",{class:!0});var x=y(o);i=$(x,s),x.forEach(a),u=I(G),c=f(G,"BUTTON",{class:!0,"data-svelte-h":!0}),W(c)!=="svelte-c25mie"&&(c.textContent=h),G.forEach(a),b=I(ae),E=f(ae,"DIV",{class:!0});var T=y(E);B=f(T,"DIV",{});var re=y(B);A=f(re,"SPAN",{class:!0,"data-svelte-h":!0}),W(A)!=="svelte-1y5nqs8"&&(A.textContent=J),z=I(re),P=f(re,"SPAN",{class:!0});var ie=y(P);w=$(ie,H),ie.forEach(a),re.forEach(a),F=I(T),Z&&Z.l(T),D=I(T),Y&&Y.l(T),K=I(T),ee&&ee.l(T),_=I(T),Q&&Q.l(T),g=I(T),m=f(T,"DETAILS",{class:!0});var ne=y(m);C=f(ne,"SUMMARY",{class:!0,"data-svelte-h":!0}),W(C)!=="svelte-3z1yps"&&(C.textContent=L),v=I(ne),V=f(ne,"PRE",{class:!0});var ve=y(V);N=$(ve,k),ve.forEach(a),ne.forEach(a),T.forEach(a),U=I(ae),te=f(ae,"DIV",{class:!0});var ue=y(te);O=f(ue,"BUTTON",{class:!0,"data-svelte-h":!0}),W(O)!=="svelte-1c5jxss"&&(O.textContent=X),fe=I(ue),se=f(ue,"BUTTON",{class:!0,"data-svelte-h":!0}),W(se)!=="svelte-1qy4jvf"&&(se.textContent=he),ue.forEach(a),ae.forEach(a),R.forEach(a),this.h()},h(){p(o,"class","text-2xl font-bold text-neutral-100"),p(c,"class","text-neutral-400 hover:text-neutral-200"),p(l,"class","flex items-start justify-between mb-4"),p(A,"class","text-sm font-medium text-neutral-400"),p(P,"class","text-neutral-100 ml-2"),p(C,"class","text-sm font-medium text-neutral-400 cursor-pointer"),p(V,"class","mt-2 text-xs text-neutral-300 bg-neutral-950 p-3 rounded overflow-x-auto"),p(m,"class","mt-4"),p(E,"class","space-y-3"),p(O,"class","px-4 py-2 rounded bg-neutral-800 hover:bg-neutral-700 text-neutral-200"),p(se,"class","px-4 py-2 rounded bg-indigo-600 hover:bg-indigo-500 text-white"),p(te,"class","mt-6 flex justify-end gap-2"),p(t,"class","bg-neutral-900 rounded-lg border border-neutral-800 p-6 max-w-2xl w-full max-h-[80vh] overflow-y-auto"),p(t,"role","dialog"),p(t,"tabindex","-1"),p(e,"class","fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4"),p(e,"role","button"),p(e,"tabindex","0")},m(q,R){M(q,e,R),r(e,t),r(t,l),r(l,o),r(o,i),r(l,u),r(l,c),r(t,b),r(t,E),r(E,B),r(B,A),r(B,z),r(B,P),r(P,w),r(E,F),Z&&Z.m(E,null),r(E,D),Y&&Y.m(E,null),r(E,K),ee&&ee.m(E,null),r(E,_),Q&&Q.m(E,null),r(E,g),r(E,m),r(m,C),r(m,v),r(m,V),r(V,N),r(t,U),r(t,te),r(te,O),r(te,fe),r(te,se),me||(_e=[oe(c,"click",n[12]),oe(O,"click",n[12]),oe(se,"click",n[20]),oe(t,"click",Te(n[14])),oe(t,"keydown",Te(n[15])),oe(e,"click",n[12]),oe(e,"keydown",n[21])],me=!0)},p(q,R){R&512&&s!==(s=(q[9].properties.name||q[9].properties.pattern_name||q[9].properties.title||q[9].id)+"")&&le(i,s),R&512&&H!==(H=q[9].label+"")&&le(w,H),q[9].properties.category?Z?Z.p(q,R):(Z=Re(q),Z.c(),Z.m(E,D)):Z&&(Z.d(1),Z=null),q[9].properties.description?Y?Y.p(q,R):(Y=Ge(q),Y.c(),Y.m(E,K)):Y&&(Y.d(1),Y=null),q[9].properties.confidence!==void 0?ee?ee.p(q,R):(ee=Je(q),ee.c(),ee.m(E,_)):ee&&(ee.d(1),ee=null),q[9].properties.occurrences?Q?Q.p(q,R):(Q=Ke(q),Q.c(),Q.m(E,g)):Q&&(Q.d(1),Q=null),R&512&&k!==(k=JSON.stringify(q[9].properties,null,2)+"")&&le(N,k)},d(q){q&&a(e),Z&&Z.d(),Y&&Y.d(),ee&&ee.d(),Q&&Q.d(),me=!1,ye(_e)}}}function Re(n){let e,t,l="Category:",o,s,i=n[9].properties.category+"",u;return{c(){e=d("div"),t=d("span"),t.textContent=l,o=S(),s=d("span"),u=j(i),this.h()},l(c){e=f(c,"DIV",{});var h=y(e);t=f(h,"SPAN",{class:!0,"data-svelte-h":!0}),W(t)!=="svelte-1emwjsa"&&(t.textContent=l),o=I(h),s=f(h,"SPAN",{class:!0});var b=y(s);u=$(b,i),b.forEach(a),h.forEach(a),this.h()},h(){p(t,"class","text-sm font-medium text-neutral-400"),p(s,"class","text-neutral-100 ml-2")},m(c,h){M(c,e,h),r(e,t),r(e,o),r(e,s),r(s,u)},p(c,h){h&512&&i!==(i=c[9].properties.category+"")&&le(u,i)},d(c){c&&a(e)}}}function Ge(n){let e,t,l="Description:",o,s,i=n[9].properties.description+"",u;return{c(){e=d("div"),t=d("span"),t.textContent=l,o=S(),s=d("p"),u=j(i),this.h()},l(c){e=f(c,"DIV",{});var h=y(e);t=f(h,"SPAN",{class:!0,"data-svelte-h":!0}),W(t)!=="svelte-tp8qqk"&&(t.textContent=l),o=I(h),s=f(h,"P",{class:!0});var b=y(s);u=$(b,i),b.forEach(a),h.forEach(a),this.h()},h(){p(t,"class","text-sm font-medium text-neutral-400"),p(s,"class","text-neutral-100 mt-1")},m(c,h){M(c,e,h),r(e,t),r(e,o),r(e,s),r(s,u)},p(c,h){h&512&&i!==(i=c[9].properties.description+"")&&le(u,i)},d(c){c&&a(e)}}}function Je(n){let e,t,l="Confidence:",o,s,i=(n[9].properties.confidence*100).toFixed(0)+"",u,c;return{c(){e=d("div"),t=d("span"),t.textContent=l,o=S(),s=d("span"),u=j(i),c=j("%"),this.h()},l(h){e=f(h,"DIV",{});var b=y(e);t=f(b,"SPAN",{class:!0,"data-svelte-h":!0}),W(t)!=="svelte-1atznka"&&(t.textContent=l),o=I(b),s=f(b,"SPAN",{class:!0});var E=y(s);u=$(E,i),c=$(E,"%"),E.forEach(a),b.forEach(a),this.h()},h(){p(t,"class","text-sm font-medium text-neutral-400"),p(s,"class","text-neutral-100 ml-2")},m(h,b){M(h,e,b),r(e,t),r(e,o),r(e,s),r(s,u),r(s,c)},p(h,b){b&512&&i!==(i=(h[9].properties.confidence*100).toFixed(0)+"")&&le(u,i)},d(h){h&&a(e)}}}function Ke(n){let e,t,l="Occurrences:",o,s,i=n[9].properties.occurrences+"",u;return{c(){e=d("div"),t=d("span"),t.textContent=l,o=S(),s=d("span"),u=j(i),this.h()},l(c){e=f(c,"DIV",{});var h=y(e);t=f(h,"SPAN",{class:!0,"data-svelte-h":!0}),W(t)!=="svelte-17izbww"&&(t.textContent=l),o=I(h),s=f(h,"SPAN",{class:!0});var b=y(s);u=$(b,i),b.forEach(a),h.forEach(a),this.h()},h(){p(t,"class","text-sm font-medium text-neutral-400"),p(s,"class","text-neutral-100 ml-2")},m(c,h){M(c,e,h),r(e,t),r(e,o),r(e,s),r(s,u)},p(c,h){h&512&&i!==(i=c[9].properties.occurrences+"")&&le(u,i)},d(c){c&&a(e)}}}function vt(n){let e,t,l="Search Knowledge Graph",o,s,i,u,c='Topic <span class="text-neutral-500 text-xs">(start typing for suggestions)</span>',h,b,E,B,A,J,z,P='Tickers <span class="text-neutral-500 text-xs">(comma-separated, or pick from dropdown)</span>',H,w,F,D,K,_,g="Depth",m,C,L,v,V,k="Limit",N,U,te,O,X,fe,se,he,me,_e;function Z(x){n[16](x)}let Y={fetchSuggestions:ot,placeholder:"e.g., technology, semiconductors, AI..."};n[0]!==void 0&&(Y.value=n[0]),b=new Le({props:Y}),De.push(()=>Ie(b,"value",Z)),b.$on("select",n[10]),b.$on("submit",n[10]);function ee(x){n[17](x)}let Q={suggestions:n[8],placeholder:"e.g., NVDA, AMD, INTC..."};n[1]!==void 0&&(Q.value=n[1]),w=new Le({props:Q}),De.push(()=>Ie(w,"value",ee)),w.$on("select",n[10]),w.$on("submit",n[10]);const q=[mt,ht,pt,dt],R=[];function ae(x,T){return x[4]?0:x[5]?1:x[6].length>0?2:x[0]||x[1]?3:-1}~(O=ae(n))&&(X=R[O]=q[O](n));let G=n[9]&&Fe(n);return{c(){e=d("div"),t=d("h1"),t.textContent=l,o=S(),s=d("div"),i=d("div"),u=d("label"),u.innerHTML=c,h=S(),Ee(b.$$.fragment),B=S(),A=d("div"),J=d("div"),z=d("label"),z.innerHTML=P,H=S(),Ee(w.$$.fragment),D=S(),K=d("div"),_=d("label"),_.textContent=g,m=S(),C=d("input"),L=S(),v=d("div"),V=d("label"),V.textContent=k,N=S(),U=d("input"),te=S(),X&&X.c(),fe=S(),G&&G.c(),se=Ve(),this.h()},l(x){e=f(x,"DIV",{class:!0});var T=y(e);t=f(T,"H1",{class:!0,"data-svelte-h":!0}),W(t)!=="svelte-ugzq92"&&(t.textContent=l),o=I(T),s=f(T,"DIV",{class:!0});var re=y(s);i=f(re,"DIV",{});var ie=y(i);u=f(ie,"LABEL",{class:!0,"data-svelte-h":!0}),W(u)!=="svelte-kbicoe"&&(u.innerHTML=c),h=I(ie),xe(b.$$.fragment,ie),ie.forEach(a),B=I(re),A=f(re,"DIV",{class:!0});var ne=y(A);J=f(ne,"DIV",{});var ve=y(J);z=f(ve,"LABEL",{class:!0,"data-svelte-h":!0}),W(z)!=="svelte-t3ix1n"&&(z.innerHTML=P),H=I(ve),xe(w.$$.fragment,ve),ve.forEach(a),D=I(ne),K=f(ne,"DIV",{});var ue=y(K);_=f(ue,"LABEL",{class:!0,"data-svelte-h":!0}),W(_)!=="svelte-syzpqy"&&(_.textContent=g),m=I(ue),C=f(ue,"INPUT",{type:!0,min:!0,max:!0,class:!0}),ue.forEach(a),L=I(ne),v=f(ne,"DIV",{});var be=y(v);V=f(be,"LABEL",{class:!0,"data-svelte-h":!0}),W(V)!=="svelte-1ninenc"&&(V.textContent=k),N=I(be),U=f(be,"INPUT",{type:!0,min:!0,max:!0,class:!0}),be.forEach(a),ne.forEach(a),re.forEach(a),te=I(T),X&&X.l(T),T.forEach(a),fe=I(x),G&&G.l(x),se=Ve(),this.h()},h(){p(t,"class","text-3xl font-bold text-neutral-100 mb-6"),p(u,"class","block text-sm font-medium text-neutral-300 mb-1"),p(z,"class","block text-sm font-medium text-neutral-300 mb-1"),p(_,"class","block text-sm font-medium text-neutral-300 mb-1"),p(C,"type","number"),p(C,"min","1"),p(C,"max","3"),p(C,"class","w-full px-3 py-2 bg-neutral-900 border border-neutral-700 rounded text-neutral-100 focus:outline-none focus:border-indigo-500"),p(V,"class","block text-sm font-medium text-neutral-300 mb-1"),p(U,"type","number"),p(U,"min","10"),p(U,"max","500"),p(U,"class","w-full px-3 py-2 bg-neutral-900 border border-neutral-700 rounded text-neutral-100 focus:outline-none focus:border-indigo-500"),p(A,"class","grid grid-cols-1 md:grid-cols-3 gap-3"),p(s,"class","mb-6 space-y-3"),p(e,"class","max-w-7xl mx-auto p-6")},m(x,T){M(x,e,T),r(e,t),r(e,o),r(e,s),r(s,i),r(i,u),r(i,h),Ce(b,i,null),r(s,B),r(s,A),r(A,J),r(J,z),r(J,H),Ce(w,J,null),r(A,D),r(A,K),r(K,_),r(K,m),r(K,C),ge(C,n[2]),r(A,L),r(A,v),r(v,V),r(v,N),r(v,U),ge(U,n[3]),r(e,te),~O&&R[O].m(e,null),M(x,fe,T),G&&G.m(x,T),M(x,se,T),he=!0,me||(_e=[oe(C,"input",n[18]),oe(U,"input",n[19])],me=!0)},p(x,[T]){const re={};!E&&T&1&&(E=!0,re.value=x[0],Se(()=>E=!1)),b.$set(re);const ie={};T&256&&(ie.suggestions=x[8]),!F&&T&2&&(F=!0,ie.value=x[1],Se(()=>F=!1)),w.$set(ie),T&4&&we(C.value)!==x[2]&&ge(C,x[2]),T&8&&we(U.value)!==x[3]&&ge(U,x[3]);let ne=O;O=ae(x),O===ne?~O&&R[O].p(x,T):(X&&(Ze(),de(R[ne],1,1,()=>{R[ne]=null}),Qe()),~O?(X=R[O],X?X.p(x,T):(X=R[O]=q[O](x),X.c()),ce(X,1),X.m(e,null)):X=null),x[9]?G?G.p(x,T):(G=Fe(x),G.c(),G.m(se.parentNode,se)):G&&(G.d(1),G=null)},i(x){he||(ce(b.$$.fragment,x),ce(w.$$.fragment,x),ce(X),he=!0)},o(x){de(b.$$.fragment,x),de(w.$$.fragment,x),de(X),he=!1},d(x){x&&(a(e),a(fe),a(se)),ke(b),ke(w),~O&&R[O].d(),G&&G.d(x),me=!1,ye(_e)}}}function et(n){const e=n.detail;if(e.properties.ticker)window.location.href=`/ariadne/timeline?ticker=${e.properties.ticker}`;else if(e.label==="Pattern")window.location.href="/ariadne/patterns";else if(e.label==="Hypothesis"){const t=e.properties.hypothesis_id||e.id;window.location.href=`/ariadne/hypotheses/${t}`}else window.location.href="/ariadne/context"}function _t(n,e,t){let l;lt(n,nt,v=>t(13,l=v));let o="",s="",i=2,u=100,c=!1,h=null,b=[],E={label:new Set,sector:new Set},B=[];Ne(async()=>{t(8,B=await at())});let A;function J(){clearTimeout(A),A=setTimeout(()=>{z()},300)}async function z(){if(!o&&!s){t(6,b=[]);return}t(4,c=!0),t(5,h=null);try{const v=s?s.split(",").map(k=>k.trim()).filter(k=>k):[],V=await rt({topic:o||void 0,tickers:v,depth:i,limit:u});t(6,b=V.subgraph.nodes),t(7,E.label=new Set(b.map(k=>k.label)),E),t(7,E.sector=new Set(b.map(k=>k.properties.sector).filter(k=>k)),E)}catch(v){t(5,h=(v==null?void 0:v.message)??"Search failed")}finally{t(4,c=!1)}}let P=null;function H(v){t(9,P=v.detail)}function w(){t(9,P=null)}Ne(()=>{(o||s)&&z()});function F(v){Ae.call(this,n,v)}function D(v){Ae.call(this,n,v)}function K(v){o=v,t(0,o),t(13,l)}function _(v){s=v,t(1,s),t(13,l)}function g(){i=we(this.value),t(2,i)}function m(){u=we(this.value),t(3,u)}const C=()=>{if(P){const v=P;w(),et(new CustomEvent("click",{detail:v}))}},L=v=>v.key==="Escape"&&w();return n.$$.update=()=>{if(n.$$.dirty&8192){const v=l.url.searchParams.get("q"),V=l.url.searchParams.get("tickers");v&&t(0,o=v),V&&t(1,s=V)}},[o,s,i,u,c,h,b,E,B,P,J,H,w,l,F,D,K,_,g,m,C,L]}class yt extends We{constructor(e){super(),Xe(this,e,_t,vt,Ye,{})}}export{yt as component};
