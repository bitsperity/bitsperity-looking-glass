const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["../chunks/D7bLzxqH.js","../chunks/CXH2uRM3.js","../chunks/3aJP5oaj.js","../chunks/C2Zuo1AT.js","../chunks/NlG_On0W.js"])))=>i.map(i=>d[i]);
import{_ as Ae}from"../chunks/C1FmrZbK.js";import{S as et,i as tt,s as lt,d as u,B as ze,r as st,v as Oe,w as Re,y as xe,a as ve,b as ue,c as t,C as je,q as be,m as o,e as d,f as g,o as oe,h as k,D as Be,g as ne,j as c,k as w,E as Ge,t as re,p as at,n as Ne,Z as nt,K as rt,F as Ee,u as $e}from"../chunks/DnBpi1Qd.js";import{e as Le}from"../chunks/B5jFdsvg.js";import"../chunks/IHki7fMi.js";import{D as it,h as ot}from"../chunks/BnvI_Nfc.js";import{M as dt}from"../chunks/BNha2vma.js";import{T as ct}from"../chunks/DPWOJN0Q.js";const ut=!1,ft=!0,Dt=Object.freeze(Object.defineProperty({__proto__:null,csr:ft,ssr:ut},Symbol.toStringTag,{value:"Module"}));function qe(r,e,l){const s=r.slice();return s[31]=e[l],s}function Ue(r,e,l){const s=r.slice();return s[34]=e[l],s}function Fe(r){let e,l=`<svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>
          Clear`,s,n;return{c(){e=c("button"),e.innerHTML=l,this.h()},l(i){e=d(i,"BUTTON",{class:!0,"data-svelte-h":!0}),oe(e)!=="svelte-19msdzr"&&(e.innerHTML=l),this.h()},h(){o(e,"class","px-4 py-2 rounded bg-neutral-700 hover:bg-neutral-600 text-sm font-medium transition-colors flex items-center gap-2")},m(i,a){ue(i,e,a),s||(n=be(e,"click",r[16]),s=!0)},p:Ne,d(i){i&&u(e),s=!1,n()}}}function We(r){let e,l,s=r[12].length+"",n,i;return{c(){e=c("div"),l=re("ðŸŽ¯ Showing "),n=re(s),i=re(" matching thoughts Â· Rest is masked"),this.h()},l(a){e=d(a,"DIV",{class:!0});var f=g(e);l=ne(f,"ðŸŽ¯ Showing "),n=ne(f,s),i=ne(f," matching thoughts Â· Rest is masked"),f.forEach(u),this.h()},h(){o(e,"class","mt-2 text-xs text-indigo-400")},m(a,f){ue(a,e,f),t(e,l),t(e,n),t(e,i)},p(a,f){f[0]&4096&&s!==(s=a[12].length+"")&&ve(n,s)},d(a){a&&u(e)}}}function vt(r){let e,l,s,n=r[0].length+"",i,a,f,S=r[1].length+"",j,A,X,L,$='<div class="flex items-center gap-1"><div class="w-3 h-3 rounded-full bg-blue-500"></div> <span class="text-neutral-400">observation</span></div> <div class="flex items-center gap-1"><div class="w-3 h-3 rounded-full bg-amber-500"></div> <span class="text-neutral-400">hypothesis</span></div> <div class="flex items-center gap-1"><div class="w-3 h-3 rounded-full bg-emerald-500"></div> <span class="text-neutral-400">analysis</span></div> <div class="flex items-center gap-1"><div class="w-3 h-3 rounded-full bg-pink-500"></div> <span class="text-neutral-400">decision</span></div> <div class="flex items-center gap-1"><div class="w-3 h-3 rounded-full bg-purple-500"></div> <span class="text-neutral-400">reflection</span></div> <div class="flex items-center gap-1"><div class="w-3 h-3 rounded-full bg-red-500"></div> <span class="text-neutral-400">question</span></div>',W,M,se,O,I,G,C,q,Q,R,ee="Node Info",K,Y,ie,fe='<div class="text-sm font-semibold text-neutral-300 mb-2">Interactions</div> <div class="space-y-1 text-xs text-neutral-400"><div>â€¢ <span class="font-medium">Click node</span>: Select node</div> <div>â€¢ <span class="font-medium">Double-click node</span>: Quick preview</div> <div>â€¢ <span class="font-medium">Hover edge</span>: Show relation details</div> <div>â€¢ <span class="font-medium">Drag</span>: Pan canvas</div> <div>â€¢ <span class="font-medium">Scroll</span>: Zoom in/out</div></div>',E,D,P='<div class="text-sm font-semibold text-neutral-300 mb-2">Relations</div> <div class="space-y-1 text-xs"><div class="flex items-center gap-2"><div class="w-8 h-0.5 bg-neutral-500"></div> <span class="text-neutral-400">related</span></div> <div class="flex items-center gap-2"><div class="w-8 h-0.5 bg-green-500"></div> <span class="text-neutral-400">supports</span></div> <div class="flex items-center gap-2"><div class="w-8 h-0.5 bg-red-500"></div> <span class="text-neutral-400">contradicts</span></div> <div class="flex items-center gap-2"><div class="w-8 h-0.5 bg-blue-500"></div> <span class="text-neutral-400">followup</span></div> <div class="flex items-center gap-2"><div class="w-8 h-0.5 bg-purple-500"></div> <span class="text-neutral-400">duplicate</span></div></div> <div class="mt-2 text-[11px] text-neutral-500">Thicker edges = stronger relation</div>',H=r[10]&&Qe(r);function de(_,y){return _[9]?mt:gt}let h=de(r),v=h(r);return{c(){e=c("div"),l=c("div"),s=c("span"),i=re(n),a=re(` nodes Â· 
        `),f=c("span"),j=re(S),A=re(" edges"),X=w(),L=c("div"),L.innerHTML=$,W=w(),M=c("div"),se=c("div"),O=c("div"),I=c("div"),G=w(),C=c("div"),H&&H.c(),q=w(),Q=c("div"),R=c("div"),R.textContent=ee,K=w(),v.c(),Y=w(),ie=c("div"),ie.innerHTML=fe,E=w(),D=c("div"),D.innerHTML=P,this.h()},l(_){e=d(_,"DIV",{class:!0});var y=g(e);l=d(y,"DIV",{class:!0});var V=g(l);s=d(V,"SPAN",{class:!0});var F=g(s);i=ne(F,n),F.forEach(u),a=ne(V,` nodes Â· 
        `),f=d(V,"SPAN",{class:!0});var b=g(f);j=ne(b,S),b.forEach(u),A=ne(V," edges"),V.forEach(u),X=k(y),L=d(y,"DIV",{class:!0,"data-svelte-h":!0}),oe(L)!=="svelte-15ifb2h"&&(L.innerHTML=$),y.forEach(u),W=k(_),M=d(_,"DIV",{class:!0});var x=g(M);se=d(x,"DIV",{class:!0});var T=g(se);O=d(T,"DIV",{class:!0});var B=g(O);I=d(B,"DIV",{class:!0}),g(I).forEach(u),B.forEach(u),T.forEach(u),G=k(x),C=d(x,"DIV",{class:!0});var m=g(C);H&&H.l(m),q=k(m),Q=d(m,"DIV",{class:!0});var U=g(Q);R=d(U,"DIV",{class:!0,"data-svelte-h":!0}),oe(R)!=="svelte-dz5mgu"&&(R.textContent=ee),K=k(U),v.l(U),U.forEach(u),Y=k(m),ie=d(m,"DIV",{class:!0,"data-svelte-h":!0}),oe(ie)!=="svelte-6p2x6h"&&(ie.innerHTML=fe),E=k(m),D=d(m,"DIV",{class:!0,"data-svelte-h":!0}),oe(D)!=="svelte-h5rl6y"&&(D.innerHTML=P),m.forEach(u),x.forEach(u),this.h()},h(){o(s,"class","font-semibold text-neutral-200"),o(f,"class","font-semibold text-neutral-200"),o(l,"class","text-neutral-400"),o(L,"class","flex gap-4 text-xs"),o(e,"class","flex items-center justify-between text-sm"),o(I,"class","w-full h-full"),o(O,"class","h-[70vh] bg-neutral-900 rounded-lg border border-neutral-800 overflow-hidden"),o(se,"class","md:col-span-3"),o(R,"class","text-sm font-semibold text-neutral-300 mb-3"),o(Q,"class","bg-neutral-900 rounded-lg p-4 border border-neutral-800"),o(ie,"class","bg-neutral-900 rounded-lg p-4 border border-neutral-800"),o(D,"class","bg-neutral-900 rounded-lg p-4 border border-neutral-800"),o(C,"class","md:col-span-1 space-y-3"),o(M,"class","grid grid-cols-1 md:grid-cols-4 gap-4")},m(_,y){ue(_,e,y),t(e,l),t(l,s),t(s,i),t(l,a),t(l,f),t(f,j),t(l,A),t(e,X),t(e,L),ue(_,W,y),ue(_,M,y),t(M,se),t(se,O),t(O,I),r[22](I),t(M,G),t(M,C),H&&H.m(C,null),t(C,q),t(C,Q),t(Q,R),t(Q,K),v.m(Q,null),t(C,Y),t(C,ie),t(C,E),t(C,D)},p(_,y){y[0]&1&&n!==(n=_[0].length+"")&&ve(i,n),y[0]&2&&S!==(S=_[1].length+"")&&ve(j,S),_[10]?H?H.p(_,y):(H=Qe(_),H.c(),H.m(C,q)):H&&(H.d(1),H=null),h===(h=de(_))&&v?v.p(_,y):(v.d(1),v=h(_),v&&(v.c(),v.m(Q,null)))},d(_){_&&(u(e),u(W),u(M)),r[22](null),H&&H.d(),v.d()}}}function ht(r){let e,l,s="Error",n,i,a;return{c(){e=c("div"),l=c("div"),l.textContent=s,n=w(),i=c("div"),a=re(r[3]),this.h()},l(f){e=d(f,"DIV",{class:!0});var S=g(e);l=d(S,"DIV",{class:!0,"data-svelte-h":!0}),oe(l)!=="svelte-xlmlnt"&&(l.textContent=s),n=k(S),i=d(S,"DIV",{class:!0});var j=g(i);a=ne(j,r[3]),j.forEach(u),S.forEach(u),this.h()},h(){o(l,"class","font-semibold mb-1"),o(i,"class","text-sm"),o(e,"class","bg-red-950 border border-red-800 rounded-lg p-4 text-red-200")},m(f,S){ue(f,e,S),t(e,l),t(e,n),t(e,i),t(i,a)},p(f,S){S[0]&8&&ve(a,f[3])},d(f){f&&u(e)}}}function pt(r){let e,l='<div class="text-center"><div class="animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-500 mx-auto mb-4"></div> <p>Loading graph dataâ€¦</p></div>';return{c(){e=c("div"),e.innerHTML=l,this.h()},l(s){e=d(s,"DIV",{class:!0,"data-svelte-h":!0}),oe(e)!=="svelte-10lnpd0"&&(e.innerHTML=l),this.h()},h(){o(e,"class","flex items-center justify-center h-[70vh] text-neutral-400")},m(s,n){ue(s,e,n)},p:Ne,d(s){s&&u(e)}}}function Qe(r){let e,l,s=`<svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"></path></svg>
              Relation`,n,i,a,f,S="Type",j,A,X,L,$,W=r[10].type+"",M,se,O,I,G="Strength",C,q,Q,R,ee,K,Y=r[10].weight.toFixed(2)+"",ie,fe,E,D,P="Connection",H,de,h,v,_="FROM",y,V,F=r[10].from.title+"",b,x,T,B,m='<svg class="w-3 h-3 text-neutral-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>',U,J,N,Z="TO",he,ce,te=r[10].to.title+"",p,z;return{c(){e=c("div"),l=c("div"),l.innerHTML=s,n=w(),i=c("div"),a=c("div"),f=c("span"),f.textContent=S,j=w(),A=c("div"),X=c("div"),L=w(),$=c("span"),M=re(W),se=w(),O=c("div"),I=c("span"),I.textContent=G,C=w(),q=c("div"),Q=c("div"),R=c("div"),ee=w(),K=c("span"),ie=re(Y),fe=w(),E=c("div"),D=c("div"),D.textContent=P,H=w(),de=c("div"),h=c("div"),v=c("div"),v.textContent=_,y=w(),V=c("div"),b=re(F),T=w(),B=c("div"),B.innerHTML=m,U=w(),J=c("div"),N=c("div"),N.textContent=Z,he=w(),ce=c("div"),p=re(te),this.h()},l(le){e=d(le,"DIV",{class:!0});var ae=g(e);l=d(ae,"DIV",{class:!0,"data-svelte-h":!0}),oe(l)!=="svelte-12c08p"&&(l.innerHTML=s),n=k(ae),i=d(ae,"DIV",{class:!0});var ge=g(i);a=d(ge,"DIV",{class:!0});var ye=g(a);f=d(ye,"SPAN",{class:!0,"data-svelte-h":!0}),oe(f)!=="svelte-1mvr11e"&&(f.textContent=S),j=k(ye),A=d(ye,"DIV",{class:!0});var pe=g(A);X=d(pe,"DIV",{class:!0,style:!0}),g(X).forEach(u),L=k(pe),$=d(pe,"SPAN",{class:!0});var ke=g($);M=ne(ke,W),ke.forEach(u),pe.forEach(u),ye.forEach(u),se=k(ge),O=d(ge,"DIV",{class:!0});var me=g(O);I=d(me,"SPAN",{class:!0,"data-svelte-h":!0}),oe(I)!=="svelte-1d0lvo9"&&(I.textContent=G),C=k(me),q=d(me,"DIV",{class:!0});var _e=g(q);Q=d(_e,"DIV",{class:!0});var Ce=g(Q);R=d(Ce,"DIV",{class:!0,style:!0}),g(R).forEach(u),Ce.forEach(u),ee=k(_e),K=d(_e,"SPAN",{class:!0});var Ie=g(K);ie=ne(Ie,Y),Ie.forEach(u),_e.forEach(u),me.forEach(u),fe=k(ge),E=d(ge,"DIV",{class:!0});var Te=g(E);D=d(Te,"DIV",{class:!0,"data-svelte-h":!0}),oe(D)!=="svelte-p9wq31"&&(D.textContent=P),H=k(Te),de=d(Te,"DIV",{class:!0});var we=g(de);h=d(we,"DIV",{class:!0});var Se=g(h);v=d(Se,"DIV",{class:!0,"data-svelte-h":!0}),oe(v)!=="svelte-g0kg5g"&&(v.textContent=_),y=k(Se),V=d(Se,"DIV",{class:!0,title:!0});var Pe=g(V);b=ne(Pe,F),Pe.forEach(u),Se.forEach(u),T=k(we),B=d(we,"DIV",{class:!0,"data-svelte-h":!0}),oe(B)!=="svelte-ppjvz9"&&(B.innerHTML=m),U=k(we),J=d(we,"DIV",{class:!0});var Me=g(J);N=d(Me,"DIV",{class:!0,"data-svelte-h":!0}),oe(N)!=="svelte-bnmumf"&&(N.textContent=Z),he=k(Me),ce=d(Me,"DIV",{class:!0,title:!0});var He=g(ce);p=ne(He,te),He.forEach(u),Me.forEach(u),we.forEach(u),Te.forEach(u),ge.forEach(u),ae.forEach(u),this.h()},h(){o(l,"class","text-sm font-semibold text-amber-400 mb-3 flex items-center gap-2"),o(f,"class","text-xs text-neutral-400"),o(X,"class","w-6 h-1 rounded"),Ee(X,"background-color",Ve(r[10].type)),o($,"class","text-xs font-semibold text-neutral-200"),o(A,"class","flex items-center gap-2"),o(a,"class","flex items-center justify-between"),o(I,"class","text-xs text-neutral-400"),o(R,"class","h-full bg-gradient-to-r from-amber-500 to-amber-400 rounded-full transition-all"),Ee(R,"width",r[10].weight*100+"%"),o(Q,"class","w-16 bg-neutral-800 rounded-full h-1.5 overflow-hidden"),o(K,"class","text-xs font-mono text-neutral-200"),o(q,"class","flex items-center gap-2"),o(O,"class","flex items-center justify-between"),o(D,"class","text-[11px] text-neutral-500 mb-1"),o(v,"class","text-xs text-neutral-500 mt-0.5"),o(V,"class","text-xs text-neutral-200 flex-1 truncate"),o(V,"title",x=r[10].from.title),o(h,"class","flex items-start gap-2"),o(B,"class","flex items-center justify-center"),o(N,"class","text-xs text-neutral-500 mt-0.5"),o(ce,"class","text-xs text-neutral-200 flex-1 truncate"),o(ce,"title",z=r[10].to.title),o(J,"class","flex items-start gap-2"),o(de,"class","space-y-1"),o(E,"class","pt-2 border-t border-neutral-800"),o(i,"class","space-y-2"),o(e,"class","bg-neutral-900 rounded-lg p-4 border border-amber-500 animate-pulse-subtle")},m(le,ae){ue(le,e,ae),t(e,l),t(e,n),t(e,i),t(i,a),t(a,f),t(a,j),t(a,A),t(A,X),t(A,L),t(A,$),t($,M),t(i,se),t(i,O),t(O,I),t(O,C),t(O,q),t(q,Q),t(Q,R),t(q,ee),t(q,K),t(K,ie),t(i,fe),t(i,E),t(E,D),t(E,H),t(E,de),t(de,h),t(h,v),t(h,y),t(h,V),t(V,b),t(de,T),t(de,B),t(de,U),t(de,J),t(J,N),t(J,he),t(J,ce),t(ce,p)},p(le,ae){ae[0]&1024&&Ee(X,"background-color",Ve(le[10].type)),ae[0]&1024&&W!==(W=le[10].type+"")&&ve(M,W),ae[0]&1024&&Ee(R,"width",le[10].weight*100+"%"),ae[0]&1024&&Y!==(Y=le[10].weight.toFixed(2)+"")&&ve(ie,Y),ae[0]&1024&&F!==(F=le[10].from.title+"")&&ve(b,F),ae[0]&1024&&x!==(x=le[10].from.title)&&o(V,"title",x),ae[0]&1024&&te!==(te=le[10].to.title+"")&&ve(p,te),ae[0]&1024&&z!==(z=le[10].to.title)&&o(ce,"title",z)},d(le){le&&u(e)}}}function gt(r){let e,l='<div class="mb-2">ðŸ‘†</div> <p>Click a node to view details</p> <p class="text-xs mt-1">Double-click for quick preview</p>';return{c(){e=c("div"),e.innerHTML=l,this.h()},l(s){e=d(s,"DIV",{class:!0,"data-svelte-h":!0}),oe(e)!=="svelte-qszx7g"&&(e.innerHTML=l),this.h()},h(){o(e,"class","text-neutral-500 text-sm text-center py-8")},m(s,n){ue(s,e,n)},p:Ne,d(s){s&&u(e)}}}function mt(r){var H,de,h,v,_,y,V,F;let e,l,s,n,i,a=(((H=r[9].payload)==null?void 0:H.type)||"unknown")+"",f,S,j=(((de=r[9].payload)==null?void 0:de.status)||"unknown")+"",A,X,L,$=(((h=r[9].payload)==null?void 0:h.title)||r[9].id)+"",W,M,se,O,I,G,C,q,Q="Preview",R,ee,K,Y,ie,fe,E=((v=r[9].payload)==null?void 0:v.content)&&Ze(r),D=((y=(_=r[9].payload)==null?void 0:_.tickers)==null?void 0:y.length)&&Ke(r),P=((F=(V=r[9].payload)==null?void 0:V.tags)==null?void 0:F.length)&&Xe(r);return{c(){e=c("div"),l=c("div"),s=c("div"),n=w(),i=c("span"),f=re(a),S=re(" Â· "),A=re(j),X=w(),L=c("div"),W=re($),se=w(),E&&E.c(),O=w(),D&&D.c(),I=w(),P&&P.c(),G=w(),C=c("div"),q=c("button"),q.textContent=Q,R=w(),ee=c("a"),K=re("Open"),this.h()},l(b){e=d(b,"DIV",{class:!0});var x=g(e);l=d(x,"DIV",{class:!0});var T=g(l);s=d(T,"DIV",{class:!0,style:!0}),g(s).forEach(u),n=k(T),i=d(T,"SPAN",{class:!0});var B=g(i);f=ne(B,a),S=ne(B," Â· "),A=ne(B,j),B.forEach(u),T.forEach(u),X=k(x),L=d(x,"DIV",{class:!0,title:!0});var m=g(L);W=ne(m,$),m.forEach(u),se=k(x),E&&E.l(x),O=k(x),D&&D.l(x),I=k(x),P&&P.l(x),G=k(x),C=d(x,"DIV",{class:!0});var U=g(C);q=d(U,"BUTTON",{class:!0,"data-svelte-h":!0}),oe(q)!=="svelte-1rtmthy"&&(q.textContent=Q),R=k(U),ee=d(U,"A",{class:!0,href:!0});var J=g(ee);K=ne(J,"Open"),J.forEach(u),U.forEach(u),x.forEach(u),this.h()},h(){var b,x,T;o(s,"class","w-3 h-3 rounded-full"),Ee(s,"background-color",De((b=r[9].payload)==null?void 0:b.type,(x=r[9].payload)==null?void 0:x.status)),o(i,"class","text-xs text-neutral-400"),o(l,"class","flex items-center gap-2"),o(L,"class","font-semibold text-neutral-100 truncate"),o(L,"title",M=((T=r[9].payload)==null?void 0:T.title)||r[9].id),o(q,"class","flex-1 px-3 py-1.5 rounded bg-neutral-800 hover:bg-neutral-700 text-xs transition-colors"),o(ee,"class","flex-1 px-3 py-1.5 rounded bg-indigo-600 hover:bg-indigo-500 text-xs text-center transition-colors"),o(ee,"href",Y=`/manifold/thoughts/${r[9].id}`),o(C,"class","pt-2 flex gap-2"),o(e,"class","space-y-2")},m(b,x){ue(b,e,x),t(e,l),t(l,s),t(l,n),t(l,i),t(i,f),t(i,S),t(i,A),t(e,X),t(e,L),t(L,W),t(e,se),E&&E.m(e,null),t(e,O),D&&D.m(e,null),t(e,I),P&&P.m(e,null),t(e,G),t(e,C),t(C,q),t(C,R),t(C,ee),t(ee,K),ie||(fe=be(q,"click",r[23]),ie=!0)},p(b,x){var T,B,m,U,J,N,Z,he,ce,te,p;x[0]&512&&Ee(s,"background-color",De((T=b[9].payload)==null?void 0:T.type,(B=b[9].payload)==null?void 0:B.status)),x[0]&512&&a!==(a=(((m=b[9].payload)==null?void 0:m.type)||"unknown")+"")&&ve(f,a),x[0]&512&&j!==(j=(((U=b[9].payload)==null?void 0:U.status)||"unknown")+"")&&ve(A,j),x[0]&512&&$!==($=(((J=b[9].payload)==null?void 0:J.title)||b[9].id)+"")&&ve(W,$),x[0]&512&&M!==(M=((N=b[9].payload)==null?void 0:N.title)||b[9].id)&&o(L,"title",M),(Z=b[9].payload)!=null&&Z.content?E?E.p(b,x):(E=Ze(b),E.c(),E.m(e,O)):E&&(E.d(1),E=null),(ce=(he=b[9].payload)==null?void 0:he.tickers)!=null&&ce.length?D?D.p(b,x):(D=Ke(b),D.c(),D.m(e,I)):D&&(D.d(1),D=null),(p=(te=b[9].payload)==null?void 0:te.tags)!=null&&p.length?P?P.p(b,x):(P=Xe(b),P.c(),P.m(e,G)):P&&(P.d(1),P=null),x[0]&512&&Y!==(Y=`/manifold/thoughts/${b[9].id}`)&&o(ee,"href",Y)},d(b){b&&u(e),E&&E.d(),D&&D.d(),P&&P.d(),ie=!1,fe()}}}function Ze(r){let e,l=r[9].payload.content+"",s;return{c(){e=c("p"),s=re(l),this.h()},l(n){e=d(n,"P",{class:!0});var i=g(e);s=ne(i,l),i.forEach(u),this.h()},h(){o(e,"class","text-xs text-neutral-400 line-clamp-3")},m(n,i){ue(n,e,i),t(e,s)},p(n,i){i[0]&512&&l!==(l=n[9].payload.content+"")&&ve(s,l)},d(n){n&&u(e)}}}function Ke(r){let e,l=Le(r[9].payload.tickers),s=[];for(let n=0;n<l.length;n+=1)s[n]=Je(Ue(r,l,n));return{c(){e=c("div");for(let n=0;n<s.length;n+=1)s[n].c();this.h()},l(n){e=d(n,"DIV",{class:!0});var i=g(e);for(let a=0;a<s.length;a+=1)s[a].l(i);i.forEach(u),this.h()},h(){o(e,"class","flex gap-1 flex-wrap")},m(n,i){ue(n,e,i);for(let a=0;a<s.length;a+=1)s[a]&&s[a].m(e,null)},p(n,i){if(i[0]&512){l=Le(n[9].payload.tickers);let a;for(a=0;a<l.length;a+=1){const f=Ue(n,l,a);s[a]?s[a].p(f,i):(s[a]=Je(f),s[a].c(),s[a].m(e,null))}for(;a<s.length;a+=1)s[a].d(1);s.length=l.length}},d(n){n&&u(e),$e(s,n)}}}function Je(r){let e,l=r[34]+"",s,n;return{c(){e=c("span"),s=re(l),n=w(),this.h()},l(i){e=d(i,"SPAN",{class:!0});var a=g(e);s=ne(a,l),n=k(a),a.forEach(u),this.h()},h(){o(e,"class","text-xs bg-neutral-800 rounded px-2 py-1 font-mono")},m(i,a){ue(i,e,a),t(e,s),t(e,n)},p(i,a){a[0]&512&&l!==(l=i[34]+"")&&ve(s,l)},d(i){i&&u(e)}}}function Xe(r){let e,l=Le(r[9].payload.tags),s=[];for(let n=0;n<l.length;n+=1)s[n]=Ye(qe(r,l,n));return{c(){e=c("div");for(let n=0;n<s.length;n+=1)s[n].c();this.h()},l(n){e=d(n,"DIV",{class:!0});var i=g(e);for(let a=0;a<s.length;a+=1)s[a].l(i);i.forEach(u),this.h()},h(){o(e,"class","flex gap-1 flex-wrap")},m(n,i){ue(n,e,i);for(let a=0;a<s.length;a+=1)s[a]&&s[a].m(e,null)},p(n,i){if(i[0]&512){l=Le(n[9].payload.tags);let a;for(a=0;a<l.length;a+=1){const f=qe(n,l,a);s[a]?s[a].p(f,i):(s[a]=Ye(f),s[a].c(),s[a].m(e,null))}for(;a<s.length;a+=1)s[a].d(1);s.length=l.length}},d(n){n&&u(e),$e(s,n)}}}function Ye(r){let e,l,s=r[31]+"",n,i;return{c(){e=c("span"),l=re("#"),n=re(s),i=w(),this.h()},l(a){e=d(a,"SPAN",{class:!0});var f=g(e);l=ne(f,"#"),n=ne(f,s),i=k(f),f.forEach(u),this.h()},h(){o(e,"class","text-xs bg-neutral-800 text-neutral-400 rounded px-2 py-0.5")},m(a,f){ue(a,e,f),t(e,l),t(e,n),t(e,i)},p(a,f){f[0]&512&&s!==(s=a[31]+"")&&ve(n,s)},d(a){a&&u(e)}}}function _t(r){let e,l,s="Manifold Â· Graph",n,i,a,f,S,j,A,X,L,$=`<svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path></svg>
        Search`,W,M,se,O,I,G,C,q="Type",Q,R,ee,K,Y,ie="Status",fe,E,D,P,H,de="Tickers",h,v,_,y,V,F=r[2]?"Loadingâ€¦":"Reload Graph",b,x,T,B,m,U,J;i=new dt({});let N=r[13]&&Fe(r),Z=r[13]&&We(r);function he(p,z){return p[2]?pt:p[3]?ht:vt}let ce=he(r),te=ce(r);return B=new ct({props:{thoughtId:r[7],onClose:r[24]}}),{c(){e=c("div"),l=c("h1"),l.textContent=s,n=w(),Ge(i.$$.fragment),a=w(),f=c("div"),S=c("div"),j=c("div"),A=c("input"),X=w(),L=c("button"),L.innerHTML=$,W=w(),N&&N.c(),M=w(),Z&&Z.c(),se=w(),O=c("div"),I=c("div"),G=c("div"),C=c("label"),C.textContent=q,Q=w(),R=c("input"),ee=w(),K=c("div"),Y=c("label"),Y.textContent=ie,fe=w(),E=c("input"),D=w(),P=c("div"),H=c("label"),H.textContent=de,h=w(),v=c("input"),_=w(),y=c("div"),V=c("button"),b=re(F),x=w(),te.c(),T=w(),Ge(B.$$.fragment),this.h()},l(p){e=d(p,"DIV",{class:!0});var z=g(e);l=d(z,"H1",{class:!0,"data-svelte-h":!0}),oe(l)!=="svelte-tfz5wd"&&(l.textContent=s),n=k(z),Be(i.$$.fragment,z),a=k(z),f=d(z,"DIV",{class:!0});var le=g(f);S=d(le,"DIV",{class:!0});var ae=g(S);j=d(ae,"DIV",{class:!0});var ge=g(j);A=d(ge,"INPUT",{class:!0,placeholder:!0}),ge.forEach(u),X=k(ae),L=d(ae,"BUTTON",{class:!0,"data-svelte-h":!0}),oe(L)!=="svelte-6p83sr"&&(L.innerHTML=$),W=k(ae),N&&N.l(ae),ae.forEach(u),M=k(le),Z&&Z.l(le),le.forEach(u),se=k(z),O=d(z,"DIV",{class:!0});var ye=g(O);I=d(ye,"DIV",{class:!0});var pe=g(I);G=d(pe,"DIV",{});var ke=g(G);C=d(ke,"LABEL",{class:!0,"data-svelte-h":!0}),oe(C)!=="svelte-oldrrg"&&(C.textContent=q),Q=k(ke),R=d(ke,"INPUT",{class:!0,placeholder:!0}),ke.forEach(u),ee=k(pe),K=d(pe,"DIV",{});var me=g(K);Y=d(me,"LABEL",{class:!0,"data-svelte-h":!0}),oe(Y)!=="svelte-13cgyam"&&(Y.textContent=ie),fe=k(me),E=d(me,"INPUT",{class:!0,placeholder:!0}),me.forEach(u),D=k(pe),P=d(pe,"DIV",{});var _e=g(P);H=d(_e,"LABEL",{class:!0,"data-svelte-h":!0}),oe(H)!=="svelte-1v3gqa7"&&(H.textContent=de),h=k(_e),v=d(_e,"INPUT",{class:!0,placeholder:!0}),_e.forEach(u),_=k(pe),y=d(pe,"DIV",{class:!0});var Ce=g(y);V=d(Ce,"BUTTON",{class:!0});var Ie=g(V);b=ne(Ie,F),Ie.forEach(u),Ce.forEach(u),pe.forEach(u),ye.forEach(u),x=k(z),te.l(z),z.forEach(u),T=k(p),Be(B.$$.fragment,p),this.h()},h(){o(l,"class","text-2xl font-semibold"),o(A,"class","px-4 py-2 rounded bg-neutral-800 w-full text-sm border border-neutral-700 focus:border-indigo-500 focus:outline-none transition-colors"),o(A,"placeholder","Search thoughts to mask graphâ€¦ (semantic search across all fields)"),o(j,"class","flex-1"),o(L,"class","px-4 py-2 rounded bg-indigo-600 hover:bg-indigo-500 text-sm font-medium transition-colors flex items-center gap-2"),o(S,"class","flex gap-2"),o(f,"class","bg-gradient-to-r from-neutral-900 to-neutral-800 rounded-lg p-4 border border-neutral-700"),o(C,"class","text-xs text-neutral-400 mb-1 block"),o(R,"class","px-3 py-2 rounded bg-neutral-800 w-full text-sm"),o(R,"placeholder","observation, hypothesisâ€¦"),o(Y,"class","text-xs text-neutral-400 mb-1 block"),o(E,"class","px-3 py-2 rounded bg-neutral-800 w-full text-sm"),o(E,"placeholder","active, validatedâ€¦"),o(H,"class","text-xs text-neutral-400 mb-1 block"),o(v,"class","px-3 py-2 rounded bg-neutral-800 w-full text-sm"),o(v,"placeholder","NVDA,AMD,TSLA"),o(V,"class","px-4 py-2 rounded bg-indigo-600 hover:bg-indigo-500 w-full text-sm font-medium transition-colors"),V.disabled=r[2],o(y,"class","flex items-end"),o(I,"class","grid grid-cols-1 md:grid-cols-4 gap-3"),o(O,"class","bg-neutral-900 rounded-lg p-4 border border-neutral-800"),o(e,"class","p-6 space-y-4 h-full overflow-auto")},m(p,z){ue(p,e,z),t(e,l),t(e,n),je(i,e,null),t(e,a),t(e,f),t(f,S),t(S,j),t(j,A),xe(A,r[11]),t(S,X),t(S,L),t(S,W),N&&N.m(S,null),t(f,M),Z&&Z.m(f,null),t(e,se),t(e,O),t(O,I),t(I,G),t(G,C),t(G,Q),t(G,R),xe(R,r[4]),t(I,ee),t(I,K),t(K,Y),t(K,fe),t(K,E),xe(E,r[5]),t(I,D),t(I,P),t(P,H),t(P,h),t(P,v),xe(v,r[6]),t(I,_),t(I,y),t(y,V),t(V,b),t(e,x),te.m(e,null),ue(p,T,z),je(B,p,z),m=!0,U||(J=[be(A,"input",r[17]),be(A,"keydown",r[18]),be(L,"click",r[15]),be(R,"input",r[19]),be(E,"input",r[20]),be(v,"input",r[21]),be(V,"click",r[14])],U=!0)},p(p,z){z[0]&2048&&A.value!==p[11]&&xe(A,p[11]),p[13]?N?N.p(p,z):(N=Fe(p),N.c(),N.m(S,null)):N&&(N.d(1),N=null),p[13]?Z?Z.p(p,z):(Z=We(p),Z.c(),Z.m(f,null)):Z&&(Z.d(1),Z=null),z[0]&16&&R.value!==p[4]&&xe(R,p[4]),z[0]&32&&E.value!==p[5]&&xe(E,p[5]),z[0]&64&&v.value!==p[6]&&xe(v,p[6]),(!m||z[0]&4)&&F!==(F=p[2]?"Loadingâ€¦":"Reload Graph")&&ve(b,F),(!m||z[0]&4)&&(V.disabled=p[2]),ce===(ce=he(p))&&te?te.p(p,z):(te.d(1),te=ce(p),te&&(te.c(),te.m(e,null)));const le={};z[0]&128&&(le.thoughtId=p[7]),z[0]&128&&(le.onClose=p[24]),B.$set(le)},i(p){m||(Re(i.$$.fragment,p),Re(B.$$.fragment,p),m=!0)},o(p){Oe(i.$$.fragment,p),Oe(B.$$.fragment,p),m=!1},d(p){p&&(u(e),u(T)),ze(i),N&&N.d(),Z&&Z.d(),te.d(),ze(B,p),U=!1,st(J)}}}function De(r,e){let s={observation:"#60a5fa",hypothesis:"#f59e0b",analysis:"#34d399",decision:"#f472b6",reflection:"#a78bfa",question:"#f87171"}[r||""]||"#9ca3af";return e==="validated"&&(s="#22c55e"),(e==="invalidated"||e==="deleted")&&(s="#ef4444"),e==="quarantined"&&(s="#eab308"),s}function Ve(r){return{related:"#6b7280",supports:"#22c55e",contradicts:"#ef4444",followup:"#3b82f6",duplicate:"#a855f7",informs:"#14b8a6",questions:"#f59e0b"}[r||"related"]||"#6b7280"}function bt(r,e,l){let s,n,i,a=[],f=[],S=!1,j=null,A="",X="",L="",$=null,W,M=null,se=null,O=null,I="",G=[],C=!1;async function q(){l(2,S=!0),l(3,j=null);try{const h=await it({limit:400,type:A||void 0,status:X||void 0,tickers:L||void 0});l(0,a=h.nodes||[]),l(1,f=h.edges||[]),await nt(),setTimeout(()=>K(),50)}catch(h){l(3,j=(h==null?void 0:h.message)??"Error")}finally{l(2,S=!1)}}async function Q(){if(!I.trim()){l(13,C=!1),l(12,G=[]),ee();return}try{const h=await ot({q:I,limit:100});l(12,G=(h.results||[]).map(v=>String(v.id))),l(13,C=!0),ee()}catch(h){console.error("Search failed:",h)}}function R(){l(11,I=""),l(13,C=!1),l(12,G=[]),ee()}function ee(){if(!M)return;const h=M.getGraph();!C||G.length===0?(h.forEachNode(v=>{var y,V;const _=a.find(F=>String(F.id)===String(v));h.setNodeAttribute(v,"color",De((y=_==null?void 0:_.payload)==null?void 0:y.type,(V=_==null?void 0:_.payload)==null?void 0:V.status)),h.setNodeAttribute(v,"hidden",!1)}),h.forEachEdge(v=>{const _=h.getEdgeAttributes(v);h.setEdgeAttribute(v,"color",Ve(_.label)),h.setEdgeAttribute(v,"hidden",!1)})):(h.forEachNode(v=>{var V,F;const _=G.includes(String(v)),y=a.find(b=>String(b.id)===String(v));_?(h.setNodeAttribute(v,"color",De((V=y==null?void 0:y.payload)==null?void 0:V.type,(F=y==null?void 0:y.payload)==null?void 0:F.status)),h.setNodeAttribute(v,"hidden",!1)):h.setNodeAttribute(v,"hidden",!0)}),h.forEachEdge(v=>{const _=h.source(v),y=h.target(v),V=G.includes(String(_)),F=G.includes(String(y)),b=h.getEdgeAttributes(v);V&&F?(h.setEdgeAttribute(v,"color",Ve(b.label)),h.setEdgeAttribute(v,"hidden",!1)):h.setEdgeAttribute(v,"hidden",!0)})),M.refresh()}at(async()=>{s=(await Ae(()=>import("../chunks/D7bLzxqH.js"),__vite__mapDeps([0,1,2]),import.meta.url)).default,n=(await Ae(async()=>{const{MultiDirectedGraph:v}=await import("../chunks/C2Zuo1AT.js");return{MultiDirectedGraph:v}},__vite__mapDeps([3,1]),import.meta.url)).MultiDirectedGraph,i=(await Ae(async()=>{const{default:v}=await import("../chunks/NlG_On0W.js").then(_=>_.i);return{default:v}},__vite__mapDeps([4,2]),import.meta.url)).default,await q()});function K(){var v,_,y,V,F,b,x;if(!W){console.warn("Container element not ready");return}if(!s||!n){console.warn("Sigma or Graphology not loaded");return}const h=W.getBoundingClientRect();if(h.width===0||h.height===0){console.warn("Container has zero dimensions, retrying..."),setTimeout(()=>K(),100);return}try{const T=new n;for(const m of a)T.addNode(m.id,{label:((v=m.payload)==null?void 0:v.title)||m.id,type:"circle",thoughtType:(_=m.payload)==null?void 0:_.type,status:(y=m.payload)==null?void 0:y.status,size:5+Math.min(10,(((F=(V=m.payload)==null?void 0:V.tickers)==null?void 0:F.length)||0)*2),color:De((b=m.payload)==null?void 0:b.type,(x=m.payload)==null?void 0:x.status),x:Math.random(),y:Math.random()});let B=0;for(const m of f){const U=`edge_${B++}`;if(T.hasNode(m.from)&&T.hasNode(m.to)){const J=Ve(m.type),N=Math.max(1,Math.min(5,(m.weight||1)*3));T.addEdge(m.from,m.to,{label:m.type||"related",size:N,color:J,type:"arrow",relationWeight:m.weight||1})}}T.order>0&&i.assign(T,{iterations:150,settings:{gravity:1.5,scalingRatio:15,strongGravityMode:!0,barnesHutOptimize:!0}}),M&&(M.kill(),M=null),M=new s(T,W,{renderLabels:!0,renderEdgeLabels:!0,enableEdgeEvents:!0,labelSize:14,labelWeight:"bold",labelColor:{color:"#e5e5e5"},edgeLabelSize:11,edgeLabelWeight:"normal",edgeLabelColor:{color:"#a3a3a3"},defaultNodeColor:"#9ca3af",defaultEdgeColor:"#4b5563",labelRenderedSizeThreshold:8}),M.on("clickNode",({node:m})=>{const U=a.find(J=>String(J.id)===String(m));l(9,se={id:String(m),payload:U==null?void 0:U.payload})}),M.on("doubleClickNode",({node:m})=>{l(7,$=String(m))}),M.on("enterEdge",({edge:m})=>{var ce,te;const U=T.getEdgeAttributes(m),J=T.source(m),N=T.target(m),Z=a.find(p=>String(p.id)===String(J)),he=a.find(p=>String(p.id)===String(N));l(10,O={id:m,type:U.label||"related",weight:U.relationWeight||1,from:{id:J,title:((ce=Z==null?void 0:Z.payload)==null?void 0:ce.title)||J},to:{id:N,title:((te=he==null?void 0:he.payload)==null?void 0:te.title)||N}})}),M.on("leaveEdge",()=>{l(10,O=null)}),console.log(`Graph rendered: ${T.order} nodes, ${T.size} edges`)}catch(T){console.error("Failed to render graph:",T),l(3,j=`Graph rendering failed: ${T.message}`)}}function Y(){I=this.value,l(11,I)}const ie=h=>h.key==="Enter"&&Q();function fe(){A=this.value,l(4,A)}function E(){X=this.value,l(5,X)}function D(){L=this.value,l(6,L)}function P(h){rt[h?"unshift":"push"](()=>{W=h,l(8,W)})}return[a,f,S,j,A,X,L,$,W,se,O,I,G,C,q,Q,R,Y,ie,fe,E,D,P,()=>{l(7,$=se.id)},()=>{l(7,$=null)}]}class Vt extends et{constructor(e){super(),tt(this,e,bt,_t,lt,{},null,[-1,-1])}}export{Vt as component,Dt as universal};
