import{S as jt,i as St,s as Rt,d as c,v as X,w as F,z as nt,b as Z,c as t,m as i,e as d,f as p,h as b,j as u,k as g,p as Bt,a as De,o as L,g as fe,t as ve,n as We,B as qe,u as Lt,A as at,C as Oe,q as ht,D as ze,E as Fe}from"../chunks/BeOz57Dq.js";import{e as ot}from"../chunks/D_ZdN6Q8.js";import"../chunks/IHki7fMi.js";import{g as yt}from"../chunks/D98msYD6.js";import{c as tt}from"../chunks/CG6lULoT.js";import{C as it}from"../chunks/Du_eEk-g.js";import{T as Mt}from"../chunks/CrwpqqyU.js";import{S as Nt}from"../chunks/BjHaTlr3.js";function It(l,e,s){const r=l.slice();return r[11]=e[s],r[13]=s,r}function Vt(l,e,s){const r=l.slice();return r[14]=e[s],r}function Et(l){let e,s,r="‚ö†Ô∏è",a,m,n;return{c(){e=u("div"),s=u("span"),s.textContent=r,a=g(),m=u("div"),n=ve(l[4]),this.h()},l(f){e=d(f,"DIV",{class:!0});var o=p(e);s=d(o,"SPAN",{class:!0,"data-svelte-h":!0}),L(s)!=="svelte-imdwne"&&(s.textContent=r),a=b(o),m=d(o,"DIV",{class:!0});var _=p(m);n=fe(_,l[4]),_.forEach(c),o.forEach(c),this.h()},h(){i(s,"class","text-2xl"),i(m,"class","flex-1"),i(e,"class","bg-gradient-to-r from-red-900/40 to-red-800/30 border-2 border-red-600/50 rounded-xl p-5 mb-8 text-red-300 shadow-lg shadow-red-900/30 flex items-center gap-3")},m(f,o){Z(f,e,o),t(e,s),t(e,a),t(e,m),t(m,n)},p(f,o){o&16&&De(n,f[4])},d(f){f&&c(e)}}}function Pt(l){let e,s,r,a="üí∞",m,n,f="Total Cost (7d)",o,_,h,D,C,R,$,V=l[0].total.runs+"",q,U,ee,x,M,te="‚ö°",j,y,I="Total Tokens (7d)",re,E,H,le,ne,Ue=`<span class="inline-block w-1.5 h-1.5 bg-blue-500 rounded-full"></span>
          Across all agents`,_e,N,ie,Ke="ü§ñ",de,J,Xe="Active Agents",je,ae,he=l[0].total.agents+"",Ce,Se,K,xe=`<span class="inline-block w-1.5 h-1.5 bg-purple-500 rounded-full"></span>
          Ready to run`,Ye,Y,se,pe="üìä",Re,be,Q="Avg Cost per Run",Be,ye,ge,Ee,O,lt=`<span class="inline-block w-1.5 h-1.5 bg-amber-500 rounded-full"></span>
          Last 7 days`,S,T,k,we=`<h2 class="text-2xl font-bold text-white flex items-center gap-3"><span class="text-3xl">ü§ñ</span>
          Agents</h2>`,$e,W,z,Ie,B,ue,Ze=`<h2 class="text-2xl font-bold text-white flex items-center gap-3"><span class="text-3xl">üèÉ</span>
          Recent Runs</h2>`,Te,Ve,oe,ke,pt='<tr><th class="px-6 py-4 text-left font-bold text-neutral-300 uppercase tracking-wide text-xs">Agent</th> <th class="px-6 py-4 text-left font-bold text-neutral-300 uppercase tracking-wide text-xs">Status</th> <th class="px-6 py-4 text-left font-bold text-neutral-300 uppercase tracking-wide text-xs">Tokens</th> <th class="px-6 py-4 text-left font-bold text-neutral-300 uppercase tracking-wide text-xs">Cost</th> <th class="px-6 py-4 text-left font-bold text-neutral-300 uppercase tracking-wide text-xs">Created</th></tr>',ut,Ne,ct,Ge,Ae,bt='<span>Alle Runs anzeigen</span> <span class="group-hover:translate-x-1 transition-transform">‚Üí</span>',Je,ft,gt;h=new it({props:{cost:l[0].total.cost,showDetail:!1}}),H=new Mt({props:{tokens:l[0].total.tokens}}),ge=new it({props:{cost:l[0].total.runs>0?l[0].total.cost/l[0].total.runs:0,showDetail:!1}});const mt=[zt,Ot],Le=[];function _t(v,w){return v[1].length===0?0:1}W=_t(l),z=Le[W]=mt[W](l);let Pe=ot(l[2]),A=[];for(let v=0;v<Pe.length;v+=1)A[v]=At(It(l,Pe,v));const Ht=v=>X(A[v],1,1,()=>{A[v]=null});return{c(){e=u("div"),s=u("div"),r=u("div"),r.textContent=a,m=g(),n=u("div"),n.textContent=f,o=g(),_=u("div"),Fe(h.$$.fragment),D=g(),C=u("div"),R=u("span"),$=g(),q=ve(V),U=ve(" runs"),ee=g(),x=u("div"),M=u("div"),M.textContent=te,j=g(),y=u("div"),y.textContent=I,re=g(),E=u("div"),Fe(H.$$.fragment),le=g(),ne=u("div"),ne.innerHTML=Ue,_e=g(),N=u("div"),ie=u("div"),ie.textContent=Ke,de=g(),J=u("div"),J.textContent=Xe,je=g(),ae=u("div"),Ce=ve(he),Se=g(),K=u("div"),K.innerHTML=xe,Ye=g(),Y=u("div"),se=u("div"),se.textContent=pe,Re=g(),be=u("div"),be.textContent=Q,Be=g(),ye=u("div"),Fe(ge.$$.fragment),Ee=g(),O=u("div"),O.innerHTML=lt,S=g(),T=u("div"),k=u("div"),k.innerHTML=we,$e=g(),z.c(),Ie=g(),B=u("div"),ue=u("div"),ue.innerHTML=Ze,Te=g(),Ve=u("div"),oe=u("table"),ke=u("thead"),ke.innerHTML=pt,ut=g(),Ne=u("tbody");for(let v=0;v<A.length;v+=1)A[v].c();ct=g(),Ge=u("div"),Ae=u("button"),Ae.innerHTML=bt,this.h()},l(v){e=d(v,"DIV",{class:!0});var w=p(e);s=d(w,"DIV",{class:!0});var G=p(s);r=d(G,"DIV",{class:!0,"data-svelte-h":!0}),L(r)!=="svelte-1dbss2t"&&(r.textContent=a),m=b(G),n=d(G,"DIV",{class:!0,"data-svelte-h":!0}),L(n)!=="svelte-ufpwls"&&(n.textContent=f),o=b(G),_=d(G,"DIV",{class:!0});var et=p(_);ze(h.$$.fragment,et),et.forEach(c),D=b(G),C=d(G,"DIV",{class:!0});var Me=p(C);R=d(Me,"SPAN",{class:!0}),p(R).forEach(c),$=b(Me),q=fe(Me,V),U=fe(Me," runs"),Me.forEach(c),G.forEach(c),ee=b(w),x=d(w,"DIV",{class:!0});var ce=p(x);M=d(ce,"DIV",{class:!0,"data-svelte-h":!0}),L(M)!=="svelte-1jm2r1n"&&(M.textContent=te),j=b(ce),y=d(ce,"DIV",{class:!0,"data-svelte-h":!0}),L(y)!=="svelte-b1dcd5"&&(y.textContent=I),re=b(ce),E=d(ce,"DIV",{class:!0});var P=p(E);ze(H.$$.fragment,P),P.forEach(c),le=b(ce),ne=d(ce,"DIV",{class:!0,"data-svelte-h":!0}),L(ne)!=="svelte-nwsvpm"&&(ne.innerHTML=Ue),ce.forEach(c),_e=b(w),N=d(w,"DIV",{class:!0});var me=p(N);ie=d(me,"DIV",{class:!0,"data-svelte-h":!0}),L(ie)!=="svelte-1ogyb0c"&&(ie.textContent=Ke),de=b(me),J=d(me,"DIV",{class:!0,"data-svelte-h":!0}),L(J)!=="svelte-1dtgv4h"&&(J.textContent=Xe),je=b(me),ae=d(me,"DIV",{class:!0});var xt=p(ae);Ce=fe(xt,he),xt.forEach(c),Se=b(me),K=d(me,"DIV",{class:!0,"data-svelte-h":!0}),L(K)!=="svelte-16wwa0l"&&(K.innerHTML=xe),me.forEach(c),Ye=b(w),Y=d(w,"DIV",{class:!0});var He=p(Y);se=d(He,"DIV",{class:!0,"data-svelte-h":!0}),L(se)!=="svelte-167pi77"&&(se.textContent=pe),Re=b(He),be=d(He,"DIV",{class:!0,"data-svelte-h":!0}),L(be)!=="svelte-1aluekf"&&(be.textContent=Q),Be=b(He),ye=d(He,"DIV",{class:!0});var wt=p(ye);ze(ge.$$.fragment,wt),wt.forEach(c),Ee=b(He),O=d(He,"DIV",{class:!0,"data-svelte-h":!0}),L(O)!=="svelte-m36npl"&&(O.innerHTML=lt),He.forEach(c),w.forEach(c),S=b(v),T=d(v,"DIV",{class:!0});var st=p(T);k=d(st,"DIV",{class:!0,"data-svelte-h":!0}),L(k)!=="svelte-1uqnv17"&&(k.innerHTML=we),$e=b(st),z.l(st),st.forEach(c),Ie=b(v),B=d(v,"DIV",{});var Qe=p(B);ue=d(Qe,"DIV",{class:!0,"data-svelte-h":!0}),L(ue)!=="svelte-6u25z9"&&(ue.innerHTML=Ze),Te=b(Qe),Ve=d(Qe,"DIV",{class:!0});var kt=p(Ve);oe=d(kt,"TABLE",{class:!0});var rt=p(oe);ke=d(rt,"THEAD",{class:!0,"data-svelte-h":!0}),L(ke)!=="svelte-1iqbffi"&&(ke.innerHTML=pt),ut=b(rt),Ne=d(rt,"TBODY",{class:!0});var Dt=p(Ne);for(let vt=0;vt<A.length;vt+=1)A[vt].l(Dt);Dt.forEach(c),rt.forEach(c),kt.forEach(c),ct=b(Qe),Ge=d(Qe,"DIV",{class:!0});var Ct=p(Ge);Ae=d(Ct,"BUTTON",{class:!0,"data-svelte-h":!0}),L(Ae)!=="svelte-2prj5f"&&(Ae.innerHTML=bt),Ct.forEach(c),Qe.forEach(c),this.h()},h(){i(r,"class","absolute top-4 right-4 text-3xl opacity-20 group-hover:opacity-30 transition-opacity"),i(n,"class","text-sm font-medium text-emerald-400 mb-3 uppercase tracking-wide"),i(_,"class","text-4xl font-bold mb-2 text-white"),i(R,"class","inline-block w-1.5 h-1.5 bg-emerald-500 rounded-full"),i(C,"class","text-xs text-neutral-400 flex items-center gap-1"),i(s,"class","group relative bg-gradient-to-br from-emerald-900/40 to-neutral-800 border border-emerald-700/30 rounded-xl p-6 shadow-lg hover:shadow-emerald-500/20 hover:border-emerald-600/50 transition-all duration-300"),i(M,"class","absolute top-4 right-4 text-3xl opacity-20 group-hover:opacity-30 transition-opacity"),i(y,"class","text-sm font-medium text-blue-400 mb-3 uppercase tracking-wide"),i(E,"class","text-4xl font-bold mb-2 text-white"),i(ne,"class","text-xs text-neutral-400 flex items-center gap-1"),i(x,"class","group relative bg-gradient-to-br from-blue-900/40 to-neutral-800 border border-blue-700/30 rounded-xl p-6 shadow-lg hover:shadow-blue-500/20 hover:border-blue-600/50 transition-all duration-300"),i(ie,"class","absolute top-4 right-4 text-3xl opacity-20 group-hover:opacity-30 transition-opacity"),i(J,"class","text-sm font-medium text-purple-400 mb-3 uppercase tracking-wide"),i(ae,"class","text-4xl font-bold mb-2 text-white"),i(K,"class","text-xs text-neutral-400 flex items-center gap-1"),i(N,"class","group relative bg-gradient-to-br from-purple-900/40 to-neutral-800 border border-purple-700/30 rounded-xl p-6 shadow-lg hover:shadow-purple-500/20 hover:border-purple-600/50 transition-all duration-300"),i(se,"class","absolute top-4 right-4 text-3xl opacity-20 group-hover:opacity-30 transition-opacity"),i(be,"class","text-sm font-medium text-amber-400 mb-3 uppercase tracking-wide"),i(ye,"class","text-4xl font-bold mb-2 text-white"),i(O,"class","text-xs text-neutral-400 flex items-center gap-1"),i(Y,"class","group relative bg-gradient-to-br from-amber-900/40 to-neutral-800 border border-amber-700/30 rounded-xl p-6 shadow-lg hover:shadow-amber-500/20 hover:border-amber-600/50 transition-all duration-300"),i(e,"class","grid grid-cols-4 gap-6 mb-10"),i(k,"class","flex items-center justify-between mb-6"),i(T,"class","mb-10"),i(ue,"class","flex items-center justify-between mb-6"),i(ke,"class","bg-gradient-to-r from-neutral-800 to-neutral-900 border-b-2 border-neutral-600"),i(Ne,"class","divide-y divide-neutral-700/50"),i(oe,"class","w-full text-sm"),i(Ve,"class","bg-gradient-to-br from-neutral-800 to-neutral-900 border border-neutral-700 rounded-xl overflow-hidden shadow-lg"),i(Ae,"class","group px-6 py-3 text-sm font-medium bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-500 hover:to-blue-600 rounded-xl shadow-lg hover:shadow-blue-500/50 transition-all duration-200 flex items-center gap-2"),i(Ge,"class","mt-6 flex justify-center")},m(v,w){Z(v,e,w),t(e,s),t(s,r),t(s,m),t(s,n),t(s,o),t(s,_),Oe(h,_,null),t(s,D),t(s,C),t(C,R),t(C,$),t(C,q),t(C,U),t(e,ee),t(e,x),t(x,M),t(x,j),t(x,y),t(x,re),t(x,E),Oe(H,E,null),t(x,le),t(x,ne),t(e,_e),t(e,N),t(N,ie),t(N,de),t(N,J),t(N,je),t(N,ae),t(ae,Ce),t(N,Se),t(N,K),t(e,Ye),t(e,Y),t(Y,se),t(Y,Re),t(Y,be),t(Y,Be),t(Y,ye),Oe(ge,ye,null),t(Y,Ee),t(Y,O),Z(v,S,w),Z(v,T,w),t(T,k),t(T,$e),Le[W].m(T,null),Z(v,Ie,w),Z(v,B,w),t(B,ue),t(B,Te),t(B,Ve),t(Ve,oe),t(oe,ke),t(oe,ut),t(oe,Ne);for(let G=0;G<A.length;G+=1)A[G]&&A[G].m(Ne,null);t(B,ct),t(B,Ge),t(Ge,Ae),Je=!0,ft||(gt=ht(Ae,"click",l[9]),ft=!0)},p(v,w){const G={};w&1&&(G.cost=v[0].total.cost),h.$set(G),(!Je||w&1)&&V!==(V=v[0].total.runs+"")&&De(q,V);const et={};w&1&&(et.tokens=v[0].total.tokens),H.$set(et),(!Je||w&1)&&he!==(he=v[0].total.agents+"")&&De(Ce,he);const Me={};w&1&&(Me.cost=v[0].total.runs>0?v[0].total.cost/v[0].total.runs:0),ge.$set(Me);let ce=W;if(W=_t(v),W===ce?Le[W].p(v,w):(at(),X(Le[ce],1,1,()=>{Le[ce]=null}),nt(),z=Le[W],z?z.p(v,w):(z=Le[W]=mt[W](v),z.c()),F(z,1),z.m(T,null)),w&4){Pe=ot(v[2]);let P;for(P=0;P<Pe.length;P+=1){const me=It(v,Pe,P);A[P]?(A[P].p(me,w),F(A[P],1)):(A[P]=At(me),A[P].c(),F(A[P],1),A[P].m(Ne,null))}for(at(),P=Pe.length;P<A.length;P+=1)Ht(P);nt()}},i(v){if(!Je){F(h.$$.fragment,v),F(H.$$.fragment,v),F(ge.$$.fragment,v),F(z);for(let w=0;w<Pe.length;w+=1)F(A[w]);Je=!0}},o(v){X(h.$$.fragment,v),X(H.$$.fragment,v),X(ge.$$.fragment,v),X(z),A=A.filter(Boolean);for(let w=0;w<A.length;w+=1)X(A[w]);Je=!1},d(v){v&&(c(e),c(S),c(T),c(Ie),c(B)),qe(h),qe(H),qe(ge),Le[W].d(),Lt(A,v),ft=!1,gt()}}}function qt(l){let e,s='<div class="text-center"><div class="inline-block animate-spin text-5xl mb-4">‚öôÔ∏è</div> <div class="text-xl text-neutral-400 font-medium">Dashboard wird geladen...</div></div>';return{c(){e=u("div"),e.innerHTML=s,this.h()},l(r){e=d(r,"DIV",{class:!0,"data-svelte-h":!0}),L(e)!=="svelte-c9h5f4"&&(e.innerHTML=s),this.h()},h(){i(e,"class","flex items-center justify-center h-96")},m(r,a){Z(r,e,a)},p:We,i:We,o:We,d(r){r&&c(e)}}}function Ot(l){let e,s,r=ot(l[1]),a=[];for(let n=0;n<r.length;n+=1)a[n]=Tt(Vt(l,r,n));const m=n=>X(a[n],1,1,()=>{a[n]=null});return{c(){e=u("div");for(let n=0;n<a.length;n+=1)a[n].c();this.h()},l(n){e=d(n,"DIV",{class:!0});var f=p(e);for(let o=0;o<a.length;o+=1)a[o].l(f);f.forEach(c),this.h()},h(){i(e,"class","grid grid-cols-3 gap-6")},m(n,f){Z(n,e,f);for(let o=0;o<a.length;o+=1)a[o]&&a[o].m(e,null);s=!0},p(n,f){if(f&98){r=ot(n[1]);let o;for(o=0;o<r.length;o+=1){const _=Vt(n,r,o);a[o]?(a[o].p(_,f),F(a[o],1)):(a[o]=Tt(_),a[o].c(),F(a[o],1),a[o].m(e,null))}for(at(),o=r.length;o<a.length;o+=1)m(o);nt()}},i(n){if(!s){for(let f=0;f<r.length;f+=1)F(a[f]);s=!0}},o(n){a=a.filter(Boolean);for(let f=0;f<a.length;f+=1)X(a[f]);s=!1},d(n){n&&c(e),Lt(a,n)}}}function zt(l){let e,s='<div class="text-5xl mb-4 opacity-30">üîç</div> <div class="text-xl text-neutral-400 mb-2">Keine Agents gefunden</div> <div class="text-sm text-neutral-500">Agents werden automatisch erkannt, wenn sie konfiguriert sind</div>';return{c(){e=u("div"),e.innerHTML=s,this.h()},l(r){e=d(r,"DIV",{class:!0,"data-svelte-h":!0}),L(e)!=="svelte-199g2tm"&&(e.innerHTML=s),this.h()},h(){i(e,"class","bg-gradient-to-br from-neutral-800 to-neutral-900 border border-neutral-700 rounded-xl p-12 text-center")},m(r,a){Z(r,e,a)},p:We,i:We,o:We,d(r){r&&c(e)}}}function Ft(l){let e;return{c(){e=ve("‚ñ∂Ô∏è")},l(s){e=fe(s,"‚ñ∂Ô∏è")},m(s,r){Z(s,e,r)},d(s){s&&c(e)}}}function Ut(l){let e,s="‚öôÔ∏è";return{c(){e=u("span"),e.textContent=s,this.h()},l(r){e=d(r,"SPAN",{class:!0,"data-svelte-h":!0}),L(e)!=="svelte-8cun27"&&(e.textContent=s),this.h()},h(){i(e,"class","animate-spin")},m(r,a){Z(r,e,a)},d(r){r&&c(e)}}}function $t(l){let e,s,r="Last Run",a,m,n=dt(l[14].last_run_at)+"",f;return{c(){e=u("div"),s=u("div"),s.textContent=r,a=g(),m=u("div"),f=ve(n),this.h()},l(o){e=d(o,"DIV",{class:!0});var _=p(e);s=d(_,"DIV",{class:!0,"data-svelte-h":!0}),L(s)!=="svelte-7d7c99"&&(s.textContent=r),a=b(_),m=d(_,"DIV",{class:!0});var h=p(m);f=fe(h,n),h.forEach(c),_.forEach(c),this.h()},h(){i(s,"class","text-xs font-medium text-neutral-400 uppercase tracking-wide"),i(m,"class","text-sm font-semibold text-neutral-300"),i(e,"class","flex items-center justify-between py-2.5 px-3 bg-neutral-900/50 rounded-lg border border-neutral-700/50")},m(o,_){Z(o,e,_),t(e,s),t(e,a),t(e,m),t(m,f)},p(o,_){_&2&&n!==(n=dt(o[14].last_run_at)+"")&&De(f,n)},d(o){o&&c(e)}}}function Tt(l){let e,s,r,a,m,n,f,o=l[14].name+"",_,h,D,C,R,$,V=l[14].enabled?"Aktiv":"Inaktiv",q,U,ee,x,M,te,j,y="Run",I,re,E,H,le,ne="Model",Ue,_e,N=(l[14].model||"N/A")+"",ie,Ke,de,J,Xe="Total Runs",je,ae,he=l[14].total_runs+"",Ce,Se,K,xe,Ye="Total Cost",Y,se,pe,Re,be,Q,Be,ye;function ge(T,k){return k&34&&(M=null),M==null&&(M=!!T[5].has(T[14].name)),M?Ut:Ft}let Ee=ge(l,-1),O=Ee(l);function lt(){return l[7](l[14])}pe=new it({props:{cost:l[14].total_cost_usd,showDetail:!1}});let S=l[14].last_run_at&&$t(l);return{c(){e=u("div"),s=u("div"),a=g(),m=u("div"),n=u("div"),f=u("h3"),_=ve(o),h=g(),D=u("div"),C=u("span"),$=g(),q=ve(V),ee=g(),x=u("button"),O.c(),te=g(),j=u("span"),j.textContent=y,re=g(),E=u("div"),H=u("div"),le=u("div"),le.textContent=ne,Ue=g(),_e=u("div"),ie=ve(N),Ke=g(),de=u("div"),J=u("div"),J.textContent=Xe,je=g(),ae=u("div"),Ce=ve(he),Se=g(),K=u("div"),xe=u("div"),xe.textContent=Ye,Y=g(),se=u("div"),Fe(pe.$$.fragment),Re=g(),S&&S.c(),be=g(),this.h()},l(T){e=d(T,"DIV",{class:!0});var k=p(e);s=d(k,"DIV",{class:!0}),p(s).forEach(c),a=b(k),m=d(k,"DIV",{class:!0});var we=p(m);n=d(we,"DIV",{class:!0});var $e=p(n);f=d($e,"H3",{class:!0});var W=p(f);_=fe(W,o),W.forEach(c),h=b($e),D=d($e,"DIV",{class:!0});var z=p(D);C=d(z,"SPAN",{class:!0}),p(C).forEach(c),$=b(z),q=fe(z,V),z.forEach(c),$e.forEach(c),ee=b(we),x=d(we,"BUTTON",{class:!0});var Ie=p(x);O.l(Ie),te=b(Ie),j=d(Ie,"SPAN",{"data-svelte-h":!0}),L(j)!=="svelte-1sct7yh"&&(j.textContent=y),Ie.forEach(c),we.forEach(c),re=b(k),E=d(k,"DIV",{class:!0});var B=p(E);H=d(B,"DIV",{class:!0});var ue=p(H);le=d(ue,"DIV",{class:!0,"data-svelte-h":!0}),L(le)!=="svelte-14cltl5"&&(le.textContent=ne),Ue=b(ue),_e=d(ue,"DIV",{class:!0});var Ze=p(_e);ie=fe(Ze,N),Ze.forEach(c),ue.forEach(c),Ke=b(B),de=d(B,"DIV",{class:!0});var Te=p(de);J=d(Te,"DIV",{class:!0,"data-svelte-h":!0}),L(J)!=="svelte-jtd63o"&&(J.textContent=Xe),je=b(Te),ae=d(Te,"DIV",{class:!0});var Ve=p(ae);Ce=fe(Ve,he),Ve.forEach(c),Te.forEach(c),Se=b(B),K=d(B,"DIV",{class:!0});var oe=p(K);xe=d(oe,"DIV",{class:!0,"data-svelte-h":!0}),L(xe)!=="svelte-15bn573"&&(xe.textContent=Ye),Y=b(oe),se=d(oe,"DIV",{class:!0});var ke=p(se);ze(pe.$$.fragment,ke),ke.forEach(c),oe.forEach(c),Re=b(B),S&&S.l(B),B.forEach(c),be=b(k),k.forEach(c),this.h()},h(){i(s,"class",r="absolute top-4 right-4 w-3 h-3 rounded-full "+(l[14].enabled?"bg-green-500 shadow-lg shadow-green-500/50":"bg-neutral-500")+" animate-pulse"),i(f,"class","font-bold text-xl mb-2 text-white group-hover:text-blue-400 transition-colors"),i(C,"class",R="w-1.5 h-1.5 rounded-full "+(l[14].enabled?"bg-green-400":"bg-neutral-400")),i(D,"class",U="inline-flex items-center gap-2 text-xs font-medium px-2.5 py-1 rounded-full "+(l[14].enabled?"bg-green-500/20 text-green-400 border border-green-500/30":"bg-neutral-700 text-neutral-400 border border-neutral-600")),i(n,"class","flex-1"),x.disabled=I=!l[14].enabled||l[5].has(l[14].name),i(x,"class","px-4 py-2 text-sm font-medium bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-500 hover:to-blue-600 disabled:from-neutral-700 disabled:to-neutral-800 disabled:cursor-not-allowed rounded-lg shadow-lg hover:shadow-blue-500/50 transition-all duration-200 flex items-center gap-2"),i(m,"class","flex items-start justify-between mb-5"),i(le,"class","text-xs font-medium text-neutral-400 uppercase tracking-wide"),i(_e,"class","text-sm font-semibold text-white"),i(H,"class","flex items-center justify-between py-2.5 px-3 bg-neutral-900/50 rounded-lg border border-neutral-700/50"),i(J,"class","text-xs font-medium text-neutral-400 uppercase tracking-wide"),i(ae,"class","text-sm font-semibold text-blue-400"),i(de,"class","flex items-center justify-between py-2.5 px-3 bg-neutral-900/50 rounded-lg border border-neutral-700/50"),i(xe,"class","text-xs font-medium text-neutral-400 uppercase tracking-wide"),i(se,"class","text-sm font-semibold text-emerald-400"),i(K,"class","flex items-center justify-between py-2.5 px-3 bg-neutral-900/50 rounded-lg border border-neutral-700/50"),i(E,"class","space-y-3.5"),i(e,"class","group relative bg-gradient-to-br from-neutral-800 to-neutral-900 border border-neutral-700 rounded-xl p-6 shadow-lg hover:shadow-xl hover:border-blue-500/50 hover:scale-[1.02] transition-all duration-300")},m(T,k){Z(T,e,k),t(e,s),t(e,a),t(e,m),t(m,n),t(n,f),t(f,_),t(n,h),t(n,D),t(D,C),t(D,$),t(D,q),t(m,ee),t(m,x),O.m(x,null),t(x,te),t(x,j),t(e,re),t(e,E),t(E,H),t(H,le),t(H,Ue),t(H,_e),t(_e,ie),t(E,Ke),t(E,de),t(de,J),t(de,je),t(de,ae),t(ae,Ce),t(E,Se),t(E,K),t(K,xe),t(K,Y),t(K,se),Oe(pe,se,null),t(E,Re),S&&S.m(E,null),t(e,be),Q=!0,Be||(ye=ht(x,"click",lt),Be=!0)},p(T,k){l=T,(!Q||k&2&&r!==(r="absolute top-4 right-4 w-3 h-3 rounded-full "+(l[14].enabled?"bg-green-500 shadow-lg shadow-green-500/50":"bg-neutral-500")+" animate-pulse"))&&i(s,"class",r),(!Q||k&2)&&o!==(o=l[14].name+"")&&De(_,o),(!Q||k&2&&R!==(R="w-1.5 h-1.5 rounded-full "+(l[14].enabled?"bg-green-400":"bg-neutral-400")))&&i(C,"class",R),(!Q||k&2)&&V!==(V=l[14].enabled?"Aktiv":"Inaktiv")&&De(q,V),(!Q||k&2&&U!==(U="inline-flex items-center gap-2 text-xs font-medium px-2.5 py-1 rounded-full "+(l[14].enabled?"bg-green-500/20 text-green-400 border border-green-500/30":"bg-neutral-700 text-neutral-400 border border-neutral-600")))&&i(D,"class",U),Ee!==(Ee=ge(l,k))&&(O.d(1),O=Ee(l),O&&(O.c(),O.m(x,te))),(!Q||k&34&&I!==(I=!l[14].enabled||l[5].has(l[14].name)))&&(x.disabled=I),(!Q||k&2)&&N!==(N=(l[14].model||"N/A")+"")&&De(ie,N),(!Q||k&2)&&he!==(he=l[14].total_runs+"")&&De(Ce,he);const we={};k&2&&(we.cost=l[14].total_cost_usd),pe.$set(we),l[14].last_run_at?S?S.p(l,k):(S=$t(l),S.c(),S.m(E,null)):S&&(S.d(1),S=null)},i(T){Q||(F(pe.$$.fragment,T),Q=!0)},o(T){X(pe.$$.fragment,T),Q=!1},d(T){T&&c(e),O.d(),qe(pe),S&&S.d(),Be=!1,ye()}}}function At(l){let e,s,r=l[11].agent+"",a,m,n,f,o,_,h,D,C,R,$,V,q=dt(l[11].created_at)+"",U,ee,x,M,te;f=new Nt({props:{status:l[11].status==="success"?"success":l[11].status==="error"?"error":"running"}}),h=new Mt({props:{tokens:l[11].total_tokens}}),R=new it({props:{cost:l[11].cost_usd,showDetail:!1}});function j(){return l[8](l[11])}return{c(){e=u("tr"),s=u("td"),a=ve(r),m=g(),n=u("td"),Fe(f.$$.fragment),o=g(),_=u("td"),Fe(h.$$.fragment),D=g(),C=u("td"),Fe(R.$$.fragment),$=g(),V=u("td"),U=ve(q),ee=g(),this.h()},l(y){e=d(y,"TR",{class:!0});var I=p(e);s=d(I,"TD",{class:!0});var re=p(s);a=fe(re,r),re.forEach(c),m=b(I),n=d(I,"TD",{class:!0});var E=p(n);ze(f.$$.fragment,E),E.forEach(c),o=b(I),_=d(I,"TD",{class:!0});var H=p(_);ze(h.$$.fragment,H),H.forEach(c),D=b(I),C=d(I,"TD",{class:!0});var le=p(C);ze(R.$$.fragment,le),le.forEach(c),$=b(I),V=d(I,"TD",{class:!0});var ne=p(V);U=fe(ne,q),ne.forEach(c),ee=b(I),I.forEach(c),this.h()},h(){i(s,"class","px-6 py-4 font-bold text-white group-hover:text-blue-400 transition-colors"),i(n,"class","px-6 py-4"),i(_,"class","px-6 py-4 font-semibold text-blue-400"),i(C,"class","px-6 py-4 font-semibold text-emerald-400"),i(V,"class","px-6 py-4 text-neutral-400 text-xs font-medium"),i(e,"class","group hover:bg-gradient-to-r hover:from-blue-900/20 hover:to-transparent cursor-pointer transition-all duration-200 "+(l[13]%2===0?"bg-neutral-900/30":"bg-transparent"))},m(y,I){Z(y,e,I),t(e,s),t(s,a),t(e,m),t(e,n),Oe(f,n,null),t(e,o),t(e,_),Oe(h,_,null),t(e,D),t(e,C),Oe(R,C,null),t(e,$),t(e,V),t(V,U),t(e,ee),x=!0,M||(te=ht(e,"click",j),M=!0)},p(y,I){l=y,(!x||I&4)&&r!==(r=l[11].agent+"")&&De(a,r);const re={};I&4&&(re.status=l[11].status==="success"?"success":l[11].status==="error"?"error":"running"),f.$set(re);const E={};I&4&&(E.tokens=l[11].total_tokens),h.$set(E);const H={};I&4&&(H.cost=l[11].cost_usd),R.$set(H),(!x||I&4)&&q!==(q=dt(l[11].created_at)+"")&&De(U,q)},i(y){x||(F(f.$$.fragment,y),F(h.$$.fragment,y),F(R.$$.fragment,y),x=!0)},o(y){X(f.$$.fragment,y),X(h.$$.fragment,y),X(R.$$.fragment,y),x=!1},d(y){y&&c(e),qe(f),qe(h),qe(R),M=!1,te()}}}function Kt(l){let e,s,r,a,m,n=l[4]&&Et(l);const f=[qt,Pt],o=[];function _(h,D){return h[3]?0:h[0]?1:-1}return~(r=_(l))&&(a=o[r]=f[r](l)),{c(){e=u("div"),n&&n.c(),s=g(),a&&a.c(),this.h()},l(h){e=d(h,"DIV",{class:!0});var D=p(e);n&&n.l(D),s=b(D),a&&a.l(D),D.forEach(c),this.h()},h(){i(e,"class","flex-1 overflow-auto px-8 pb-8")},m(h,D){Z(h,e,D),n&&n.m(e,null),t(e,s),~r&&o[r].m(e,null),m=!0},p(h,[D]){h[4]?n?n.p(h,D):(n=Et(h),n.c(),n.m(e,s)):n&&(n.d(1),n=null);let C=r;r=_(h),r===C?~r&&o[r].p(h,D):(a&&(at(),X(o[C],1,1,()=>{o[C]=null}),nt()),~r?(a=o[r],a?a.p(h,D):(a=o[r]=f[r](h),a.c()),F(a,1),a.m(e,null)):a=null)},i(h){m||(F(a),m=!0)},o(h){X(a),m=!1},d(h){h&&c(e),n&&n.d(),~r&&o[r].d()}}}function dt(l){const e=new Date(l),r=Math.floor((new Date().getTime()-e.getTime())/1e3);return r<60?`${r}s ago`:r<3600?`${Math.floor(r/60)}m ago`:r<86400?`${Math.floor(r/3600)}h ago`:e.toLocaleDateString()}function Yt(l,e,s){let r=null,a=[],m=[],n=!0,f=null,o=new Set;async function _(){var $;try{const V=a;s(3,n=!0),s(4,f=null);const[q,U,ee,x]=await Promise.all([tt.getDashboard(7),tt.getAgents().then(M=>M.agents),tt.getConfigAgents(),tt.getRuns({days:7}).then(M=>M.runs.slice(0,5))]);s(0,r=q),s(2,m=x),($=ee.parsed)!=null&&$.agents?s(1,a=Object.entries(ee.parsed.agents).map(([M,te])=>{const j=U.find(y=>y.name===M);return{name:M,enabled:te.enabled??!1,model:te.model||"N/A",schedule:te.schedule||"N/A",total_runs:(j==null?void 0:j.total_runs)||0,total_cost_usd:(j==null?void 0:j.total_cost_usd)||0,last_run_at:j==null?void 0:j.last_run_at}})):s(1,a=U),V.length,s(3,n=!1)}catch(V){s(4,f=V instanceof Error?V.message:"Failed to load dashboard"),s(3,n=!1)}}async function h($){try{o.add($),s(5,o),s(4,f=null),await tt.triggerAgent($),setTimeout(()=>{_(),o.delete($),s(5,o)},2e3)}catch(V){s(4,f=V instanceof Error?V.message:"Failed to trigger agent"),o.delete($),s(5,o)}}return Bt(()=>{_();const $=setInterval(_,3e4);return()=>clearInterval($)}),[r,a,m,n,f,o,h,$=>h($.name),$=>yt(`/coalescence/runs/${$.id}`),()=>yt("/coalescence/runs")]}class ll extends jt{constructor(e){super(),St(this,e,Yt,Kt,Rt,{})}}export{ll as component};
